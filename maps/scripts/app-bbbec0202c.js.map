{"version":3,"sources":["scripts/app-bbbec0202c.js"],"names":["angular","module","config","$mdThemingProvider","theme","primaryPalette","accentPalette","Website","$http","APP_INFO","$localStorage","getAbout","get","ID","then","results","data","getStoreSettings","navbar","footer","home","directory","settings","storeData","factory","$inject","Products","all","allByVariantName","variantName","featured","Personalization","styles","titles","color","menu","background-color","service","Order","ngCart","createDeliveryOrder","customer_id","total","currency","created_by","method","url","company_id","subtotal","getSubTotal","discount","shipping","getShipping","tax","getTax","items","getCustomItems","headers","Accept","Content-Type","createPickupOrder","_mailReceipt","order_id","post","_mailReceiptWithTracking","_createShippingInvoice","order","shipment_id","_saveAsPaid","_saveAsDraft","_applyDiscount","promoCode","mailReceipt","mailReceiptWithTracking","createShippingInvoice","applyDiscount","saveAsPaid","saveAsDraft","MetaTags","title","name","setTitle","newTitle","Mail","$location","errorLog","err","absUrl","split","customError","status","text","message","company","source","ftPurchaseParameterLog","params","applicationName","applicationPassword","chargeDescription","transactionCurrency","transactionAmount","bacPurchaseParameterLog","temp","address","expMonth","expYear","prehash","hash","timestamp","purchase","bac","key_id","processor_id","state","website_url","ImageService","cloudObj","upload_preset","tags","context","getConfiguration","splitImage","arrUrl","i","length","public_api","Delivery","$state","NgMap","$rootScope","currentLocation","options","enableHighAccuracy","navigator","geolocation","getCurrentPosition","pos","position","google","maps","LatLng","coords","latitude","longitude","destination_coords","lat","lng","getMap","map","setCenter","clickedMap","getLocation","$emit","error","alert","pickup_in_store","mapClick","e","parseFloat","latLng","placeLookup","place","this","getPlace","geometry","location","dragDestination","geocoder","Geocoder","latlng","geocode","GeocoderStatus","OK","country","formatted_address","address_components","long_name","city","address2","calculateShipping","toggleDelivery","setShipping","delivery_type","changeDeliveryCompany","current_fare","getDistance","store_fares","id","selected_fare","fare_type","distanceBasedPricing","weightBasedPricing","base_price","distance","console","log","fare","base_km","base_metric","additional_km","additional_metric","additional_km_price","additional_metric_price","price","Math","ceil","base_weight","additional_weight","additional_weight_price","weight","getTotalWeight","callback","response","rows","elements","value","origin","destination","DistanceMatrixService","getDistanceMatrix","origins","destinations","travelMode","avoidHighways","avoidTolls","broadcastShippingCost","scope","handler","$on","syncCustomerAddress","customer_address","zip_code","note","syncBillingAddress","billing_information","zipCode","getSettings","getDeliveryFares","calculateExportShipping","continent","billing_address","customer","full_name","email","phone","subscribed_newsletter","shipmentUpdates","last_update","phoneNumber","Customer","signUp","addAddress","Countries","list","Checkout","$mdDialog","$timeout","md5","discount_code","valid","amount","card","number","expiry","cvc","card_options","debug","formatting","container","card_options_2","two_co","seller_id","publishable_key","token","progress","loading","error_message","payment_method","checkStock","outOfStockVariants","cartItems","$cart","_quantity","_data","stock","swal","go","verifyStock","requestProductVariantStock","_id","itemStock","_stock","verifyData","international_shipping","address_complete","customer_complete","billing_address_complete","createCustomer","round","Date","getTime","totalCost","toFixed","createHash","showPrompt","ev","confirm","prompt","ariaLabel","targetEvent","ok","cancel","show","result","verifyDiscount","promo","cart","type","pretotal","exclude_discount","getToken","sellerID","twoCOPublishableKey","makePayment","exp_month","parseInt","substring","exp_year","args","sellerId","publishableKey","ccNo","cvv","TCO","requestToken","successCallback","errorCallback","buildBillingInformation","errorCode","createCustomerAddress","buildOrder","chargeCard","billingInfo","sendConfirmationEmail","updateStoreStock","sendConfirmationEmailWithTracking","Message","empty","createOrder","createOrderWithDelivery","temp_total","productVariantId","addOrderNote","hasRefId","refId","comments","paidTime","transactionRefId","chargeCardUsingFtTechnologies","paymentURL","gateway","isApproved","retrievalRefNo","reasonText","errorDebugBAC","Catalog","getProducts","getMoreProducts","load_count","page_size","getDiscountProducts","getCategories","getFeaturedProducts","productExpand","product_id","getCollections","getProductTypesByCollection","collection","setStoreData","Blog","getPosts","getPostDetails","TwoCheckoutService","_getToken","_createPayment","createPayment","acmeNavbar","NavbarController","$scope","$mdSidenav","$log","init","vm","companyId","collections","getTotalItems","debounce","func","wait","timer","Array","prototype","slice","call","arguments","undefined","apply","buildDelayedToggler","navID","toggle","buildToggler","event","toggleLeft","toggleRight","isOpenRight","isOpen","originatorEv","openMenu","$mdOpenMenu","notificationsEnabled","toggleNotifications","redial","clickOutsideToClose","parent","textContent","directive","restrict","templateUrl","creationDate","controller","controllerAs","bindToController","acmeMalarkey","malarkey","linkFunc","el","attr","watcher","typist","typeSpeed","deleteSpeed","pauseDelay","loop","postfix","addClass","forEach","extraValues","pause","$watch","contributors","contributor","login","MalarkeyController","githubContributor","activate","getContributors","info","template","link","limit","getContributorsComplete","getContributorsFailed","toJson","apiHost","acmeFooter","FooterController","logo_url","logoUrl","chat","facebook","whatsapp","company_logo_url","greeting_message","longMessage","call_to_action","shortMessage","button_color","proto","document","protocol","host","s","createElement","async","src","onload","WhWidgetSendButton","x","getElementsByTagName","parentNode","insertBefore","selectedMode","selectedDirection","ContactController","delivered","contact","sendMessage","company_email","company_name","customer_email","customer_name","CatalogController","$stateParams","selectedCategory","productType","catalog","busy","itemsDisplayed","addMoreItems","setSizeFilter","loader","categories","sizeFilter","setCategoryFilter","ProductController","option1","option2","option3","outOfStock","product","variants","trim","quantity","push","splice","values","k","j","active","setActive","index","images","share","window","open","relative_url","PageHeaderController","Page","pixelId","provider","$get","run","ngCartItem","store","$save","isObject","$restore","taxRate","addItem","inCart","getItemById","setQuantity","$broadcast","newItem","itemId","getCart","build","item","getId","setWeight","getWeight","setTaxRate","getTaxRate","setCart","getItems","oldItems","newItems","product_variant_id","short_description","_name","selectedVariant","unit_price","_price","count","getQuantity","getTotalUniqueItems","getTotal","removeItem","removeItemById","localStorage","isEmpty","toObject","subTotal","storedCart","_self","set","JSON","stringify","setId","setName","setPrice","setData","getName","priceFloat","getPrice","relative","quantityInt","getData","$window","key","fromJson","parse","val","quantityMax","transclude","element","attrs","q","qtyOpt","fulfilmentProvider","checkout","setService","setSettings","success","statusCode","$injector","_obj","$q","deferred","defer","resolve","promise","MainController","$sce","widgetApprovedUrl","instagram","companyName","featuredProducts","trustAsResourceUrl","secondaryBodyDescription","LeftCtrl","$cookies","close","goTo","tabName","collection_title","cremacion","preguntas","proveedor","discounts","LocatorController","selected_store","center","store_locations","locations","showInfo","centerMap","showInfoWindow","coordinates","FAQController","faq","group","questions","question","answer","DiscountController","category","CollectionController","CheckoutController","has_international_shipping","loading_location","selected_method","use_ft_payment","countries","country_selected","months","years","setDefaultPaymentMethod","loadPubKey","toggleExport","setPaymentMethod","payWithFtTechnologies","selectCardAsPaymentMethod","submitBAC","charge_tax","tax_rate","submitPaypal","payment_options","twocheckout","fttechnologies","bacsanjose","paypal","banktransfer","setTimeout","getElementById","submit","order_number","primaryAccountNumber","expirationMonth","expirationYear","verificationValue","$apply","ConfirmationController","response_text","response_code","search","orderid","responsetext","f","exports","define","amd","g","global","self","t","n","r","o","u","a","require","Error","code","l","1","_dereq_","./lib/extend","2","extend","copy","copy_is_array","clone","target","deep","is","fn","array","version","3","symbolValueOf","objProto","Object","owns","hasOwnProperty","toStr","toString","Symbol","valueOf","isActualNaN","NON_HOST_TYPES","boolean","string","base64Regex","hexRegex","defined","equal","other","hosted","instance","constructor","nil","undef","isStandardArguments","isOldArguments","arraylike","object","callee","isArray","bool","isFinite","Boolean","Number","date","HTMLElement","nodeType","isAlert","infinite","Infinity","decimal","divisibleBy","isDividendInfinite","isDivisorInfinite","isNonZeroNumber","integer","maximum","others","TypeError","len","minimum","nan","even","odd","ge","gt","le","lt","within","start","finish","isAnyInfinite","setInterval","regexp","base64","test","hex","symbol","4","Payment","QJ","cardFromNumber","cardFromType","cards","defaultFormat","formatBackCardNumber","formatBackExpiry","formatCardNumber","formatExpiry","formatForwardExpiry","formatForwardSlash","formatMonthExpiry","hasTextSelected","luhnCheck","reFormatCardNumber","restrictCVC","restrictCardNumber","restrictCombinedExpiry","restrictExpiry","restrictMonthExpiry","restrictNumeric","restrictYearExpiry","setCardType","indexOf","pattern","format","cvcLength","luhn","num","replace","digit","digits","sum","reverse","ref","selectionStart","selectionEnd","selection","createRange","_this","fns","re","upperLength","String","fromCharCode","which","preventDefault","meta","slash","metaKey","input","ctrlKey","allTypes","cardType","hasClass","removeClass","join","toggleClass","trigger","cardExpiryVal","month","prefix","year","getFullYear","validateCardNumber","validateCardExpiry","currentTime","setMonth","getMonth","validateCardCVC","ref1","groups","match","exec","shift","on","formatCardCVC","formatCardExpiry","formatCardExpiryMultiple","getCardArray","setCardArray","cardArray","addToCardArray","cardObject","removeFromCardArray","qj/src/qj.coffee","5","rreturn","rtrim","selector","isDOMElement","querySelectorAll","nodeName","ret","eventObject","returnValue","normalizeEvent","original","srcElement","originalEvent","detail","charCode","keyCode","eventName","len1","multEventName","originalCallback","addEventListener","attachEvent","className","classList","add","contains","RegExp","cls","remove","append","toAppend","insertAdjacentHTML","find","NodeList","CustomEvent","createEvent","initCustomEvent","initEvent","dispatchEvent","6","cssify","7","css","customDocument","doc","createStyleSheet","sheet","cssText","ownerNode","head","style","styleSheet","appendChild","createTextNode","byUrl","rel","href","8","Card","payment","opts","defaults","form","$el","$container","render","attachHandlers","handleInitialPlaceholders","bindVal","cardTemplate","tpl","str","cardTypes","formSelectors","numberInput","expiryInput","cvcInput","nameInput","cardSelectors","cardContainer","numberDisplay","expiryDisplay","cvcDisplay","nameDisplay","messages","validDate","monthYear","placeholders","classes","invalid","$cardContainer","baseWidth","obj","ua","$numberInput","$cvcInput","$expiryInput","width","clientWidth","transform","userAgent","toLowerCase","$card","expiryFilters","$numberDisplay","fill","filters","validToggler","handle","$expiryDisplay","$cvcDisplay","$nameInput","$nameDisplay","unshift","handlers","validatorName","isValid","objVal","$in","$out","toggleValidClass","flipCard","unflipCard","out","joiner","outDefaults","elem","filter","outEl","outVal","../scss/card.scss","node.extend","payment/src/payment","9","sassify","hasRequire","$compile","attributes","cardCtrl","defaultPlaceholders","defaultMessages","defaultOptions","ngModel","ctrls","newVal","oldVal","evt","BlogController","posts","BlogPostController","post_id","myInterval","noWrapSlides","AboutController","about","TwoCheckoutController","cardOptions","TwoCO_public","validateCard","btnPay","proceedToCheckout","disabled","storePickup","globalAddress","globalCustomer","errorMsg","runBlock","Analytics","app","toState","toParams","fromState","fromParams","externalUrl","routerConfig","$stateProvider","$urlRouterProvider","$locationProvider","otherwise","html5Mode","$logProvider","toastrConfig","$qProvider","AnalyticsProvider","setAccount","trackPages","trackUrlParams","setPageEvent","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","errorOnUnhandledRejections","$templateCache","put"],"mappings":"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","file":"scripts/app-bbbec0202c.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('angular', ['ngAnimate',\n    'ngCookies',\n    'ngMessages',\n    'ngAria',\n    'ui.router',\n    'ui.bootstrap',\n    'ui.select', \n    'ngSanitize',\n    'toastr',\n    'ngMaterial',\n    'ui.event',\n    'ngMap',\n    'ngCart',\n    'ng-mfb',\n    'ngStorage',\n    'gavruk.card',\n    'angular-md5',\n    'textAngular',\n    'slick',\n    'infinite-scroll',\n    'angulartics', \n    'angulartics.facebook.pixel',\n    'ui.scrollpoint',\n    'angular-google-analytics',\n    'angular.filter']).config(function($mdThemingProvider) {\n    $mdThemingProvider.theme(\"custom\").primaryPalette(\"teal\").accentPalette(\"deep-orange\");\n  });\n})();\n\n(function(){\n  'use strict';\n    angular\n        .module('angular')\n        .factory('Website', Website);\n        Website.$inject = ['$http', 'APP_INFO', '$localStorage'];\n        function Website($http, APP_INFO, $localStorage){\n\n            var getAbout = function () {\n                return $http.get('https://central-api.madebyblume.com/v1/website/about?company_id=' + APP_INFO.ID).then(function (results) {\n                    return results.data;\n                });\n            };\n\n            var getStoreSettings = function () {\n                return $http.get('https://central-api.madebyblume.com/v1/website/store?company_id=' + APP_INFO.ID).then(function (results) {\n                    return results.data;\n                });\n            };\n\n            var navbar = function(){\n                return $http.get('https://blumewebsitefunctions.azurewebsites.net/api/WebsiteRequestNavbar?code=a0J2AWiAMgVCbjRX3EYuEnuMXnRFWFVNFKjhwo0t4UfU4xWfeuSkBA==&companyId=' + APP_INFO.ID).then(function (results) {\n                    return results.data;\n                });\n            }\n\n            var footer = function(){\n                return $http.get('https://blumewebsitefunctions.azurewebsites.net/api/WebsiteRequestFooter?code=9cRQwO3XSPsKxjor8SrV0YBF9Fwja2tfCWi23WdqR/yapQtUlJPnVQ==&companyId=' + APP_INFO.ID).then(function (results) {\n                    return results.data;\n                });\n            }\n\n            var home = function(){\n                return $http.get('https://blumewebsitefunctions.azurewebsites.net/api/WebsiteRequestHome?code=rbR5Dc4ySxhh58I2QVQO3zkEjQpdaNfEBmtc6slMjmC4FX5jR0pDyQ==&companyId=' + APP_INFO.ID + '&companyName=' + APP_INFO.directory).then(function (results) {\n                    return results.data;\n                });\n            }\n\n            var settings = function () {\n                return $http.get(\"https://blumewebsitefunctions.azurewebsites.net/api/WebsiteRequestSettings?code=iGVGGgmLBYtRcMnQM1u/HBaQSmcav1gHpaffmSuRJKkNrWuTEMICnw==&companyId=\" + APP_INFO.ID).then(function (results) {\n                  $localStorage.storeData = results.data;\n                  return results.data;\n                });\n            }\n\n            return {\n              getAbout: getAbout,\n              getStoreSettings: getStoreSettings,\n              navbar: navbar,\n              footer: footer,\n              home: home,\n              settings: settings\n            }\n        }\n})();\n\n(function(){\n  'use strict';\n    angular\n        .module('angular')\n        .factory('Products', Products);\n        Products.$inject = ['$http', 'APP_INFO'];\n        function Products($http, APP_INFO){\n\n          var all = function () {\n              return $http.get(\"https://blumewebsitefunctions.azurewebsites.net/api/WebsiteRequestProducts?code=D9wCpljr6pIkVsDqMz7TAM2DHHzXTO3nGW1Hmw4tatapVWQ9jgoqSw==&companyId=\" + APP_INFO.ID).then(function (results) {\n                  return results.data;\n              });\n          }\n\n          var allByVariantName = function (variantName) {\n              return $http.get(\"https://blumewebsitefunctions.azurewebsites.net/api/WebsiteRequestProductsByVariantName?code=maVjSbWTapFjsg3Yhiz9EKoVyNKw8O4QNBb1yNRvdeS0H5ZGFMLt3w==&companyId=\" + APP_INFO.ID + \"&variantName=\" + variantName).then(function (results) {\n                  return results.data;\n              });\n          }\n\n          var featured = function () {\n              return $http.get(\"https://blumewebsitefunctions.azurewebsites.net/api/WebsiteRequestFeaturedProducts?code=JfwyH9oLdKg14Ss7CiH6tDaa5X0MNl0CQxSYNcDw2zch3KFRDHZW8g==&companyId=\" + APP_INFO.ID).then(function (results) {\n                  return results.data;\n              });\n          }\n\n            return {\n              all: all,\n              allByVariantName: allByVariantName,\n              featured: featured\n            }\n        }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .service('Personalization', Personalization);\n\n    Personalization.$inject = ['$http','APP_INFO'];\n    function Personalization($http,APP_INFO) {\n\n        var serviceBase = 'https://central-api.madebyblume.com/';\n        var Personalization = {};\n\n\n\n        var styles = {\n            titles: {\n              'color': 'black'\n            },\n            menu: {\n              'background-color': 'white'\n            }\n          }\n\n        Personalization.styles = styles;\n\n        return Personalization;\n\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .factory('Order', Order);\n\n    Order.$inject = ['$http', 'ngCart','APP_INFO', '$localStorage'];\n        function Order($http, ngCart,APP_INFO, $localStorage){\n\n          var createDeliveryOrder = function(customer_id, total){\n\n            var currency = $localStorage.storeData.currency;\n            var created_by = \"\";\n            if(currency == 'USD'){\n              created_by = \"Website\"\n            } else {\n              created_by = \"Website\" + currency;\n            }\n\n            return $http({\n                  method: \"POST\",\n                  url: \"https://central-api.madebyblume.com/v1/website/order/deliver\",\n                  data: {\n                      company_id: APP_INFO.ID,\n                      customer_id: customer_id,\n                      subtotal: ngCart.getSubTotal(),\n                      discount: $localStorage.discount,\n                      shipping: ngCart.getShipping(),\n                      tax: ngCart.getTax(),\n                      total: total,\n                      created_by: created_by,\n                      items: ngCart.getCustomItems()\n                  },\n                  headers: {\n                      'Accept': 'application/json',\n                      'Content-Type': 'application/json'\n                  }\n              })\n          };\n\n          var createDeliveryPayPal = function(customer_id){\n\n            return $http({\n                  method: \"POST\",\n                  url: \"https://central-api.madebyblume.com/v1/website/paypal/deliver\",\n                  data: {\n                      company_id: APP_INFO.ID,\n                      customer_id: customer_id,\n                      subtotal: ngCart.getSubTotal(),\n                      discount: $localStorage.discount,\n                      shipping: ngCart.getShipping(),\n                      tax: ngCart.getTax(),\n                      total: ngCart.totalCost(),\n                      items: ngCart.getCustomItems()\n                  },\n                  headers: {\n                      'Accept': 'application/json',\n                      'Content-Type': 'application/json'\n                  }\n              })\n          };\n\n          var createPickupOrder = function(customer_id, total){\n\n            var currency = $localStorage.storeData.currency;\n            var created_by = \"\";\n            if(currency == 'USD'){\n              created_by = \"Website\"\n            } else {\n              created_by = \"Website\" + currency;\n            }\n\n              return $http({\n                  method: \"POST\",\n                  url: \"https://central-api.madebyblume.com/v1/website/order/pickup\",\n                  data: {\n                      company_id: APP_INFO.ID,\n                      customer_id: customer_id,\n                      subtotal: ngCart.getSubTotal(),\n                      discount: $localStorage.discount,\n                      shipping: ngCart.getShipping(),\n                      tax: ngCart.getTax(),\n                      total: total,\n                      created_by: created_by,\n                      items: ngCart.getCustomItems()\n                  },\n                  headers: {\n                      'Accept': 'application/json',\n                      'Content-Type': 'application/json'\n                  }\n              })\n          }\n\n          var createPickupPayPal = function(customer_id){\n\n              return $http({\n                  method: \"POST\",\n                  url: \"https://central-api.madebyblume.com/v1/website/paypal/pickup\",\n                  data: {\n                      company_id: APP_INFO.ID,\n                      customer_id: customer_id,\n                      subtotal: ngCart.getSubTotal(),\n                      discount: $localStorage.discount,\n                      shipping: ngCart.getShipping(),\n                      tax: ngCart.getTax(),\n                      total: ngCart.totalCost(),\n                      items: ngCart.getCustomItems()\n                  },\n                  headers: {\n                      'Accept': 'application/json',\n                      'Content-Type': 'application/json'\n                  }\n              })\n          }\n\n            var _mailReceipt = function (order_id) {\n     \n                return $http.post('https://central-api.madebyblume.com/v1/mail/order?order_id=' + order_id).then(function (results) {\n                    return results;\n                });\n            };\n\n            var _mailReceiptWithTracking = function (order_id) {\n     \n                return $http.post('https://central-api.madebyblume.com/v1/mail/order/delivery?order_id=' + order_id).then(function (results) {\n                    return results;\n                });\n            };\n\n            var _createShippingInvoice = function (order) {\n     \n                return $http.post('https://central-api.madebyblume.com/v1/website/shipping/gopato?order_id=' + order.order_id + '&shipment_id=' + order.shipment_id).then(function (results) {\n                    return results;\n                });\n            };\n\n            var _saveAsPaid = function (order_id) {\n\n                return $http.post('https://central-api.madebyblume.com/v1/orders/pay?order_id=' + order_id).then(function (results) {\n                    return results;\n                });\n            };\n\n            var _saveAsDraft = function (order_id) {\n\n                return $http.post('https://central-api.madebyblume.com/v1/orders/save-draft?order_id=' + order_id).then(function (results) {\n                    return results;\n                });\n            };\n\n            var _applyDiscount = function (promoCode) {\n\n                return $http.get('https://central-api.madebyblume.com/v1/company/find/promocode?word=' + promoCode + '&company_id=' + APP_INFO.ID).then(function (results) {\n                    return results;\n                });\n            };\n\n            return {\n                createDeliveryOrder: createDeliveryOrder,\n                createPickupOrder: createPickupOrder,\n                mailReceipt: _mailReceipt,\n                mailReceiptWithTracking: _mailReceiptWithTracking,\n                createShippingInvoice: _createShippingInvoice,\n                applyDiscount: _applyDiscount,\n                saveAsPaid: _saveAsPaid,\n                saveAsDraft: _saveAsDraft\n            }\n\n        }\n\n})();\n\n(function(){\n  'use strict';\n    angular\n        .module('angular')\n        .service('MetaTags', MetaTags);\n        MetaTags.$inject = ['$http', 'APP_INFO'];\n        function MetaTags($http, APP_INFO){\n\n            var title = APP_INFO.name;\n\t\t      return {\n\t\t        title: function() { return title; },\n\t\t        setTitle: function(newTitle) { title = newTitle; }\n\t\t      };\n        }\n})();\n\n(function(){\n  'use strict';\n    angular\n        .module('angular')\n        .factory('Mail', Mail);\n        Mail.$inject = ['$http', 'APP_INFO', '$location'];\n        function Mail($http, APP_INFO, $location){\n\n            var errorLog = function (err) {\n\n                var url = $location.absUrl().split('?')[0];\n\n                var customError = {\n                    status: err.status,\n                    text: err.data.message,\n                    url: err.config.url,\n                    company: APP_INFO.name,\n                    source: url\n                }\n\n                return $http.post('https://blumewebsitefunctions.azurewebsites.net/api/WebsiteSendErrorLog?code=H5jgabzIcbW3qxxcwjxa1AVjyq6qhtHukwv3apyxCaYPiQWzzGsqkQ==', customError).then(function (results) {\n                    return results.data;\n                });\n            };\n\n            var ftPurchaseParameterLog = function (params) {\n\n                var url = $location.absUrl().split('?')[0];\n\n                var text = \"\";\n                text += \"Application name: \" + params.applicationName + \"<br />\";\n                text += \"Application password: \" + params.applicationPassword + \"<br />\";\n                text += \"Charge description: \" + params.chargeDescription + \"<br />\";\n                text += \"Transaction currency: \" + params.transactionCurrency + \"<br />\";\n                text += \"Transaction amount: \" + params.transactionAmount + \"<br />\";\n\n                var customError = {\n                    status: 0,\n                    text: text,\n                    url: \"Parameters sent\",\n                    company: APP_INFO.name,\n                    source: url\n                }\n\n                return $http.post('https://blumewebsitefunctions.azurewebsites.net/api/WebsiteSendParameterLog?code=wJVSJ0pdFGF1iudOXDTdiUdPvpwbIOc1JKK7wvMRt07vXVfaUt7Z3A==', customError).then(function (results) {\n                    return results.data;\n                });\n            };\n\n            var bacPurchaseParameterLog = function (temp, total, address, expMonth, expYear) {\n\n                var url = $location.absUrl().split('?')[0];\n\n                var text = \"\";\n                text += \"Prehash: \" + temp.prehash + \"<br />\";\n                text += \"Hash: \" + temp.hash + \"<br />\";\n                text += \"Timestamp: \" + temp.timestamp + \"<br />\";\n                text += \"Total: \" + total + \"<br />\";\n                text += \"Type: sale <br />\";\n                text += \"Order Id: \" + temp.purchase.order_id + \"<br />\";\n                text += \"Key id: \" + APP_INFO.bac.key_id + \"<br />\";\n                text += \"Processor id: \" + APP_INFO.bac.processor_id + \"<br />\";\n                text += \"Address: \" + address.state + \"<br />\";\n                text += \"Redirect: \" + APP_INFO.website_url + \"<br />\";\n                text += \"Exp Date: \" + expMonth + \" / \" + expYear + \"<br />\";\n\n                var customError = {\n                    status: 0,\n                    text: text,\n                    url: \"BAC Parameters logged\",\n                    company: APP_INFO.name,\n                    source: url\n                }\n\n                return $http.post('https://blumewebsitefunctions.azurewebsites.net/api/WebsiteSendParameterLog?code=wJVSJ0pdFGF1iudOXDTdiUdPvpwbIOc1JKK7wvMRt07vXVfaUt7Z3A==', customError).then(function (results) {\n                    return results.data;\n                });\n            };\n\n            return {\n              errorLog: errorLog,\n              ftPurchaseParameterLog: ftPurchaseParameterLog,\n              bacPurchaseParameterLog: bacPurchaseParameterLog\n            }\n        }\n})();\n\n(function(){\n  'use strict';\n  angular\n    .module('angular')\n    .service('ImageService', ImageService);\n    function ImageService(){\n      //Configuracion del repositorio de la imagen\n      var cloudObj = {\n        url: 'https://api.cloudinary.com/v1_1/maraicah/upload',\n        data : {\n          upload_preset : 'roschisp',\n          tags : 'Any',\n          context : 'photo=test'\n        }\n      }\n      //Metodo q devuelve la configuracion del repositorio de la imagen\n      var getConfiguration = function(){\n        return cloudObj;\n      }\n      //Metodo encargado de recortar la imagen\n      var splitImage = function(url){\n        var arrUrl = url.split('/');\n        url = '';\n        for(var i=0; i<arrUrl.length; i++){\n          if(i == 6){\n            url += 'w_225,h_200/'\n          }\n          if(i == 7) {\n            url += arrUrl[i];\n          } else {\n            url += arrUrl[i] + '/';\n          }\n        }\n        return url;\n      }\n      //API publico\n      var public_api = {\n        getConfiguration : getConfiguration,\n        splitImage : splitImage\n      };\n      return public_api;\n    }\n})();\n\n(function(){\n  'use strict';\n    angular\n        .module('angular')\n        .factory('Delivery', Delivery);\n        Delivery.$inject = ['$http', '$state', 'NgMap', 'ngCart', '$rootScope', 'APP_INFO','$localStorage'];\n        function Delivery($http, $state, NgMap, ngCart, $rootScope, APP_INFO,$localStorage){\n\n          var clickedMap = false;\n          var settings = {};\n          var pickup_in_store = false;\n\n          var mapClick = function (e){\n              destination_coords.lat = parseFloat(e.latLng.lat());\n              destination_coords.lng = parseFloat(e.latLng.lng());\n              clickedMap = true;\n              getLocation(destination_coords.lat, destination_coords.lng);\n              $rootScope.$emit('notifying-service-event');\n          }\n\n          var placeLookup = function () {\n              var place = this.getPlace();\n              destination_coords.lat = place.geometry.location.lat();\n              destination_coords.lng = place.geometry.location.lng();\n              NgMap.getMap().then(function(map) { \n                var map = map; \n                map.setCenter(place.geometry.location);\n              });\n              clickedMap = false;\n              getLocation(destination_coords.lat, destination_coords.lng);\n              $rootScope.$emit('notifying-service-event');\n          }\n\n          var dragDestination = function (e){\n            destination_coords.lat = parseFloat(e.latLng.lat());\n            destination_coords.lng = parseFloat(e.latLng.lng());\n            clickedMap = true;\n            getLocation(destination_coords.lat, destination_coords.lng);\n            $rootScope.$emit('notifying-service-event');\n          }\n\n          var getLocation = function (lat, lng){\n            var geocoder = new google.maps.Geocoder();\n            var latlng = new google.maps.LatLng(lat, lng);\n            geocoder.geocode({ 'latLng': latlng }, function (data, status) {\n              if (status == google.maps.GeocoderStatus.OK) {\n                  if (data[1]) {\n                      //Set address information based on coordinates\n                      address.country = data[data.length-1].formatted_address;\n                      address.state = data[data.length-2].address_components[0].long_name;\n                      address.city = data[data.length-3].address_components[0].long_name;\n                      address.address2 = '['+ lat +','+ lng +']';\n                      if(clickedMap){\n                        address.address = data[0].formatted_address;\n                      }\n                  }\n              }\n            });\n            calculateShipping();\n          }\n\n          var toggleDelivery = function(pickup_in_store){\n            if(pickup_in_store){\n              ngCart.setShipping(0);\n              destination_coords.delivery_type = '';\n            } else {\n              destination_coords.delivery_type = 'express';\n              calculateShipping();\n            }\n          }\n\n          var changeDeliveryCompany = function(){\n            if(destination_coords.delivery_type == ''){\n              destination_coords.delivery_type = 'express';\n            }\n            calculateShipping();\n          }\n\n          var calculateShipping = function(){\n            \n            var current_fare = {};\n            //Get delivery distance\n            if(destination_coords.delivery_type != ''){\n              getDistance();\n\n              //Calculate shipping price based on distance and weight\n              if(destination_coords.delivery_type == 'express'){\n                //Get current fare\n                for (var i = 0; i < store_fares.length; i++) {\n                   if(store_fares[i].id == destination_coords.selected_fare){\n                      current_fare = store_fares[i];\n                   }\n                }\n                //Calculate shipping price\n                if(current_fare.fare_type == 'distance'){\n                  distanceBasedPricing(current_fare);\n                } else if(current_fare.fare_type == 'weight'){\n                  weightBasedPricing(current_fare);\n                } else if(current_fare.fare_type == 'flat'){\n                  ngCart.setShipping(current_fare.base_price);\n                }\n              } \n            } else {\n              destination_coords.distance = 0;\n            }\n\n            console.log(ngCart.getShipping());\n\n          }\n\n          var distanceBasedPricing = function(fare){\n            //Initialize variables\n            var base_price = fare.base_price;\n            var base_km = fare.base_metric; \n            var additional_km = fare.additional_metric;\n            var additional_km_price = fare.additional_metric_price;\n            var price = 0;\n\n            //Calculate additional distance\n            if(destination_coords.distance > base_km){\n              additional_km = Math.ceil(destination_coords.distance - base_km);\n            }\n\n            //Calculate price\n            price = base_price + (additional_km * additional_km_price);\n            //Set cart shipping\n            ngCart.setShipping(price);\n\n          }\n\n          var weightBasedPricing = function(fare){\n\n            //Initialize variables\n            var base_price = fare.base_price;\n            var base_weight = fare.base_metric; \n            var additional_weight = fare.additional_metric;\n            var additional_weight_price = fare.additional_metric_price;\n            var price = 0;\n\n            //Get package weight\n            var weight = ngCart.getTotalWeight();\n\n            //Calculate additional weight\n            additional_weight = weight - base_weight;\n            if(0 > additional_weight){\n              additional_weight = 0;\n            }\n\n            //Calculate price\n            price = base_price + (Math.ceil(additional_weight) * additional_weight_price);\n            //Set cart shipping\n            ngCart.setShipping(price);\n\n          }\n\n          var getDistance = function(){\n            var origin = new google.maps.LatLng(settings.latitude, settings.longitude);\n            var destination = new google.maps.LatLng(destination_coords.lat, destination_coords.lng);\n            var service = new google.maps.DistanceMatrixService();\n            if(destination_coords.lat){\n              service.getDistanceMatrix(\n              {\n                origins: [origin],\n                destinations: [destination],\n                travelMode: 'DRIVING',\n                avoidHighways: false,\n                avoidTolls: false,\n              }, callback);\n\n            function callback(response, status) {\n              destination_coords.distance = response.rows[0].elements[0].distance.value / 1000;\n            }\n            }\n          }\n\n          var broadcastShippingCost = function(scope, callback) {\n              var handler = $rootScope.$on('notifying-service-event', callback);\n              scope.$on('$destroy', handler);\n          }\n\n          var syncCustomerAddress = function(){\n            customer_address.city = address.city;\n            customer_address.state = address.state;\n            customer_address.country = address.country;\n            customer_address.address = address.address;\n            customer_address.address2 = address.address2;\n            customer_address.zip_code = address.zip_code;\n            customer_address.note = address.note;\n          }\n\n          var syncBillingAddress = function(){\n            billing_information.address = address.address;\n            billing_information.city = address.city;\n            billing_information.zipCode = address.zip_code;\n            billing_information.state = address.state;\n            billing_information.country = address.country;\n          }\n\n          function currentLocation(){\n            var options = {\n                              enableHighAccuracy: true\n                          };\n\n              navigator.geolocation.getCurrentPosition(function(pos) {\n                              var position = new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude);\n                              destination_coords.lat = pos.coords.latitude;\n                              destination_coords.lng = pos.coords.longitude;\n                              NgMap.getMap().then(function(map) { \n                                var map = map; \n                                map.setCenter(position);\n                              });\n                              clickedMap = true;\n                              getLocation(destination_coords.lat, destination_coords.lng);\n                              $rootScope.$emit('notifying-service-event');                 \n                          }, \n                          function(error) {                    \n                              alert('Unable to get location: ' + error.message);\n                          }, options);\n          }\n\n          var getSettings = function () {\n                return $http.get('https://central-api.madebyblume.com/v1/website/settings/delivery?company_id=' + APP_INFO.ID).then(function (results) {\n                    \n                    settings = results.data;\n                    return results.data;\n                });\n            };\n\n          var getDeliveryFares = function () {\n\n                var currency = $localStorage.storeData.currency;\n\n                return $http.get('https://blumewebsitefunctions.azurewebsites.net/api/WebsiteRequestDeliveryFares?code=j/4fE4nNqfef27maYTVOcMkVw6CLQ4sWGgtskCIW4nISthad3IuZZg==&companyId=' + APP_INFO.ID + '&currency=' + currency).then(function (results) {\n                    store_fares = results.data;\n                    if(store_fares.length == 0){\n                      destination_coords.delivery_type = '';\n                    }\n                    return results.data;\n                });\n            };\n\n          var calculateExportShipping = function(country){\n\n            var weight = Math.ceil(ngCart.getTotalWeight());\n            var price = 0;\n            var base_price = 0;\n            var base_weight = 0.1;\n            var additional_weight = 0;\n            var additional_weight_price = 0;\n\n            \n\n            if(country.continent=='Central America'){\n\n              //Set base price and additional weight price\n              if(settings.currency == 'USD'){\n                base_price = 2;\n                additional_weight_price = 1.9;\n              } else {\n                base_price = 1100;\n                additional_weight_price = 1050;\n              }\n\n            } else if(country.continent=='North America' || country.continent=='South America' || country.continent=='Antillas'){\n              \n              //Set base price and additional weight price\n              if(settings.currency == 'USD'){\n                base_price = 2.5;\n                additional_weight_price = 2.2;\n              } else {\n                base_price = 1400;\n                additional_weight_price = 1250;\n              }\n\n            } else if(country.continent=='Europe'){\n              \n              //Set base price and additional weight price\n              if(settings.currency == 'USD'){\n                base_price = 4;\n                additional_weight_price = 3.8;\n              } else {\n                base_price = 2100;\n                additional_weight_price = 1950;\n              }\n\n            } else if(country.continent=='Asia' || country.continent=='Africa' || country.continent=='Oceania'){\n              \n              //Set base price and additional weight price\n              if(settings.currency == 'USD'){\n                base_price = 5.2;\n                additional_weight_price = 4.9;\n              } else {\n                base_price = 2750;\n                additional_weight_price = 2550;\n              }\n\n            }\n\n            //Calculate additional weight\n            if(weight > base_weight){\n              additional_weight = weight - base_weight;\n            }\n\n            //Calculate price\n            price = base_price + ((additional_weight / 0.1) * additional_weight_price);\n              if(settings.currency == 'USD'){\n                price += 1.6;\n              } else {\n                price += 850;\n              }\n\n            address.country = country.name;\n\n            //Set cart shipping\n            ngCart.setShipping(price);\n\n          }\n\n          var destination_coords = {\n            lat: '',\n            lng: '',\n            distance: 0,\n            delivery_type: 'express',\n            selected_fare: 0\n          }\n\n          var billing_address = {\n            country: '',\n            state: '',\n            city: '',\n            zip_code: '',\n            address: ''\n          }\n\n          var customer = {\n            id: APP_INFO.ID,\n            full_name: '',\n            email: '',\n            phone: '',\n            subscribed_newsletter: false\n          }\n\n          var address = {\n            city: '',\n            state: '',\n            country: '',\n            zip_code: '',\n            address: '',\n            address2: '',\n            note: '',\n            status: 'Standby',\n            shipmentUpdates: [\n              {\n                location: 'En tienda',\n                status: 'Standby',\n                last_update: ''\n              }\n            ]\n          }\n\n          var billing_information = {\n            address: '',\n            city: '',\n            zipCode: '',\n            state: '',\n            country: '',\n            name: '',\n            email: '',\n            phoneNumber: '',\n            total: 0,\n            order_id: 0,\n            currency: ''\n          }\n\n          var customer_address = {\n            id: 0,\n            city: '',\n            state: '',\n            country: '',\n            address: '',\n            address2: '',\n            zip_code: '',\n            note: ''\n          }\n\n          var store_fares = [];\n\n            return {\n              mapClick: mapClick,\n              placeLookup: placeLookup,\n              dragDestination: dragDestination,\n              toggleDelivery: toggleDelivery,\n              calculateShipping: calculateShipping,\n              getLocation: getLocation,\n              broadcastShippingCost: broadcastShippingCost,\n              getSettings: getSettings,\n              customer: customer,\n              address: address,\n              destination_coords: destination_coords,\n              billing_address: billing_address,\n              billing_information: billing_information,\n              customer_address: customer_address,\n              syncCustomerAddress: syncCustomerAddress,\n              syncBillingAddress: syncBillingAddress,\n              distanceBasedPricing: distanceBasedPricing,\n              weightBasedPricing: weightBasedPricing,\n              currentLocation: currentLocation,\n              calculateExportShipping: calculateExportShipping,\n              pickup_in_store: pickup_in_store,\n              store_fares: store_fares,\n              getDeliveryFares: getDeliveryFares,\n              changeDeliveryCompany: changeDeliveryCompany\n            }\n        }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .factory('Customer', Customer);\n\n        Customer.$inject = ['$http','APP_INFO'];\n        function Customer($http, APP_INFO){\n\n          var signUp = function (customer) {\n          return $http({\n              method: \"POST\",\n              url: \"https://central-api.madebyblume.com/v1/website/customer\",\n              data: {\n                  id: APP_INFO.ID,\n                  full_name: customer.full_name,\n                  email: customer.email,\n                  phone: customer.phone,\n                  subscribed_newsletter: false\n              },\n              headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json'\n              }\n          })\n      }\n\n      var addAddress = function (address) {\n          return $http({\n              method: \"POST\",\n              url: \"https://central-api.madebyblume.com/v1/website/customer/address\",\n              headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json'\n              },\n              data: {\n                  id: address.customer_id,\n                  city: address.city,\n                  state: address.state,\n                  country: address.country,\n                  address: address.address,\n                  address2: \"\",\n                  zip_code: \"\",\n                  note: address.note\n              }\n          })\n      }\n\n        return {\n          signUp: signUp,\n          addAddress: addAddress\n\n        }\n    }\n\n})();\n\n(function(){\n  'use strict';\n    angular\n        .module('angular')\n        .factory('Countries', Countries);\n        Countries.$inject = [];\n        function Countries(){\n\n          var list = [ // Taken from https://gist.github.com/unceus/6501985\n                        {name: 'Angola', continent: 'Africa'},\n                        {name: 'Argelia', continent: 'Africa'},\n                        {name: 'Benin', continent: 'Africa'},\n                        {name: 'Botsuana', continent: 'Africa'},\n                        {name: 'Burkina Faso', continent: 'Africa'},\n                        {name: 'Burundi', continent: 'Africa'},\n                        {name: 'Cabo Verde', continent: 'Africa'},\n                        {name: 'Camerun', continent: 'Africa'},\n                        {name: 'Chad', continent: 'Africa'},\n                        {name: 'Comoras', continent: 'Africa'},\n                        {name: 'Congo', continent: 'Africa'},\n                        {name: 'Costa de Marfil', continent: 'Africa'},\n                        {name: 'Egipto', continent: 'Africa'},\n                        {name: 'Eritrea', continent: 'Africa'},\n                        {name: 'Etiopia', continent: 'Africa'},\n                        {name: 'Gabon', continent: 'Africa'},\n                        {name: 'Gambia', continent: 'Africa'},\n                        {name: 'Ghana', continent: 'Africa'},\n                        {name: 'Guinea', continent: 'Africa'},\n                        {name: 'Kenia', continent: 'Africa'},\n                        {name: 'Liberia', continent: 'Africa'},\n                        {name: 'Madagascar', continent: 'Africa'},\n                        {name: 'Malaui', continent: 'Africa'},\n                        {name: 'Marruecos', continent: 'Africa'},\n                        {name: 'Nigeria', continent: 'Africa'},\n                        {name: 'Ruanda', continent: 'Africa'},\n                        {name: 'Senegal', continent: 'Africa'},\n                        {name: 'Serria Leona', continent: 'Africa'},\n                        {name: 'Sudafrica', continent: 'Africa'},\n                        {name: 'Angola', continent: 'Africa'},\n                        {name: 'Sudan', continent: 'Africa'},\n                        {name: 'Togo', continent: 'Africa'},\n                        {name: 'Tunez', continent: 'Africa'},\n                        {name: 'Uganda', continent: 'Africa'},\n                        {name: 'Ybuti', continent: 'Africa'},\n                        {name: 'Zambia', continent: 'Africa'},\n                        {name: 'Zimbabue', continent: 'Africa'},\n                        {name: 'Bermudas', continent: 'North America'},\n                        {name: 'Canada', continent: 'North America'},\n                        {name: 'Estados Unidos', continent: 'North America'},\n                        {name: 'Mexico', continent: 'North America'},\n                        {name: 'Groenlandia', continent: 'North America'},\n                        {name: 'Belice', continent: 'Central America'},\n                        {name: 'Salvador', continent: 'Central America'},\n                        {name: 'Costa Rica', continent: 'Central America'},\n                        {name: 'Nicaragua', continent: 'Central America'},\n                        {name: 'Panama', continent: 'Central America'},\n                        {name: 'Honduras', continent: 'Central America'},\n                        {name: 'Guatemala', continent: 'Central America'},\n                        {name: 'Argentina', continent: 'South America'},\n                        {name: 'Bolivia', continent: 'South America'},\n                        {name: 'Brasil', continent: 'South America'},\n                        {name: 'Chile', continent: 'South America'},\n                        {name: 'Colombia', continent: 'South America'},\n                        {name: 'Ecuador', continent: 'South America'},\n                        {name: 'Guyana Francesa', continent: 'South America'},\n                        {name: 'Guyana', continent: 'South America'},\n                        {name: 'Paraguay', continent: 'South America'},\n                        {name: 'Peru', continent: 'South America'},\n                        {name: 'Surinam', continent: 'South America'},\n                        {name: 'Uruguay', continent: 'South America'},\n                        {name: 'Venezuela', continent: 'South America'},\n                        {name: 'Aruba', continent: 'Antillas'},\n                        {name: 'Bahamas', continent: 'Antillas'},\n                        {name: 'Barbados', continent: 'Antillas'},\n                        {name: 'Anguila', continent: 'Antillas'},\n                        {name: 'Cuba', continent: 'Antillas'},\n                        {name: 'Curazao', continent: 'Antillas'},\n                        {name: 'Dominica', continent: 'Antillas'},\n                        {name: 'Granada', continent: 'Antillas'},\n                        {name: 'Guadalupe', continent: 'Antillas'},\n                        {name: 'Haiti', continent: 'Antillas'},\n                        {name: 'Islas Caiman', continent: 'Antillas'},\n                        {name: 'Jamaica', continent: 'Antillas'},\n                        {name: 'Martinica', continent: 'Antillas'},\n                        {name: 'Montserrat', continent: 'Antillas'},\n                        {name: 'Puerto Rico', continent: 'Antillas'},\n                        {name: 'Republica Dominicana', continent: 'Antillas'},\n                        {name: 'San Bartolome', continent: 'Antillas'},\n                        {name: 'San Martin', continent: 'Antillas'},\n                        {name: 'Santa Lucia', continent: 'Antillas'},\n                        {name: 'Trinidad y Tobago', continent: 'Antillas'},\n                        {name: 'Afganistan', continent: 'Asia'},\n                        {name: 'Arabia Saudita', continent: 'Asia'},\n                        {name: 'Armenia', continent: 'Asia'},\n                        {name: 'Azerbaiyan', continent: 'Asia'},\n                        {name: 'Barein', continent: 'Asia'},\n                        {name: 'Bangladesh', continent: 'Asia'},\n                        {name: 'Camboya', continent: 'Asia'},\n                        {name: 'China', continent: 'Asia'},\n                        {name: 'Corea del Norte', continent: 'Asia'},\n                        {name: 'Corea del Sur', continent: 'Asia'},\n                        {name: 'Filipinas', continent: 'Asia'},\n                        {name: 'India', continent: 'Asia'},\n                        {name: 'Indonesia', continent: 'Asia'},\n                        {name: 'Irak', continent: 'Asia'},\n                        {name: 'Iran', continent: 'Asia'},\n                        {name: 'Israel', continent: 'Asia'},\n                        {name: 'Japon', continent: 'Asia'},\n                        {name: 'Jordania', continent: 'Asia'},\n                        {name: 'Kazajistan', continent: 'Asia'},\n                        {name: 'Kuwait', continent: 'Asia'},\n                        {name: 'Laos', continent: 'Asia'},\n                        {name: 'Libano', continent: 'Asia'},\n                        {name: 'Macao', continent: 'Asia'},\n                        {name: 'Malasia', continent: 'Asia'},\n                        {name: 'Maldivas', continent: 'Asia'},\n                        {name: 'Mongolia', continent: 'Asia'},\n                        {name: 'Oman', continent: 'Asia'},\n                        {name: 'Pakistan', continent: 'Asia'},\n                        {name: 'Qatar', continent: 'Asia'},\n                        {name: 'Rusia', continent: 'Asia'},\n                        {name: 'Singapur', continent: 'Asia'},\n                        {name: 'Siria', continent: 'Asia'},\n                        {name: 'Sri Lanka', continent: 'Asia'},\n                        {name: 'Tailandia', continent: 'Asia'},\n                        {name: 'Turkia', continent: 'Asia'},\n                        {name: 'Vietnam', continent: 'Asia'},\n                        {name: 'Yemen', continent: 'Asia'},\n                        {name: 'Albania', continent: 'Europe'},\n                        {name: 'Alemania', continent: 'Europe'},\n                        {name: 'Andorra', continent: 'Europe'},\n                        {name: 'Austria', continent: 'Europe'},\n                        {name: 'Belgica', continent: 'Europe'},\n                        {name: 'Bulgaria', continent: 'Europe'},\n                        {name: 'Chipre', continent: 'Europe'},\n                        {name: 'Croacia', continent: 'Europe'},\n                        {name: 'Dinamarca', continent: 'Europe'},\n                        {name: 'Eslovaquia', continent: 'Europe'},\n                        {name: 'Eslovenia', continent: 'Europe'},\n                        {name: 'Espaa', continent: 'Europe'},\n                        {name: 'Estonia', continent: 'Europe'},\n                        {name: 'Finlandia', continent: 'Europe'},\n                        {name: 'Francia', continent: 'Europe'},\n                        {name: 'Georgia', continent: 'Europe'},\n                        {name: 'Gibraltar', continent: 'Europe'},\n                        {name: 'Grecia', continent: 'Europe'},\n                        {name: 'Hungria', continent: 'Europe'},\n                        {name: 'Irlanda', continent: 'Europe'},\n                        {name: 'Islandia', continent: 'Europe'},\n                        {name: 'Italia', continent: 'Europe'},\n                        {name: 'Letonia', continent: 'Europe'},\n                        {name: 'Lituania', continent: 'Europe'},\n                        {name: 'Luxemburgo', continent: 'Europe'},\n                        {name: 'Malta', continent: 'Europe'},\n                        {name: 'Moldavia', continent: 'Europe'},\n                        {name: 'Noruega', continent: 'Europe'},\n                        {name: 'Polonia', continent: 'Europe'},\n                        {name: 'Portugal', continent: 'Europe'},\n                        {name: 'Inglaterra', continent: 'Europe'},\n                        {name: 'Gales', continent: 'Europe'},\n                        {name: 'Escocia', continent: 'Europe'},\n                        {name: 'Republica Checa', continent: 'Europe'},\n                        {name: 'Rumania', continent: 'Europe'},\n                        {name: 'San Marino', continent: 'Europe'},\n                        {name: 'Serbia', continent: 'Europe'},\n                        {name: 'Suecia', continent: 'Europe'},\n                        {name: 'Suiza', continent: 'Europe'},\n                        {name: 'Ucrania', continent: 'Europe'},\n                        {name: 'Australia', continent: 'Oceania'},\n                        {name: 'Palaos', continent: 'Oceania'},\n                        {name: 'Samoa', continent: 'Oceania'},\n                        {name: 'Tonga', continent: 'Oceania'},\n                        {name: 'Tuvalu', continent: 'Oceania'}\n                      ]\n\n            return {\n              list: list\n            }\n        }\n})();\n\n(function(){\n  'use strict';\n    angular\n        .module('angular')\n        .factory('Checkout', Checkout);\n        Checkout.$inject = ['$http', 'ngCart', '$state', 'Delivery', '$mdDialog', '$rootScope', 'APP_INFO', '$timeout', 'md5','Mail'];\n        function Checkout($http, ngCart, $state, Delivery, $mdDialog, $rootScope, APP_INFO, $timeout, md5, Mail){\n\n          var settings = {};\n          var getSettings = Delivery.getSettings;\n          getSettings().then(function(results){\n                settings = results;\n            })\n          var customer = Delivery.customer;\n          var address = Delivery.address;\n          var billing_address = Delivery.billing_address;\n          var billing_information = Delivery.billing_information;\n          var customer_address = Delivery.customer_address;\n\n          var discount_code = {\n            valid: false,\n            value: '',\n            amount: 0\n          }\n\n          var card = {\n            number: '',\n            name: '',\n            expiry: '',\n            cvc: ''\n          }\n\n          var card_options = {\n            debug: false,\n            formatting: true,\n            container: 'card-container'\n          }\n\n          var card_options_2 = {\n            debug: false,\n            formatting: true,\n            container: 'card-container-2'\n          }\n\n          var two_co = {\n            seller_id: '',\n            publishable_key: ''\n          }\n\n          var temp = {\n            customer_id: 0,\n            purchase: {\n              order_id: 0,\n              shipment_id: 0\n            },\n            token: '',\n            progress: 1,\n            loading: false,\n            error_message: '',\n            prehash: '',\n            hash: '',\n            timestamp: ''\n          }\n\n          var order = {\n            company_id: APP_INFO.ID,\n            customer_id: 0,\n            subtotal: 0,\n            discount: 0,\n            shipping: 0,\n            tax: 0,\n            total: 0,\n            created_by: '',\n            payment_method: '',\n            items: []\n          }\n\n          var checkStock = function () {\n\n            if(discount_code.valid){\n                discount_code.valid = false;\n                discount_code.value = '';\n                discount_code.amount = 0;\n            }\n\n            var outOfStockVariants = 0;\n            var cartItems = ngCart.$cart.items;\n\n            for (var i = cartItems.length - 1; i >= 0; i--) {\n                if(cartItems[i]._quantity > cartItems[i]._data.stock){\n                    outOfStockVariants += 1;\n                }\n            }\n            if(outOfStockVariants > 0){\n                if(outOfStockVariants == 1){\n                    swal('Atencin','Un producto en su carrito no est disponible, revise la cantidad o comunquese con nosotros para ms informacin','warning');\n                } else {\n                    swal('Atencin','Algunos productos en su carrito no estn disponibles, revise la cantidad o comunquese con nosotros para ms informacin','warning');\n                }\n            } else {\n              //Recalculate delivery if address is already set\n                if(Delivery.destination_coords.distance > 0){\n                  $rootScope.$emit('notifying-service-event');\n                }\n                $state.go('checkout.address');\n            }\n\n          }\n\n          var verifyStock = function(){\n            var cartItems = ngCart.$cart.items;\n\n            for (var i = cartItems.length - 1; i >= 0; i--) {\n              console.log(i);\n                requestProductVariantStock(cartItems[i]._id).then(function (results){ \n                    itemStock = results;\n                    cartItems[i]._stock = itemStock;\n                    console.log(itemStock);\n                    if(cartItems[i]._quantity > cartItems[i]._stock){\n                        outOfStockVariants += 1;\n                    }\n                 });\n\n            }\n          }\n\n          //Data validation before submitting card information\n          var verifyData = function(pickup_in_store, international_shipping){\n             \n             //Initialize variables\n             var address_complete = false;\n             var customer_complete = false;\n             var billing_address_complete = false;\n             Delivery.pickup_in_store = pickup_in_store;\n\n            //Validate customer data\n            if(Delivery.customer.full_name == \"\"){\n              swal('Atencin','Por favor ingrese su nombre','warning');\n            } else if(Delivery.customer.email == \"\"){\n              swal('Atencin','Por favor ingrese su correo electrnico','warning');\n            } else if(Delivery.customer.phone == \"\"){\n              swal('Atencin','Por favor ingrese su telfono','warning');\n            } else if(Delivery.destination_coords.delivery_type == 'express' && Delivery.destination_coords.selected_fare == 0){\n              swal('Atencin','Debe escoger un tipo de transporte','warning');\n            } else {\n\n              customer_complete = true;\n              //Verify delivery or billing address\n              if(pickup_in_store){\n                  billing_address_complete = true;\n              } else {\n                if(Delivery.address.address2 == \"\" && !international_shipping){\n                  swal('Atencin','Por favor haga click en el mapa o ingrese un de referencia para la entrega.','warning');\n                } else if(Delivery.address.note == \"\" && !international_shipping){\n                  swal('Atencin','Por favor ingrese la direccin exacta para la entrega.','warning');\n                } else if(!international_shipping) {\n                  address_complete = true;\n                }\n              }\n\n              if(international_shipping){\n                if(Delivery.address.country == \"\"){\n                  swal('Atencin','Por favor seleccione el pas de entrega','warning');\n                } else if(Delivery.address.address == \"\"){\n                  swal('Atencin','Por favor ingrese la direccin exacta para la entrega.','warning');\n                } else {\n                  address_complete = true;\n                }\n              } \n            }\n\n\n\n            if(customer_complete && billing_address_complete || customer_complete && address_complete){\n              createCustomer().then(function(results){\n                  $timeout(function () { \n                      temp.timestamp = Math.round((new Date()).getTime() / 1000);\n                      var total = (ngCart.totalCost() - discount_code.amount).toFixed(2);\n                      temp.prehash = temp.purchase.order_id + \"|\" + total + \"|\" + temp.timestamp + \"|\" + APP_INFO.bac.applicationPassword;\n                      temp.hash = md5.createHash(temp.prehash);\n                      // submitBAC();\n                       }, 2000, true);\n                  $rootScope.$emit('notifying-service-event');\n                  $state.go('checkout.placeOrder');\n              },function (err){ Mail.errorLog(err) });\n              \n            }\n\n          }\n\n          var showPrompt = function (ev) {\n              // Appending dialog to document.body to cover sidenav in docs app\n              var confirm = $mdDialog.prompt()\n                .title('Ingrese el cupn de descuento')\n                .ariaLabel('Discount code input')\n                .targetEvent(ev)\n                .ok('Aceptar')\n                .cancel('Cancelar');\n\n              $mdDialog.show(confirm).then(function(result) {\n                //If a discount code was typed, look for it and apply it\n                discount_code.value = result;\n                applyDiscount();\n              }, function() {\n                discount_code.valid = false;\n              });\n            };\n\n          var verifyDiscount = function () {\n                return $http.get('https://central-api.madebyblume.com/v1/company/promocode/apply?word=' + discount_code.value + '&order_id=' + temp.purchase.order_id).then(function (results) {\n                    return results;\n                },function (err){ Mail.errorLog(err) });\n            };\n\n          var applyDiscount = function (){\n            verifyDiscount().then(function (response) {\n                var promo = response.data;\n                var total = $rootScope.cart.totalCost();\n                var shipping = $rootScope.cart.getShipping();\n                var tax = $rootScope.cart.getTax();\n                if(promo.id != 0){\n                  if(promo.type == \"Amount\"){\n                    if($rootScope.cart.totalCost() < promo.discount){\n                      swal('No se puede activar el cupn','El monto de la compra es menor al descuento del cupn.','error');\n                    }\n                    discount_code.amount = promo.discount;\n                    discount_code.valid = true;\n                    temp.timestamp = Math.round((new Date()).getTime() / 1000);\n                    var total = (ngCart.totalCost() - discount_code.amount).toFixed(2);\n                    temp.prehash = temp.purchase.order_id + \"|\" + total + \"|\" + temp.timestamp + \"|\" + APP_INFO.bac.applicationPassword;\n                    temp.hash = md5.createHash(temp.prehash);\n                  } \n                  if(promo.type == \"Percentage\"){\n                    var pretotal = total - shipping - tax;\n                    discount_code.amount = (pretotal * (promo.discount / 100)) - promo.exclude_discount;\n                    discount_code.valid = true;\n                    temp.timestamp = Math.round((new Date()).getTime() / 1000);\n                    var total = (ngCart.totalCost() - discount_code.amount).toFixed(2);\n                    temp.prehash = temp.purchase.order_id + \"|\" + total + \"|\" + temp.timestamp + \"|\" + APP_INFO.bac.applicationPassword;\n                    temp.hash = md5.createHash(temp.prehash);\n                  }\n                  if(promo.type == \"Shipping\"){\n                    discount_code.amount = (promo.discount / 100) * shipping;\n                    discount_code.valid = true;\n                    temp.timestamp = Math.round((new Date()).getTime() / 1000);\n                    var total = (ngCart.totalCost() - discount_code.amount).toFixed(2);\n                    temp.prehash = temp.purchase.order_id + \"|\" + total + \"|\" + temp.timestamp + \"|\" + APP_INFO.bac.applicationPassword;\n                    temp.hash = md5.createHash(temp.prehash);\n                  }\n                }\n                $rootScope.$emit('notifying-service-event');\n            },function (err){ Mail.errorLog(err) })\n          }\n\n          var getToken = function () {\n            \n                return $http.get('https://central-api.madebyblume.com/v1/payments/2co/key?company_id=' + APP_INFO.ID).then(function (results) {\n                    two_co.seller_id = results.data.sellerID;\n                    two_co.publishable_key = results.data.twoCOPublishableKey;\n                });\n            };\n\n          var makePayment = function () {\n\n            //Clear error message\n            temp.error_message = '';\n\n            //Start progress bar\n            temp.loading = true;\n            temp.progress = 15;\n\n            //split expiry date\n            card.exp_month = parseInt(card.expiry.substring(0, 2));\n            if(card.expiry.length > 7){\n              card.exp_year = parseInt('20' + card.expiry.substring(7, 9));\n            } else {\n              card.exp_year = parseInt('20' + card.expiry.substring(5, 7));\n            }\n\n            //Setup token request arguments\n\n            var args = {\n              sellerId: two_co.seller_id,\n              publishableKey: two_co.publishable_key,\n              ccNo: card.number,\n              cvv: card.cvc,\n              expMonth: card.exp_month,\n              expYear: card.exp_year\n            };\n            // Make the token request\n            TCO.requestToken(successCallback, errorCallback, args);\n\n          }\n\n          var successCallback = function(data){\n            \n            //Set token value\n            temp.token = data.response.token.token;\n\n            //Create customer and order, then charge card\n            buildBillingInformation();\n\n          }\n\n          var errorCallback = function(data){\n            temp.loading = false;\n            // Retry the token request if ajax call fails\n            if (data.errorCode === 200) {\n               // This error code indicates that the ajax call failed. We recommend that you retry the token request.\n               swal('Error','Hubo en problema con su conexin, el pago no se pudo realizar. Por favor intntelo de nuevo.','error');\n               getToken();\n            } else {\n              swal('Error', 'Por favor ingrese los datos de la tarjeta o intntelo de nuevo en otro buscador.','error');\n            }\n          }\n\n          var createCustomer = function(){\n\n            return $http.post('https://central-api.madebyblume.com/v1/website/customer', customer).then(function (results) {\n                temp.customer_id = results.data;\n                temp.progress = 33;\n                //Build order with current cart information and store settings\n                customer_address.id = temp.customer_id;\n                customer_address.note = address.note;\n                createCustomerAddress();\n            },function (err){ Mail.errorLog(err) });\n          }\n\n          var createCustomerAddress = function(){\n            return $http.post('https://central-api.madebyblume.com/v1/website/customer/address', customer_address).then(function (results) {\n                      temp.progress = 33;\n                      //Build order with current cart information and store settings\n                      buildOrder();\n                  },function (err){ Mail.errorLog(err) });\n          }\n\n          var chargeCard = function (token, billingInfo) {\n            \n            return $http.post('https://central-api.madebyblume.com/v1/payments/2co/invoice?token=' + token, billingInfo).then(function (results) {\n                //Verify if payment is approved\n                if(results.data[0] == \"A\"){\n                  temp.progress = 100;\n                  //Verify if order is to be picked up at the store\n                  if(Delivery.pickup_in_store){\n                    sendConfirmationEmail();\n                    updateStoreStock(billingInfo.order_id);\n                  } else {\n                    createShippingInvoice();\n                    sendConfirmationEmailWithTracking();\n                    updateStoreStock(billingInfo.order_id);\n                  }\n                } else {\n                  temp.progress = 1;\n                  temp.loading = false;\n                  temp.error_message = results.data.Message;\n                  getToken();\n                }\n\n            },function (err){ Mail.errorLog(err) });\n          };\n\n          var createShippingInvoice = function(){\n            return $http.post('https://central-api.madebyblume.com/v1/website/shipping/gopato?order_id=' + temp.purchase.order_id + '&shipment_id=' + temp.purchase.shipment_id).then(function (results) {\n                    return results;\n                },function (err){ Mail.errorLog(err) });\n          }\n\n          var sendConfirmationEmail = function(){\n            return $http.post('https://central-api.madebyblume.com/v1/mail/order?order_id=' + temp.purchase.order_id).then(function (results) {\n                    discount_code = {\n                      valid: false,\n                      value: '',\n                      amount: 0\n                    };\n                    ngCart.empty();\n                },function (err){ Mail.errorLog(err) });\n          }\n\n          var sendConfirmationEmailWithTracking = function(){\n            return $http.post('https://central-api.madebyblume.com/v1/mail/order/delivery?order_id=' + temp.purchase.order_id).then(function (results) {\n                    discount_code = {\n                      valid: false,\n                      value: '',\n                      amount: 0\n                    };\n                    ngCart.empty();\n                },function (err){ Mail.errorLog(err) });\n          }\n\n          var buildOrder = function(){\n\n            temp.progress = 66;\n            //Verify if customer was created\n            if(temp.customer_id == 0){\n              swal('Aviso','Por favor presione el botn de revisar datos y verifique que sean correctos.', 'info');\n            } else {\n              //Set created by\n              var created_by = '';\n              if(settings.currency == \"CRC\"){\n                created_by = 'WebsiteCRC'\n              } else {\n                created_by = 'Website'\n              }\n\n              //Sync order data with cart data\n              order.customer_id = temp.customer_id;\n              order.subtotal = ngCart.getSubTotal();\n              order.tax = ngCart.getTax();\n              order.shipping = ngCart.getShipping();\n              order.discount = discount_code.amount;\n              order.total = ngCart.totalCost() - order.discount;\n              order.created_by = created_by;\n              order.items = ngCart.getCustomItems();\n              //If order is to be picked up at the store\n              if(Delivery.pickup_in_store){\n                createOrder();\n              } else {\n                createOrderWithDelivery();\n              }\n            }\n          }\n\n          var buildBillingInformation = function(){\n            temp.progress = 85\n\n            var temp_total = ngCart.totalCost() - discount_code.amount;\n            //Verify if order needs delivery\n            if(Delivery.pickup_in_store){\n              billing_information.address = billing_address.address;\n              billing_information.city = billing_address.city;\n              billing_information.zipCode = billing_address.zip_code;\n              billing_information.state = billing_address.state;\n              billing_information.country = billing_address.country;\n              billing_information.name = customer.full_name;\n              billing_information.email = customer.email;\n              billing_information.phoneNumber = customer.phone;\n              billing_information.total = Math.round((temp_total + 0.00001) * 100) / 100;\n              billing_information.order_id = temp.purchase.order_id;\n              billing_information.currency = settings.currency;\n            } else {\n              billing_information.name = customer.full_name;\n              billing_information.email = customer.email;\n              billing_information.phoneNumber = customer.phone;\n              billing_information.total = Math.round((temp_total + 0.00001) * 100) / 100;\n              billing_information.order_id = temp.purchase.order_id;\n              billing_information.currency = settings.currency;\n            }\n            //Charge card\n            chargeCard(temp.token, billing_information);\n          }\n\n          var createOrder = function(){\n            return $http.post('https://central-api.madebyblume.com/v1/website/order/pickup', order).then(function (results) {\n                  temp.purchase = results.data;\n                  //Build billing information\n                  if(order.payment_method == 'Credit Card'){\n                    buildBillingInformation();\n                  }\n              },function (err){ Mail.errorLog(err) });\n          }\n\n          var createOrderWithDelivery = function(){\n            return $http.post('https://central-api.madebyblume.com/v1/website/order/express?fare_id=' + Delivery.destination_coords.selected_fare, order).then(function (results) {\n                  temp.purchase = results.data;\n                  //Build billing information\n                  if(order.payment_method == 'Credit Card'){\n                    buildBillingInformation();\n                  }\n              },function (err){ Mail.errorLog(err) });\n          }\n\n          var updateStoreStock = function(order_id){\n            return $http.post('https://central-api.madebyblume.com/v1/orders/stock-update?order_id=' + order_id).then(function (results) {\n                return results;\n              },function (err){ Mail.errorLog(err) });\n          }\n\n          var requestProductVariantStock = function(productVariantId){\n            return $http.get('https://blumewebsitefunctions.azurewebsites.net/api/WebsiteRequestProductVariantStock?code=Y3IElQAmnPgSz0DCzTWUYkDflK6EQRkyMMavCbBOog1Ztxg51I9fuA==&productVariantId' + productVariantId).then(function (results) {\n                return results.data;\n              },function (err){ Mail.errorLog(err) });\n          }\n\n          var addOrderNote = function(order_id, hasRefId, refId, comments){\n            var temp = {\n              order_id: order_id,\n              comments: comments,\n              paidTime: '',\n              transactionRefId: ''\n            }\n            if(hasRefId){\n              temp.transactionRefId = refId;\n            }\n            return $http.post('https://central-api.madebyblume.com/v1/orders/addNote', temp).then(function (results) {\n                return results;\n              },function (err){ Mail.errorLog(err) });\n          }\n\n          var chargeCardUsingFtTechnologies = function(billingInfo){\n            //Start progress bar\n            temp.loading = true;\n            temp.progress = 33;\n            var paymentURL = APP_INFO.gateway.url + '/api/AppApplyDirectCharge';\n            return $http.post(paymentURL, billingInfo).then(function (results) {\n              console.log(results.data);\n                    if(results.data.isApproved){\n                        temp.progress = 100;\n                      //Verify if order is to be picked up at the store\n                      if(Delivery.pickup_in_store){\n                        sendConfirmationEmail();\n                        updateStoreStock(temp.purchase.order_id);\n                        saveAsPaid(temp.purchase.order_id);\n                        addOrderNote(temp.purchase.order_id,true,results.data.retrievalRefNo,billing_address.address);\n                      } else {\n                        createShippingInvoice();\n                        sendConfirmationEmailWithTracking();\n                        updateStoreStock(temp.purchase.order_id);\n                        saveAsPaid(temp.purchase.order_id);\n                        addOrderNote(temp.purchase.order_id,true,results.data.retrievalRefNo,address.note);\n                      }\n                    } else {\n                      temp.progress = 1;\n                      temp.loading = false;\n                      temp.error_message = \"No se pudo realizar el pago, por favor contactenos a travs del chat para ayudarle con su compra.\";\n                      saveAsDraft(temp.purchase.order_id);\n                      addOrderNote(temp.purchase.order_id,true,results.data.reasonText,address.note);\n                    }\n                }, function(error){\n                  temp.loading = false;\n                  temp.progress = 0;\n                  temp.error_message = \"Hubo un error de conexin, por favor contctenos para ayudarle a realizar su compra.\";\n                  saveAsDraft(temp.purchase.order_id);\n                  addOrderNote(temp.purchase.order_id,true,'Error de conexin, contactar cliente',address.note);\n                });\n          }\n\n          var saveAsPaid = function (order_id) {\n\n              return $http.post('https://central-api.madebyblume.com/v1/orders/pay?order_id=' + order_id).then(function (results) {\n                  $state.go('checkout.confirmed');\n              },function (err){ Mail.errorLog(err) });\n          };\n\n          var saveAsDraft = function (order_id) {\n\n              return $http.post('https://central-api.madebyblume.com/v1/orders/save-draft?order_id=' + order_id).then(function (results) {\n                  \n              },function (err){ Mail.errorLog(err) });\n          };\n\n          var errorDebugBAC = function (order_id) {\n\n              var total = (ngCart.totalCost() - discount_code.amount).toFixed(2);\n              var message = \"\";\n              message += \"Hash: \" + temp.hash + \"\\n\";\n              message += \"Timestamp: \" + temp.timestamp + \"\\n\";\n              message += \"Amount: \" +  total + \"\\n\";\n              message += \"Type: sale \\n\";\n              message += \"OrderId: \" +  order_id + \"\\n\";\n              message += \"Key_id: \" +  APP_INFO.bac.key_id + \"\\n\";\n              message += \"Processor_id: \" + APP_INFO.bac.processor_id + \"\\n\";\n              message += \"Address: \" + address.state + \"\\n\";\n              message += \"WebsiteURL: \" + APP_INFO.website_url + \"/checkout/confirmed \\n\";\n\n              return $http.post('https://central-api.madebyblume.com/v1/mail/contact?company_name=Blume&company_email=durenap@baccredomatic.cr&customer_name=BACForm&customer_email=info@madebyblume.com&message=' + message).then(function (results) {\n                  \n              });\n          };\n\n            return {\n              checkStock: checkStock,\n              verifyStock: verifyStock,\n              showPrompt: showPrompt,\n              verifyData: verifyData,\n              discount_code: discount_code,\n              card: card,\n              card_options: card_options,\n              card_options_2: card_options_2,\n              two_co: two_co,\n              temp: temp,\n              getToken: getToken,\n              chargeCard: chargeCard,\n              makePayment: makePayment,\n              order: order,\n              createCustomer: createCustomer,\n              updateStoreStock: updateStoreStock,\n              chargeCardUsingFtTechnologies: chargeCardUsingFtTechnologies,\n              addOrderNote: addOrderNote,\n              errorDebugBAC: errorDebugBAC\n            }\n        }\n})();\n\n(function(){\n  'use strict';\n    angular\n        .module('angular')\n        .factory('Catalog', Catalog);\n        Catalog.$inject = ['$http', '$localStorage', 'ngCart', '$state', 'APP_INFO'];\n        function Catalog($http, $localStorage, ngCart, $state, APP_INFO){\n\n          var baseUrl = \"\";\n\n          var getProducts = function (company_id) {\n              return $http.get(\"https://central-api.madebyblume.com/v1/website/products?company_id=\" + company_id).then(function (results) {\n                  return results.data;\n              });\n          }\n\n          var getMoreProducts = function (company_id, load_count) {\n              return $http.get(\"https://central-api.madebyblume.com/v1/website/products/loadMore?company_id=\" + company_id + '&load_count=' + load_count + '&page_size=' + APP_INFO.page_size).then(function (results) {\n                  return results.data;\n              });\n          }\n\n          var getDiscountProducts = function (company_id) {\n              return $http.get(\"https://central-api.madebyblume.com/v1/products/sale/all?company_id=\" + company_id).then(function (results) {\n                  return results.data;\n              });\n          }\n\n          var getCategories = function(company_id){\n              return $http.get(\"https://central-api.madebyblume.com/v1/website/product-types?company_id=\" + company_id).then(function (results) {\n                  return results.data;\n              });\n          }\n\n          var getFeaturedProducts = function (company_id) {\n              return $http.get(\"https://central-api.madebyblume.com/v1/products/featured?company_id=\" + company_id).then(function (results) {\n                  return results.data;\n              });\n          }\n\n          var productExpand = function (product_id) {\n              return $http.get(\"https://central-api.madebyblume.com/v1/website/products/expand?product_id=\" + product_id).then(function (results) {\n                  return results.data;\n              });\n          }\n\n          var getCollections = function (company_id) {\n              return $http.get(\"https://central-api.madebyblume.com/v1/website/collections?company_id=\" + company_id).then(function (results) {\n                  return results.data;\n              });\n          }\n\n          var getProductTypesByCollection = function(company_id, collection){\n              return $http.get(\"https://central-api.madebyblume.com/v1/website/collection/product-types?company_id=\" + company_id + \"&collection=\" + collection).then(function (results) {\n                  return results.data;\n              });\n          }\n\n          var setStoreData = function (company_id) {\n     \n              return $http.get(\"https://central-api.madebyblume.com/v1/website/storeData?company_id=\" + company_id).then(function (results) {\n                  \n                  $localStorage.storeData = results.data;\n\n                  return results;\n              });\n          };\n\n\n\n            return {\n              getProducts: getProducts,\n              getMoreProducts: getMoreProducts,\n              getDiscountProducts: getDiscountProducts,\n              getFeaturedProducts: getFeaturedProducts,\n              getCategories: getCategories,\n              productExpand: productExpand,\n              getCollections: getCollections,\n              setStoreData: setStoreData,\n              getProductTypesByCollection: getProductTypesByCollection\n            }\n        }\n})();\n\n(function(){\n  'use strict';\n    angular\n        .module('angular')\n        .factory('Blog', Blog);\n        Blog.$inject = ['$http'];\n        function Blog($http){\n\n          var getPosts = function (company_id) {\n              return $http({\n                  method: \"GET\",\n                  url: \"https://central-api.madebyblume.com/v1/website/blog-posts\",\n                  params: {\n                      company_id: company_id\n                  },\n                  headers: {\n                      'Accept': 'application/json',\n                      'Content-Type': 'application/json'\n                  }\n              })\n          }\n\n          var getPostDetails = function (id) {\n              return $http({\n                  method: \"GET\",\n                  url: \"https://central-api.madebyblume.com/v1/website/post/expand\",\n                  params: {\n                      id: id\n                  },\n                  headers: {\n                      'Accept': 'application/json',\n                      'Content-Type': 'application/json'\n                  }\n              })\n          }\n\n            return {\n              getPosts: getPosts,\n              getPostDetails: getPostDetails\n            }\n        }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .service('TwoCheckoutService', TwoCheckoutService);\n\n    TwoCheckoutService.$inject = ['$http','APP_INFO'];\n    function TwoCheckoutService($http,APP_INFO) {\n\n        var serviceBase = 'https://central-api.madebyblume.com/';\n        var TwoCheckoutService = {};\n\n\n\n        var _getToken = function(){\n          return $http({\n                    method: \"GET\",\n                    url: \"https://central-api.madebyblume.com/v1/payments/2co/key\",\n                    params: { company_id: APP_INFO.ID },\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-Type': 'application/json'\n                    }\n                });\n        }\n\n        var _createPayment = function (token, billingInfo) {\n          return $http.post('https://central-api.madebyblume.com/v1/payments/2co/invoice?token=' + token, billingInfo).then(function (results) {\n              return results;\n          });\n        };\n\n        TwoCheckoutService.getToken = _getToken;\n        TwoCheckoutService.createPayment = _createPayment;\n\n        return TwoCheckoutService;\n\n    }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('angular')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController($scope, $timeout, $mdSidenav, $log, $mdDialog, $rootScope, Catalog, APP_INFO, Website, Mail) {\n      var vm = this;\n\n      function init(){\n\n        //Initialize variables\n        vm.companyId = APP_INFO.ID;\n        \n        //Get Catalog collection titles\n        Catalog.getCollections(APP_INFO.ID).then(function (data) { vm.collections = data; },function(err){ Mail.errorLog(err) });\n\n        //Get navbar tabs\n        Website.navbar().then(function(results){ vm.navbar = results; },function(err){ Mail.errorLog(err) });\n\n        //Get total cart items\n        vm.items = $rootScope.cart.getTotalItems();\n\n      }\n\n      init();\n\n      $rootScope.$on('updateItemQ', function (event, data) {\n        vm.items = $rootScope.cart.getTotalItems();\n      });\n\n      $scope.toggleLeft = buildDelayedToggler('left');\n      $scope.toggleRight = buildToggler('right');\n      $scope.isOpenRight = function(){\n        return $mdSidenav('right').isOpen();\n      };\n      /**\n       * Supplies a function that will continue to operate until the\n       * time is up.\n       */\n      function debounce(func, wait, context) {\n        var timer;\n        return function debounced() {\n          var context = $scope,\n              args = Array.prototype.slice.call(arguments);\n              $timeout.cancel(timer);\n              timer = $timeout(function() {\n                timer = undefined;\n                func.apply(context, args);\n              }, wait || 10);\n            };\n      }\n      /**\n       * Build handler to open/close a SideNav; when animation finishes\n       * report completion in console\n       */\n      function buildDelayedToggler(navID) {\n        return debounce(function() {\n          $mdSidenav(navID)\n            .toggle()\n            .then(function () {\n              $log.debug(\"toggle \" + navID + \" is done\");\n            });\n        }, 200);\n      }\n      function buildToggler(navID) {\n        return function() {\n          $mdSidenav(navID)\n            .toggle()\n            .then(function () {\n              $log.debug(\"toggle \" + navID + \" is done\");\n            });\n        }\n      }\n\n      var originatorEv;\n      $scope.openMenu = function($mdOpenMenu, ev) {\n        originatorEv = ev;\n        $mdOpenMenu(ev);\n      };\n      this.notificationsEnabled = true;\n      this.toggleNotifications = function() {\n        this.notificationsEnabled = !this.notificationsEnabled;\n      };\n      this.redial = function() {\n        $mdDialog.show(\n          $mdDialog.alert()\n            .targetEvent(originatorEv)\n            .clickOutsideToClose(true)\n            .parent('body')\n            .title('Suddenly, a redial')\n            .textContent('You just called a friend; who told you the most amazing story. Have a cookie!')\n            .ok('That was easy')\n        );\n        originatorEv = null;\n      };\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('angular')\n    .directive('acmeMalarkey', acmeMalarkey);\n\n  /** @ngInject */\n  function acmeMalarkey(malarkey) {\n    var directive = {\n      restrict: 'E',\n      scope: {\n        extraValues: '='\n      },\n      template: '&nbsp;',\n      link: linkFunc,\n      controller: MalarkeyController,\n      controllerAs: 'vm'\n    };\n\n    return directive;\n\n    function linkFunc(scope, el, attr, vm) {\n      var watcher;\n      var typist = malarkey(el[0], {\n        typeSpeed: 40,\n        deleteSpeed: 40,\n        pauseDelay: 800,\n        loop: true,\n        postfix: ' '\n      });\n\n      el.addClass('acme-malarkey');\n\n      angular.forEach(scope.extraValues, function(value) {\n        typist.type(value).pause().delete();\n      });\n\n      watcher = scope.$watch('vm.contributors', function() {\n        angular.forEach(vm.contributors, function(contributor) {\n          typist.type(contributor.login).pause().delete();\n        });\n      });\n\n      scope.$on('$destroy', function () {\n        watcher();\n      });\n    }\n\n    /** @ngInject */\n    function MalarkeyController($log, githubContributor) {\n      var vm = this;\n\n      vm.contributors = [];\n\n      activate();\n\n      function activate() {\n        return getContributors().then(function() {\n          $log.info('Activated Contributors View');\n        });\n      }\n\n      function getContributors() {\n        return githubContributor.getContributors(10).then(function(data) {\n          vm.contributors = data;\n\n          return vm.contributors;\n        });\n      }\n    }\n\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('angular')\n    .factory('githubContributor', githubContributor);\n\n  /** @ngInject */\n  function githubContributor($log, $http) {\n    var apiHost = 'https://api.github.com/repos/Swiip/generator-gulp-angular';\n\n    var service = {\n      apiHost: apiHost,\n      getContributors: getContributors\n    };\n\n    return service;\n\n    function getContributors(limit) {\n      if (!limit) {\n        limit = 30;\n      }\n\n      return $http.get(apiHost + '/contributors?per_page=' + limit)\n        .then(getContributorsComplete)\n        .catch(getContributorsFailed);\n\n      function getContributorsComplete(response) {\n        return response.data;\n      }\n\n      function getContributorsFailed(error) {\n        $log.error('XHR Failed for getContributors.\\n' + angular.toJson(error.data, true));\n      }\n    }\n  }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .directive('acmeFooter', acmeFooter);\n\n    /** @ngInject */\n    function acmeFooter() {\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/footer/footer.html',\n            scope: {\n                creationDate: '='\n            },\n            controller: FooterController,\n            controllerAs: 'vm',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function FooterController(Website, APP_INFO, Mail) {\n            var vm = this;\n\n            Website.footer().then(function(results){\n              vm.footer = results;\n              var logo_url = \"//cms.blumewebsites.com/\" + vm.footer.logoUrl;\n\n              if(APP_INFO.chat.facebook){\n                //Initialize Chat Bubble\n                  var options = {\n                        facebook: APP_INFO.chat.facebook, // Facebook page ID\n                        whatsapp: APP_INFO.chat.whatsapp, // WhatsApp number\n                        company_logo_url: logo_url, // URL of company logo (png, jpg, gif)\n                        greeting_message: APP_INFO.chat.longMessage, // Text of greeting message\n                        call_to_action: APP_INFO.chat.shortMessage, // Call to action\n                        button_color: \"#129BF4\", // Color of button\n                        position: \"right\", // Position may be 'right' or 'left'\n                        order: APP_INFO.chat.order // Order of buttons\n                    };\n                    var proto = document.location.protocol, host = \"whatshelp.io\", url = proto + \"//static.\" + host;\n                    var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = url + '/widget-send-button/js/init.js';\n                    s.onload = function () { WhWidgetSendButton.init(host, proto, options); };\n                    var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);\n              }\n\n            },function(err){ Mail.errorLog(err) })\n            vm.selectedMode = 'md-fling';\n            vm.selectedDirection = 'right';\n            vm.isOpen = false;\n\n        };\n\n    }\n\n})();\n\n(function(){\n  angular\n    .module('angular')\n    .controller('ContactController',ContactController);\n    function ContactController($scope, $http){\n\t      \n\t      init();\n\n\t   function init(){\n\n\t\t   //Initialize Variables\n\t\t   $scope.delivered = false;\n\t\t   $scope.loading = false;\n\t\t   $scope.contact = {\n\t\t   \t\tname: \"\",\n\t\t   \t\temail: \"\",\n\t\t   \t\tmessage: \"\"\n\t\t   };\n\t\t   //Bind functions\n\t\t   $scope.sendMessage = sendMessage;\n\t   }\n\n\t   function sendMessage(){\n\t   \t\t$scope.loading = true;\n\t   \t\tvar company_email = \"info@golden-pet.com\";\n\t   \t\tvar company_name = \"Golden Pet\";\n\t   \t\tvar customer_email = $scope.contact.email;\n\t   \t\tvar customer_name = $scope.contact.name;\n\n\t   \t\t//build message\n\t   \t\tvar message = \"Correo: \" + $scope.contact.email + \"\\n\\n\"\n   \t\t\t\t\t\t+ \"Nombre: \" + $scope.contact.name + \"\\n\\n\"\n\t\t\t\t\t\t+ \"Mensaje: \" + $scope.contact.message + \"\\n\\n\";\n\n\t   \t\t$http({\n                  method: \"POST\",\n                  url: \"https://central-api.madebyblume.com/v1/mail/contact\",\n                  params: {\n                      company_email: company_email,\n                      company_name: company_name,\n                      customer_email: customer_email,\n                      customer_name: customer_name,\n                      message: message\n                  },\n                  headers: {\n                      'Accept': 'application/json',\n                      'Content-Type': 'application/json'\n                  }\n              }).then(function (response) {\n              \t\t$scope.loading = false;\n              \t\t$scope.delivered = true;\n                  })\n\t   }\n\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .controller('CatalogController', CatalogController);\n        function CatalogController($scope, Catalog, Products, APP_INFO, Personalization, Mail, $stateParams, $state) {\n        var vm = this;\n\n        $scope.setCategoryFilter = setCategoryFilter;\n        init();\n\n        function init() {\n\n          $scope.selectedCategory = \"\";\n          if($stateParams.productType){\n            $scope.selectedCategory = $stateParams.productType;\n          }\n          $scope.catalog = [];\n          vm.load_count = 0;\n          vm.busy = false;\n          vm.styles = Personalization.styles;\n          // vm.stop_loading = false;\n          vm.itemsDisplayed = 8;\n          vm.addMoreItems = addMoreItems;\n          vm.companyId = APP_INFO.ID;\n          vm.setSizeFilter = setSizeFilter;\n\n          vm.loader = true;\n          if($stateParams.variantName){\n            Products.allByVariantName($stateParams.variantName)\n              .then(function (data) {\n                  vm.catalog = data;\n                  vm.loader = false;\n              },function(err){ Mail.errorLog(err) });\n          } else {\n            Products.all()\n              .then(function (data) {\n                  vm.catalog = data;\n                  vm.loader = false;\n              },function(err){ Mail.errorLog(err) });\n          }\n\n          Catalog.getCategories(APP_INFO.ID)\n              .then(function (data) {\n                  $scope.categories = data;\n              },function(err){ Mail.errorLog(err) });\n\n          //Set store configuration\n          Catalog.setStoreData(APP_INFO.ID)\n            .then(function (response) {\n              vm.currency = response.data.currency;\n            },function(err){ Mail.errorLog(err) });\n\n        }\n\n        function setSizeFilter(sizeFilter){\n            if(sizeFilter != ''){\n                $state.go('productVariantsByName' ,{variantName: sizeFilter});\n            } else {\n                $state.go('products');\n            }\n        }\n\n        function addMoreItems(){\n            vm.itemsDisplayed += 4;\n        }\n\n        function setCategoryFilter(){\n          console.log($scope.selectedCategory);\n            $state.go('productsAlt',{'productType':$scope.selectedCategory});\n\n        }\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('angular')\n    .controller('ProductController', ProductController);\n\n  /** @ngInject */\n  function ProductController(Catalog,APP_INFO,$scope,$stateParams, Mail) {\n    var vm = this;\n    $scope.active = 0;\n    init();\n    ////////////////\n\n    function init() {\n\n      vm.option1 = \"\";\n      vm.option2 = \"\";\n      vm.option3 = \"\";\n      vm.outOfStock = [];\n\n      var product_id = $stateParams.product_id;\n\n      //Set store configuration\n      Catalog.setStoreData(APP_INFO.ID)\n        .then(function (response) {\n          $scope.currency = response.data.currency;\n        },function(err){ Mail.errorLog(err) });\n\n      Catalog.productExpand(product_id)\n          .then(function (data) {\n              $scope.product = data;\n\n              for (var i = $scope.product.variants.length - 1; i >= 0; i--) {\n                $scope.product.variants[i].name = $scope.product.variants[i].name.trim();\n                if($scope.product.variants[i].quantity == 0){\n                  vm.outOfStock.push($scope.product.variants[i].name);\n                  $scope.product.variants.splice(i, 1);\n                }\n              };\n\n              $scope.price = $scope.product.variants[0].price;\n\n              if($scope.product.options.length > 0){\n                  vm.option1 = $scope.product.options[0].values[0];\n              }\n              if($scope.product.options.length > 1){\n                  vm.option2 = $scope.product.options[1].values[0];\n              }\n              if($scope.product.options.length > 2){\n                  vm.option3 = $scope.product.options[2].values[0];\n              }\n\n              if(vm.option2 == \"\" && vm.option3 == \"\"){\n                for (var k = 0; k < vm.outOfStock.length; k++) {\n                  for (var j = 0; j < $scope.product.options[0].values.length; j++) {\n                    if(vm.outOfStock[k] == $scope.product.options[0].values[j]){\n                      $scope.product.options[0].values.splice(j,1);\n                    }\n                  };\n                };\n              }\n\n          },function(err){ Mail.errorLog(err) })\n\n    }\n\n    $scope.setActive = function(index) {\n        $scope.product.images[index].active=true;\n      }\n\n    $scope.share = function(product){\n      window.open('https://www.facebook.com/sharer.php?caption=' + product.title + '&u=https://cms.blumewebsites.com/' + product.images[0].relative_url, 'Share', 'scrollbars=yes,resizable=yes,toolbar=no,menubar=no,scrollbars=no,location=no,directories=no,width=400, height=300, top=300, left=300' );\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('angular')\n    .controller('PageHeaderController', PageHeaderController);\n\n  /** @ngInject */\n  function PageHeaderController(MetaTags, $scope) {\n    var vm = this;\n    $scope.Page = MetaTags;\n    $scope.pixelId = \"123123123\";\n  }\n\n})();\n\n(function(){\n    'use strict';\n\n\nangular.module('ngCart', ['ngCart.directives'])\n\n    .config([function () {\n\n    }])\n\n    .provider('$ngCart', function () {\n        this.$get = function () {\n        };\n    })\n\n    .run(['$rootScope', 'ngCart','ngCartItem', 'store', function ($rootScope, ngCart, ngCartItem, store) {\n\n        $rootScope.$on('ngCart:change', function(){\n            ngCart.$save();\n        });\n\n        if (angular.isObject(store.get('cart'))) {\n            ngCart.$restore(store.get('cart'));\n\n        } else {\n            ngCart.init();\n        }\n\n    }])\n\n    .service('ngCart', ['$rootScope', 'ngCartItem', 'store', function ($rootScope, ngCartItem, store) {\n\n        this.init = function(){\n            this.$cart = {\n                shipping : null,\n                taxRate : null,\n                weight : null,\n                tax : null,\n                items : []\n            };\n        };\n\n        this.addItem = function (id, name, price, quantity, data) {\n\n            var inCart = this.getItemById(id);\n\n            if (typeof inCart === 'object'){\n                //Update quantity of an item if it's already in the cart\n                inCart.setQuantity(quantity, false);\n                $rootScope.$broadcast('ngCart:itemUpdated', inCart);\n            } else {\n                var newItem = new ngCartItem(id, name, price, quantity, data);\n                this.$cart.items.push(newItem);\n                $rootScope.$broadcast('ngCart:itemAdded', newItem);\n            }\n            $rootScope.$broadcast('ngCart:change', {});\n            $rootScope.$broadcast('updateItemQ', '');\n        };\n\n        this.getItemById = function (itemId) {\n            var items = this.getCart().items;\n            var build = false;\n\n            angular.forEach(items, function (item) {\n                if  (item.getId() === itemId) {\n                    build = item;\n                }\n            });\n            return build;\n        };\n\n        this.setShipping = function(shipping){\n            this.$cart.shipping = shipping;\n            return this.getShipping();\n        };\n\n        this.getShipping = function(){\n            if (this.getCart().items.length == 0) return 0;\n            return  this.getCart().shipping;\n        };\n\n        this.setWeight = function(weight){\n            this.$cart.weight = weight;\n            return this.getWeight();\n        };\n\n        this.getWeight = function(){\n            if (this.getCart().items.length == 0) return 0;\n            return  this.getCart().weight;\n        };\n\n        this.setTaxRate = function(taxRate){\n            this.$cart.taxRate = +parseFloat(taxRate).toFixed(2);\n            return this.getTaxRate();\n        };\n\n        this.getTaxRate = function(){\n            return this.$cart.taxRate\n        };\n\n        this.getTax = function(){\n            return +parseFloat(((this.getSubTotal()/100) * this.getCart().taxRate )).toFixed(2);\n        };\n\n        this.setCart = function (cart) {\n            this.$cart = cart;\n            return this.getCart();\n        };\n\n        this.getCart = function(){\n            return this.$cart;\n        };\n\n        this.getItems = function(){\n            return this.getCart().items;\n        };\n\n        this.getCustomItems = function () {\n\n            var oldItems = this.getCart().items;\n            var newItems = [];\n\n            for (var i = 0; i < oldItems.length; i++) {\n                var item = {\n                    product_variant_id: oldItems[i]._id,\n                    short_description: oldItems[i]._name + \" \" + oldItems[i]._data.selectedVariant,\n                    quantity: oldItems[i]._quantity,\n                    unit_price: oldItems[i]._price\n                };\n                newItems.push(item);\n            }\n\n            return newItems;\n        };\n\n        this.getTotalItems = function () {\n            var count = 0;\n            var items = this.getItems();\n            angular.forEach(items, function (item) {\n                count += item.getQuantity();\n            });\n            return count;\n        };\n\n        this.getTotalWeight = function () {\n            var weight = 0;\n            var items = this.getItems();\n            angular.forEach(items, function (item) {\n                weight += item._data.weight * item.getQuantity();\n            });\n            return weight;\n        };\n\n        this.getTotalUniqueItems = function () {\n            return this.getCart().items.length;\n        };\n\n        this.getSubTotal = function(){\n            var total = 0;\n            angular.forEach(this.getCart().items, function (item) {\n                total += item.getTotal();\n            });\n            return +parseFloat(total).toFixed(2);\n        };\n\n        this.totalCost = function () {\n            return parseFloat(this.getSubTotal() + this.getShipping() + this.getTax()).toFixed(2);\n        };\n\n        this.removeItem = function (index) {\n            var item = this.$cart.items.splice(index, 1)[0] || {};\n            $rootScope.$broadcast('ngCart:itemRemoved', item);\n            $rootScope.$broadcast('ngCart:change', {});\n\n        };\n\n        this.removeItemById = function (id) {\n            var item;\n            var cart = this.getCart();\n            angular.forEach(cart.items, function (item, index) {\n                if(item.getId() === id) {\n                    item = cart.items.splice(index, 1)[0] || {};\n                }\n            });\n            this.setCart(cart);\n            $rootScope.$broadcast('ngCart:itemRemoved', item);\n            $rootScope.$broadcast('ngCart:change', {});\n            $rootScope.$broadcast('updateItemQ', {});\n        };\n\n        this.empty = function () {\n\n            $rootScope.$broadcast('ngCart:change', {});\n            this.$cart.items = [];\n            localStorage.removeItem('cart');\n        };\n\n        this.isEmpty = function () {\n\n            return (this.$cart.items.length > 0 ? false : true);\n\n        };\n\n        this.toObject = function() {\n\n            if (this.getItems().length === 0) return false;\n\n            var items = [];\n            angular.forEach(this.getItems(), function(item){\n                items.push (item.toObject());\n            });\n\n            return {\n                shipping: this.getShipping(),\n                weight: this.getWeight(),\n                tax: this.getTax(),\n                taxRate: this.getTaxRate(),\n                subTotal: this.getSubTotal(),\n                totalCost: this.totalCost(),\n                items:items\n            }\n        };\n\n\n        this.$restore = function(storedCart){\n            var _self = this;\n            _self.init();\n            _self.$cart.shipping = storedCart.shipping;\n            _self.$cart.tax = storedCart.tax;\n            _self.$cart.weight = storedCart.weight;\n            angular.forEach(storedCart.items, function (item) {\n                _self.$cart.items.push(new ngCartItem(item._id,  item._name, item._price, item._quantity, item._data));\n            });\n            this.$save();\n        };\n\n        this.$save = function () {\n            return store.set('cart', JSON.stringify(this.getCart()));\n        }\n\n    }])\n\n    .factory('ngCartItem', ['$rootScope', '$log', function ($rootScope, $log) {\n\n        var item = function (id, name, price, quantity, data) {\n            this.setId(id);\n            this.setName(name);\n            this.setPrice(price);\n            this.setQuantity(quantity);\n            this.setData(data);\n        };\n\n\n        item.prototype.setId = function(id){\n            if (id)  this._id = id;\n            else {\n                $log.error('An ID must be provided');\n            }\n        };\n\n        item.prototype.getId = function(){\n            return this._id;\n        };\n\n\n        item.prototype.setName = function(name){\n            if (name)  this._name = name;\n            else {\n                $log.error('A name must be provided');\n            }\n        };\n        item.prototype.getName = function(){\n            return this._name;\n        };\n\n        item.prototype.setPrice = function(price){\n            var priceFloat = parseFloat(price);\n            if (priceFloat) {\n                if (priceFloat <= 0) {\n                    $log.error('A price must be over 0');\n                } else {\n                    this._price = (priceFloat);\n                }\n            } else {\n                $log.error('A price must be provided');\n            }\n        };\n        item.prototype.getPrice = function(){\n            return this._price;\n        };\n\n\n        item.prototype.setQuantity = function(quantity, relative){\n\n\n            var quantityInt = parseInt(quantity);\n            if (quantityInt % 1 === 0){\n                if (relative === true){\n                    this._quantity  += quantityInt;\n                } else {\n                    this._quantity = quantityInt;\n                }\n                if (this._quantity < 1) this._quantity = 1;\n                $rootScope.$broadcast('ngCart:change', {});\n            } else {\n                this._quantity = 1;\n                $log.info('Quantity must be an integer and was defaulted to 1');\n            }\n\n\n        };\n\n        item.prototype.getQuantity = function(){\n            return this._quantity;\n        };\n\n        item.prototype.setData = function(data){\n            if (data) this._data = data;\n        };\n\n        item.prototype.getData = function(){\n            if (this._data) return this._data;\n            else $log.info('This item has no data');\n        };\n\n\n        item.prototype.getTotal = function(){\n            return +parseFloat(this.getQuantity() * this.getPrice()).toFixed(2);\n        };\n\n        item.prototype.toObject = function() {\n            return {\n                id: this.getId(),\n                name: this.getName(),\n                price: this.getPrice(),\n                quantity: this.getQuantity(),\n                data: this.getData(),\n                total: this.getTotal()\n            }\n        };\n\n        return item;\n\n    }])\n\n    .service('store', ['$window', function ($window) {\n\n        return {\n\n            get: function (key) {\n                if ($window.localStorage [key]) {\n                    var cart = angular.fromJson($window.localStorage [key]);\n                    return JSON.parse(cart);\n                }\n                return false;\n\n            },\n\n\n            set: function (key, val) {\n\n                if (val === undefined) {\n                    $window.localStorage .removeItem(key);\n                } else {\n                    $window.localStorage [key] = angular.toJson(val);\n                }\n                return $window.localStorage [key];\n            }\n        }\n    }])\n\n    .controller('CartController',['$scope', 'ngCart', function($scope, ngCart) {\n        $scope.ngCart = ngCart;\n\n    }])\n\n    .value('version', '1.0.0');\n;'use strict';\n\n\nangular.module('ngCart.directives', ['ngCart.fulfilment'])\n\n    .controller('CartController',['$scope', 'ngCart', function($scope, ngCart) {\n        $scope.ngCart = ngCart;\n    }])\n\n    .directive('ngcartAddtocart', ['ngCart', function(ngCart){\n        return {\n            restrict : 'E',\n            controller : 'CartController',\n            scope: {\n                id:'@',\n                name:'@',\n                quantity:'@',\n                quantityMax:'@',\n                price:'@',\n                data:'='\n            },\n            transclude: true,\n            templateUrl: function(element, attrs) {\n                if ( typeof attrs.templateUrl == 'undefined' ) {\n                    return 'app/ngCart/addtocart.html';\n                } else {\n                    return attrs.templateUrl;\n                }\n            },\n            link:function(scope, element, attrs){\n                scope.attrs = attrs;\n                scope.inCart = function(){\n                    return  ngCart.getItemById(attrs.id);\n                };\n\n                if (scope.inCart()){\n                    scope.q = ngCart.getItemById(attrs.id).getQuantity();\n                } else {\n                    scope.q = parseInt(scope.quantity);\n                }\n\n                scope.qtyOpt =  [];\n                for (var i = 1; i <= scope.quantityMax; i++) {\n                    scope.qtyOpt.push(i);\n                }\n\n            }\n\n        };\n    }])\n\n    .directive('ngcartDetail', ['ngCart', function(ngCart){\n            return {\n                restrict : 'E',\n                controller : 'CartController',\n                scope: {\n                    id:'@',\n                    name:'@',\n                    quantity:'@',\n                    quantityMax:'@',\n                    price:'@',\n                    data:'='\n                },\n                transclude: true,\n                templateUrl: function(element, attrs) {\n                    if ( typeof attrs.templateUrl == 'undefined' ) {\n                        return 'app/ngCart/detail.html';\n                    } else {\n                        return attrs.templateUrl;\n                    }\n                },\n                link:function(scope, element, attrs){\n                    scope.attrs = attrs;\n                    scope.inCart = function(){\n                        return  ngCart.getItemById(attrs.id);\n                    };\n\n                    if (scope.inCart()){\n                        scope.q = ngCart.getItemById(attrs.id).getQuantity();\n                    } else {\n                        scope.q = parseInt(scope.quantity);\n                    }\n\n                    scope.qtyOpt =  [];\n                    for (var i = 1; i <= scope.quantityMax; i++) {\n                        scope.qtyOpt.push(i);\n                    }\n\n                }\n\n            };\n        }])\n\n    .directive('ngcartCart', [function(){\n        return {\n            restrict : 'E',\n            controller : 'CartController',\n            scope: {},\n            templateUrl: function(element, attrs) {\n                if ( typeof attrs.templateUrl == 'undefined' ) {\n                    return 'app/ngCart/cart.html';\n                } else {\n                    return attrs.templateUrl;\n                }\n            },\n            link:function(scope, element, attrs){\n\n            }\n        };\n    }])\n\n    .directive('ngcartSummary', [function(){\n        return {\n            restrict : 'E',\n            controller : 'CartController',\n            scope: {},\n            transclude: true,\n            templateUrl: function(element, attrs) {\n                if ( typeof attrs.templateUrl == 'undefined' ) {\n                    return 'app/ngCart/summary.html';\n                } else {\n                    return attrs.templateUrl;\n                }\n            }\n        };\n    }])\n\n    .directive('ngcartCheckout', [function(){\n        return {\n            restrict : 'E',\n            controller : ('CartController', ['$rootScope', '$scope', 'ngCart', 'fulfilmentProvider', function($rootScope, $scope, ngCart, fulfilmentProvider) {\n                $scope.ngCart = ngCart;\n\n                $scope.checkout = function () {\n                    fulfilmentProvider.setService($scope.service);\n                    fulfilmentProvider.setSettings($scope.settings);\n                    fulfilmentProvider.checkout()\n                        .success(function (data, status, headers, config) {\n                            $rootScope.$broadcast('ngCart:checkout_succeeded', data);\n                        })\n                        .error(function (data, status, headers, config) {\n                            $rootScope.$broadcast('ngCart:checkout_failed', {\n                                statusCode: status,\n                                error: data\n                            });\n                        });\n                }\n            }]),\n            scope: {\n                service:'@',\n                settings:'='\n            },\n            transclude: true,\n            templateUrl: function(element, attrs) {\n                if ( typeof attrs.templateUrl == 'undefined' ) {\n                    return 'app/ngCart/checkout.html';\n                } else {\n                    return attrs.templateUrl;\n                }\n            }\n        };\n    }]);\n;\nangular.module('ngCart.fulfilment', [])\n    .service('fulfilmentProvider', ['$injector', function($injector){\n\n        this._obj = {\n            service : undefined,\n            settings : undefined\n        };\n\n        this.setService = function(service){\n            this._obj.service = service;\n        };\n\n        this.setSettings = function(settings){\n            this._obj.settings = settings;\n        };\n\n        this.checkout = function(){\n            var provider = $injector.get('ngCart.fulfilment.' + this._obj.service);\n              return provider.checkout(this._obj.settings);\n\n        }\n\n    }])\n\n\n.service('ngCart.fulfilment.log', ['$q', '$log', 'ngCart', function($q, $log, ngCart){\n\n        this.checkout = function(){\n\n            var deferred = $q.defer();\n\n            $log.info(ngCart.toObject());\n            deferred.resolve({\n                cart:ngCart.toObject()\n            });\n\n            return deferred.promise;\n\n        }\n\n }])\n\n.service('ngCart.fulfilment.http', ['$http', 'ngCart', function($http, ngCart){\n\n        this.checkout = function(settings){\n            return $http.post(settings.url,\n                { data: ngCart.toObject(), options: settings.options});\n        }\n }])\n\n\n.service('ngCart.fulfilment.paypal', ['$http', 'ngCart', function($http, ngCart){\n\n\n}]);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('angular')\n    .controller('MainController', MainController)\n    .controller('LeftCtrl',LeftCtrl);\n\n  /** @ngInject */\n  function MainController(APP_INFO, Website, Products, Personalization, $sce, Catalog, Mail) {\n    var vm = this;\n\n    function init(){\n\n      vm.widgetApprovedUrl = \"\";\n      vm.instagram = APP_INFO.instagram;\n      vm.loader = true;\n      vm.styles = Personalization.styles;\n      vm.companyName = APP_INFO.directory;\n\n      //Get featured products\n      Products.featured().then(function (data) { vm.featuredProducts = data; vm.loader = false; },function(err){ Mail.errorLog(err) });\n\n      //Get currency\n      Website.settings().then(function (data) { vm.currency = data.currency; },function(err){ Mail.errorLog(err) });\n\n      //Build home page\n      Website.home().then(function (data){ \n        vm.home = data; \n        vm.widgetApprovedUrl = $sce.trustAsResourceUrl(\"//lightwidget.com/widgets/\"+vm.home.secondaryBodyDescription+\".html\"); \n      },function(err){ Mail.errorLog(err) });\n    }\n\n    init();\n  }\n\n  function LeftCtrl($scope, $timeout, $mdSidenav, $log, $state, $cookies, $rootScope, Catalog, APP_INFO, Website, Mail){\n    var vm = this;\n\n    function init(){\n\n      //Initialize variables\n      vm.companyId = APP_INFO.ID;\n\n      //Get Catalog collection titles\n      Catalog.getCollections(APP_INFO.ID).then(function (data) { vm.collections = data; },function(err){ Mail.errorLog(err) });\n\n      //Get navbar tabs\n      Website.navbar().then(function (data){ vm.navbar = data; },function(err){ Mail.errorLog(err) });\n\n    }\n    init();\n\n    vm.close = function () {\n      $mdSidenav('left').close()\n        .then(function () {\n        });\n    };\n\n    vm.goTo = function(tabName){\n      $state.go(tabName);\n      vm.close();\n    }\n\n    vm.collection = function(collection_title){\n        $state.go('collection', {name: collection_title});\n        vm.close();\n    }\n\n    vm.cremacion = function(){\n        $state.go('cremacion');\n        vm.close();\n    }\n\n    vm.preguntas = function(){\n        $state.go('preguntas');\n        vm.close();\n    }\n\n    vm.proveedor = function(){\n        $state.go('proveedor');\n        vm.close();\n    }\n\n    vm.discounts = function(){\n        $state.go('discounts');\n        vm.close();\n    }\n\n  }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .controller('LocatorController', LocatorController);\n        function LocatorController(Website, NgMap, Personalization, Mail) {\n        var vm = this;\n        vm.map = null;\n\n        //Initialize controller\n        init();\n\n        function init(){\n            //Get store locations settings\n            vm.selected_store = {};\n            vm.center = \"San Jos, Costa Rica\";\n            vm.getStoreSettings = Website.getStoreSettings;\n            vm.styles = Personalization.styles;\n            vm.getStoreSettings().then(function(results){\n                vm.store_locations = results.locations;\n                vm.location = results.location;\n                NgMap.getMap().then(function(map) { \n                    vm.map = map;\n                  });\n            },function(err){ Mail.errorLog(err) });\n\n            //Bind functions\n            vm.showInfo = showInfo;\n            vm.centerMap = centerMap;\n        }\n\n        function showInfo(event, store){\n            vm.selected_store = store;\n            vm.map.showInfoWindow('foo', this);\n        }\n\n        function centerMap(location){\n            vm.center = location.coordinates;\n        }\n        \n\n    }\n})();\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .controller('FAQController', FAQController);\n        function FAQController(Website) {\n        var vm = this;\n\n        //Get Website settings\n        vm.faq = [\n        {\n            group: \"Customer Questions\",\n            questions: [\n            {\n                question: \"WHY ARE SELLERS ALLOWED TO LEAVE ONLY POSITIVE FEEDBACK FOR BUYERS?\",\n                answer: \"Now principles discovered off increasing how reasonably middletons men. Add seems out man met plate court sense. His joy she worth truth given. All year feet led view went sake. You agreeable breakfast his set perceived immediate. Stimulated man are projecting favourable middletons can cultivated.\"\n            },\n            {\n                question: \"WHY ARE SELLERS ALLOWED TO LEAVE ONLY POSITIVE FEEDBACK FOR BUYERS?\",\n                answer: \"Now principles discovered off increasing how reasonably middletons men. Add seems out man met plate court sense. His joy she worth truth given. All year feet led view went sake. You agreeable breakfast his set perceived immediate. Stimulated man are projecting favourable middletons can cultivated.\"\n            }\n            ]\n        }\n        ]\n        \n\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .controller('DiscountController', DiscountController);\n        function DiscountController($scope, Catalog, APP_INFO, Personalization, Mail, $state) {\n        var vm = this;\n\n        $scope.setCategoryFilter = setCategoryFilter;\n        init();\n\n        function init() {\n\n          $scope.selectedCategory = \"\";\n\n          vm.loader = true;\n          vm.styles = Personalization.styles;\n          vm.itemsDisplayed = 8;\n          vm.addMoreItems = addMoreItems;\n          vm.companyId = APP_INFO.ID;\n          vm.setSizeFilter = setSizeFilter;\n\n          Catalog.getDiscountProducts(APP_INFO.ID)\n              .then(function (data) {\n                  $scope.catalog = data;\n                  vm.loader = false;\n              },function(err){ Mail.errorLog(err) });\n\n          Catalog.getCategories(APP_INFO.ID)\n              .then(function (data) {\n                  $scope.categories = data;\n              },function(err){ Mail.errorLog(err) });\n\n          //Set store configuration\n          Catalog.setStoreData(APP_INFO.ID)\n            .then(function (response) {\n              vm.currency = response.data.currency;\n            },function(err){ Mail.errorLog(err) });\n\n        }\n\n        function setSizeFilter(sizeFilter){\n            if(sizeFilter != ''){\n                $state.go('productVariantsByName' ,{variantName: sizeFilter});\n            } else {\n                $state.go('products');\n            }\n        }\n\n        function addMoreItems(){\n            vm.itemsDisplayed += 4;\n        }\n\n        function setCategoryFilter(category){\n            $scope.selectedCategory = category.title;\n        }\n    }\n})();\n\n(function(){\n  angular\n    .module('angular')\n    .controller('CollectionController',CollectionController);\n    function CollectionController($stateParams, Catalog, Products, APP_INFO, $scope, Personalization, Mail, $state){\n      var vm = this;\n      vm.collection = $stateParams.name;\n\n\t    init();\n\n\t    function init() {\n\t      vm.loader = true;\n\t\t  vm.styles = Personalization.styles;\n\t\t  vm.itemsDisplayed = 8;\n          vm.addMoreItems = addMoreItems;\n          vm.companyId = APP_INFO.ID;\n          vm.setSizeFilter = setSizeFilter;\n          $scope.setCategoryFilter = setCategoryFilter;\n\n          if($stateParams.variantName){\n            Products.allByVariantName($stateParams.variantName)\n            .then(function (data) {\n                vm.catalog = data;\n                vm.loader = false;\n            },function(err){ Mail.errorLog(err) });\n          } else {\n            Products.all()\n              .then(function (data) {\n                  vm.catalog = data;\n                  vm.loader = false;\n              },function(err){ Mail.errorLog(err) });\n          }\n\n\t      Catalog.getProductTypesByCollection(APP_INFO.ID,vm.collection)\n\t          .then(function (data) {\n\t              vm.categories = data;\n\t          },function(err){ Mail.errorLog(err) });\n\n          //Set store configuration\n          Catalog.setStoreData(APP_INFO.ID)\n            .then(function (response) {\n              vm.currency = response.data.currency;\n            },function(err){ Mail.errorLog(err) });\n\n\t\t}\n\t\t\n\t\tfunction setSizeFilter(sizeFilter){\n            if(sizeFilter != ''){\n                $state.go('collectionByVariantName' ,{name: $stateParams.name, variantName: sizeFilter});\n            } else {\n                $state.go('collection', {name:$stateParams.name});\n            }\n        }\n\n        function addMoreItems(){\n            vm.itemsDisplayed += 4;\n        }\n\n\t    function setCategoryFilter(category){\n\t        vm.selectedCategory = category.title;\n\t    }\n\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .controller('CheckoutController', CheckoutController);\n\n    CheckoutController.$inject = ['ngCart', 'Checkout', 'Delivery', 'Website', '$scope', 'md5', 'APP_INFO', '$timeout', 'Countries', 'Mail'];\n    function CheckoutController(ngCart, Checkout, Delivery, Website, $scope, md5, APP_INFO, $timeout, Countries, Mail) {\n        var vm = this;\n\n        init();\n        //Initialize token on checkout start\n        vm.getToken();\n\n        function init(){\n\n            //Initialize variables\n            vm.loader = false;\n            vm.customer = Delivery.customer;\n            vm.address = Delivery.address;\n            vm.billing_address = Delivery.billing_address;\n            vm.destination_coords = Delivery.destination_coords;\n            if(Checkout.discount_code.valid){\n                Checkout.discount_code.valid = false;\n                Checkout.discount_code.value = '';\n                Checkout.discount_code.amount = 0;\n            }\n            vm.has_international_shipping = APP_INFO.international_shipping;\n            vm.discount_code = Checkout.discount_code;\n            vm.website_url = APP_INFO.website_url;\n            vm.loading_location = false;\n            vm.card = Checkout.card;\n            vm.card_options = Checkout.card_options;\n            vm.card_options_2 = Checkout.card_options_2;\n            vm.two_co = Checkout.two_co;\n            vm.temp = Checkout.temp;\n            vm.selected_method = \"TwoCheckout\";\n            vm.use_ft_payment = false;\n            vm.countries = Countries.list;\n            vm.country_selected = \"\";\n            vm.pickup_in_store = false;\n            vm.bac = APP_INFO.bac;\n            vm.getDeliveryFares = Delivery.getDeliveryFares;\n            vm.months = [\"01\",\"02\",\"03\",\"04\",\"05\",\"06\",\"07\",\"08\",\"09\",\"10\",\"11\",\"12\"];\n            vm.years = [\"2018\",\"2019\",\"2020\",\"2021\",\"2022\",\"2023\",\"2024\",\"2025\",\"2026\",\"2027\",\"2028\",\"2029\",\"2030\"];\n            vm.changeDeliveryCompany = Delivery.changeDeliveryCompany;\n            vm.getDeliveryFares().then(function(results){\n                vm.store_fares = results;\n                if(vm.store_fares.length == 0){\n                    vm.pickup_in_store = true;\n                } else {\n                    vm.destination_coords.selected_fare = vm.store_fares[0].id;\n                    vm.changeDeliveryCompany();\n                }\n            },function(err){ Mail.errorLog(err) });\n            \n\n            vm.total = (ngCart.totalCost() - vm.discount_code.amount).toFixed(2);\n            vm.customer_address = Delivery.customer_address;\n            if(!vm.address.address){\n                ngCart.setShipping(0);\n            }\n            vm.getStoreSettings = Website.getStoreSettings;\n            vm.getStoreSettings().then(function(results){\n                vm.store = results;\n                setTaxRate();\n                setDefaultPaymentMethod();\n            },function(err){ Mail.errorLog(err) });\n            //Get Website settings\n            vm.getSettings = Delivery.getSettings;\n            vm.getSettings().then(function(results){\n                vm.settings = results;\n            },function(err){ Mail.errorLog(err) })\n\n            TCO.loadPubKey('production');\n\n\n            //Cart summary functions\n            vm.checkStock = Checkout.checkStock;\n            Checkout.verifyStock();\n\n            //Cart address functions\n            vm.mapClick = Delivery.mapClick;\n            vm.placeLookup = Delivery.placeLookup;\n            vm.dragDestination = Delivery.dragDestination;\n            vm.verifyData = Checkout.verifyData;\n            vm.calculateShipping = Delivery.calculateShipping;\n            vm.syncCustomerAddress = Delivery.syncCustomerAddress;\n            vm.syncBillingAddress = Delivery.syncBillingAddress;\n            vm.toggleDelivery = Delivery.toggleDelivery;\n            vm.distanceBasedPricing = Delivery.distanceBasedPricing;\n            vm.weightBasedPricing = Delivery.weightBasedPricing;\n            vm.currentLocation = currentLocation;\n            vm.calculateExportShipping = Delivery.calculateExportShipping;\n            vm.toggleExport = toggleExport;\n\n            //Cart checkout functions\n            vm.getToken = Checkout.getToken;\n            vm.showPrompt = Checkout.showPrompt;\n            vm.makePayment = Checkout.makePayment;\n            vm.createCustomer = Checkout.createCustomer;\n            vm.setPaymentMethod = setPaymentMethod;\n            vm.payWithFtTechnologies = payWithFtTechnologies;\n            vm.selectCardAsPaymentMethod = selectCardAsPaymentMethod;\n            vm.submitBAC = submitBAC;\n\n            vm.timestamp = Math.round((new Date()).getTime() / 1000);\n            \n\n        }\n        \n        // Broadcast notification after calculating shipping cost\n        Delivery.broadcastShippingCost($scope, function broadcastUpdate() {\n            // Handle notification\n            setTimeout(function(){\n                if(!vm.export){\n                    vm.calculateShipping();\n                } \n                vm.syncCustomerAddress();\n                vm.syncBillingAddress();\n                vm.total = (ngCart.totalCost() - vm.discount_code.amount).toFixed(2);\n                vm.loading_location = false;\n                $scope.$apply();\n                }, 500);\n        });\n\n        function setTaxRate(){\n            if(vm.store.charge_tax){\n                ngCart.setTaxRate(vm.store.tax_rate);\n            } \n        }\n\n        function toggleExport(){\n            if(vm.country_selected!=''){\n                vm.calculateExportShipping(vm.country_selected);\n            }\n        }\n\n        function setPaymentMethod(){\n            vm.syncCustomerAddress();\n            if(vm.selected_method == 'TwoCheckout'){\n                Checkout.order.payment_method = 'Credit Card';\n                vm.makePayment();\n            } else if(vm.selected_method == 'FtTechnologies'){\n                Checkout.order.payment_method = 'Credit Card';\n                payWithFtTechnologies();\n            } else if(vm.selected_method == 'BankAccount'){\n                Checkout.order.payment_method = 'Bank Transfer';\n                vm.createCustomer();\n            } else if(vm.selected_method =='Paypal'){\n                Checkout.order.payment_method = 'Paypal';\n                submitPaypal();\n            }\n        }\n\n        function currentLocation(){\n            vm.loading_location = true;\n            Delivery.currentLocation();\n        }\n\n        function setDefaultPaymentMethod(){\n            if(vm.store.payment_options.twocheckout){\n                vm.selected_method = \"TwoCheckout\";\n            } else if(vm.store.payment_options.fttechnologies){\n                vm.selected_method = \"FtTechnologies\";\n            } else if(vm.store.payment_options.bacsanjose){\n                vm.selected_method = \"BACSanJose\";\n            } else if(vm.store.payment_options.paypal){\n                vm.selected_method = \"Paypal\";\n            } else if(vm.store.payment_options.banktransfer) {\n                vm.selected_method = \"BankTransfer\";\n            }\n        }\n\n        function submitBAC(){\n            vm.loader = true;\n            vm.temp = Checkout.temp;\n            vm.discount_code = Checkout.discount_code;\n            \n            if(!vm.card.exp_month){\n                vm.card.exp_month = vm.card.expiry.substring(0, 2);\n                if(vm.card.expiry.length > 7){\n                  vm.card.exp_year = vm.card.expiry.substring(7, 9);\n                } else {\n                  vm.card.exp_year = vm.card.expiry.substring(5, 7);\n                }\n            }\n\n            vm.card.expiry = vm.card.exp_month + vm.card.exp_year;\n            \n            if(vm.temp.purchase.order_id != 0 && vm.temp.purchase.order_id != null){\n                \n                vm.temp.timestamp = Math.round((new Date()).getTime() / 1000);\n                var total = (ngCart.totalCost() - vm.discount_code.amount).toFixed(2);\n                vm.temp.prehash = vm.temp.purchase.order_id + \"|\" + total + \"|\" + vm.temp.timestamp + \"|\" + APP_INFO.bac.applicationPassword;\n                vm.temp.hash = md5.createHash(vm.temp.prehash);\n                \n                Mail.bacPurchaseParameterLog(vm.temp,vm.total,vm.address, vm.card.exp_month, vm.card.exp_year).then(function (response) { console.log(\"API call logged\")} );\n\n                setTimeout(function(){\n                    document.getElementById(\"CredomaticPost\").submit();\n                    }, 2000);\n            } else {\n                vm.loader = false;\n                vm.error_message = \"Hubo un error al crear su orden, por favor haga click en volver, refresque la pgina y vuelva a intentarlo.\";\n            }\n\n            \n        }\n\n        function submitPaypal(){\n            document.getElementById(\"PaypalPost\").submit();\n        }\n\n        function payWithFtTechnologies(){\n\n            //split expiry date\n            // vm.card.exp_month = parseInt(vm.card.expiry.substring(0, 2));\n            // if(vm.card.expiry.length > 7){\n            //   vm.card.exp_year = parseInt('20' + vm.card.expiry.substring(7, 9));\n            // } else {\n            //   vm.card.exp_year = parseInt('20' + vm.card.expiry.substring(5, 7));\n            // }\n\n            // var card_number = vm.card.number.replace(/\\s/g, '');\n            \n            vm.temp = Checkout.temp;\n            \n            var args = {\n                applicationName:APP_INFO.gateway.applicationName,\n                applicationPassword:APP_INFO.gateway.applicationPassword,\n                chargeDescription: vm.temp.purchase.order_number,\n                transactionCurrency: vm.store.currency,\n                transactionAmount: vm.total,\n                primaryAccountNumber: vm.card.number,\n                expirationMonth: vm.card.exp_month,\n                expirationYear: vm.card.exp_year,\n                verificationValue: vm.card.cvc\n            };\n\n            Mail.ftPurchaseParameterLog(args).then(function (response) { console.log(\"Call logged\")} );\n\n            Checkout.chargeCardUsingFtTechnologies(args).then(function (response) {\n                //Send parameter log\n                \n            },function(err){ Mail.errorLog(err) });\n\n        }\n\n        function selectCardAsPaymentMethod() {\n            if(vm.store.payment_options.fttechnologies){\n                vm.selected_method = \"FtTechnologies\";\n            } else if(vm.store.payment_options.twocheckout){\n                vm.selected_method = \"TwoCheckout\";\n            }\n        }\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .controller('ConfirmationController', ConfirmationController);\n        function ConfirmationController($location, Order, Checkout, Website, Mail) {\n        var vm = this;\n        vm.map = null;\n\n        //Initialize controller\n        init();\n\n        function init(){\n            //Get store locations settings\n            vm.temp = Checkout.temp;\n            vm.response_text = \"\";\n            Website.getStoreSettings().then(function(results){\n                vm.store = results;\n                    if(vm.store.payment_options.bacsanjose){\n                    vm.response_code = $location.search().response_code;\n                    vm.order_id = $location.search().orderid;\n\n                    if(vm.response_code == '100'){\n                        //Mark as paid\n                        Order.saveAsPaid(vm.order_id).then(function(results){\n                            var temp = results.data;\n                            if(temp.shipment_id != 0){\n                              Order.mailReceiptWithTracking(vm.order_id).then(function (results) {\n                              },function(err){ Mail.errorLog(err) });\n                              // Order.createShippingInvoice(vm.order_id, temp.shipment_id).then(function (results) {\n                              // },function(err){ Mail.errorLog(err) });\n                              Checkout.updateStoreStock(vm.order_id).then(function (results) {\n                              },function(err){ Mail.errorLog(err) });\n                            } else {\n                              Order.mailReceipt(vm.order_id).then(function (results) {\n                                \n                              },function(err){ Mail.errorLog(err) });\n                              Checkout.updateStoreStock(vm.order_id).then(function (results) {\n                              },function(err){ Mail.errorLog(err) });\n                            }\n                        },function(err){ Mail.errorLog(err) });\n                    } else {\n                        if(vm.order_id == 0){\n                          vm.response_text = \"No se pudo crear la orden, por favor intntelo de nuevo.\";\n                        } else {\n                          vm.response_text = $location.search().responsetext;\n                          Order.saveAsDraft(vm.order_id).then(function(results){},function(err){ Mail.errorLog(err) });\n                          Checkout.addOrderNote(vm.order_id,true,vm.response_text,vm.response_code).then(function(results){},function(err){ Mail.errorLog(err) });\n                          Checkout.errorDebugBAC(vm.order_id).then(function(results){},function(err){ Mail.errorLog(err) });\n                        }\n                    }\n                }\n            },function(err){ Mail.errorLog(err) });\n\n             \n            \n        }\n\n    }\n})();\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.card = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n    module.exports = _dereq_('./lib/extend');\n\n\n},{\"./lib/extend\":2}],2:[function(_dereq_,module,exports){\n    /*!\n     * node.extend\n     * Copyright 2011, John Resig\n     * Dual licensed under the MIT or GPL Version 2 licenses.\n     * http://jquery.org/license\n     *\n     * @fileoverview\n     * Port of jQuery.extend that actually works on node.js\n     */\n    var is = _dereq_('is');\n\n    function extend() {\n        var target = arguments[0] || {};\n        var i = 1;\n        var length = arguments.length;\n        var deep = false;\n        var options, name, src, copy, copy_is_array, clone;\n\n        // Handle a deep copy situation\n        if (typeof target === 'boolean') {\n            deep = target;\n            target = arguments[1] || {};\n            // skip the boolean and the target\n            i = 2;\n        }\n\n        // Handle case when target is a string or something (possible in deep copy)\n        if (typeof target !== 'object' && !is.fn(target)) {\n            target = {};\n        }\n\n        for (; i < length; i++) {\n            // Only deal with non-null/undefined values\n            options = arguments[i]\n            if (options != null) {\n                if (typeof options === 'string') {\n                    options = options.split('');\n                }\n                // Extend the base object\n                for (name in options) {\n                    src = target[name];\n                    copy = options[name];\n\n                    // Prevent never-ending loop\n                    if (target === copy) {\n                        continue;\n                    }\n\n                    // Recurse if we're merging plain objects or arrays\n                    if (deep && copy && (is.hash(copy) || (copy_is_array = is.array(copy)))) {\n                        if (copy_is_array) {\n                            copy_is_array = false;\n                            clone = src && is.array(src) ? src : [];\n                        } else {\n                            clone = src && is.hash(src) ? src : {};\n                        }\n\n                        // Never move original objects, clone them\n                        target[name] = extend(deep, clone, copy);\n\n                        // Don't bring in undefined values\n                    } else if (typeof copy !== 'undefined') {\n                        target[name] = copy;\n                    }\n                }\n            }\n        }\n\n        // Return the modified object\n        return target;\n    };\n\n    /**\n     * @public\n     */\n    extend.version = '1.1.3';\n\n    /**\n     * Exports module.\n     */\n    module.exports = extend;\n\n\n},{\"is\":3}],3:[function(_dereq_,module,exports){\n    /* globals window, HTMLElement */\n    /**!\n     * is\n     * the definitive JavaScript type testing library\n     *\n     * @copyright 2013-2014 Enrico Marino / Jordan Harband\n     * @license MIT\n     */\n\n    var objProto = Object.prototype;\n    var owns = objProto.hasOwnProperty;\n    var toStr = objProto.toString;\n    var symbolValueOf;\n    if (typeof Symbol === 'function') {\n        symbolValueOf = Symbol.prototype.valueOf;\n    }\n    var isActualNaN = function (value) {\n        return value !== value;\n    };\n    var NON_HOST_TYPES = {\n        'boolean': 1,\n        number: 1,\n        string: 1,\n        undefined: 1\n    };\n\n    var base64Regex = /^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;\n    var hexRegex = /^[A-Fa-f0-9]+$/;\n\n    /**\n     * Expose `is`\n     */\n\n    var is = module.exports = {};\n\n    /**\n     * Test general.\n     */\n\n    /**\n     * is.type\n     * Test if `value` is a type of `type`.\n     *\n     * @param {Mixed} value value to test\n     * @param {String} type type\n     * @return {Boolean} true if `value` is a type of `type`, false otherwise\n     * @api public\n     */\n\n    is.a = is.type = function (value, type) {\n        return typeof value === type;\n    };\n\n    /**\n     * is.defined\n     * Test if `value` is defined.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if 'value' is defined, false otherwise\n     * @api public\n     */\n\n    is.defined = function (value) {\n        return typeof value !== 'undefined';\n    };\n\n    /**\n     * is.empty\n     * Test if `value` is empty.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is empty, false otherwise\n     * @api public\n     */\n\n    is.empty = function (value) {\n        var type = toStr.call(value);\n        var key;\n\n        if (type === '[object Array]' || type === '[object Arguments]' || type === '[object String]') {\n            return value.length === 0;\n        }\n\n        if (type === '[object Object]') {\n            for (key in value) {\n                if (owns.call(value, key)) { return false; }\n            }\n            return true;\n        }\n\n        return !value;\n    };\n\n    /**\n     * is.equal\n     * Test if `value` is equal to `other`.\n     *\n     * @param {Mixed} value value to test\n     * @param {Mixed} other value to compare with\n     * @return {Boolean} true if `value` is equal to `other`, false otherwise\n     */\n\n    is.equal = function equal(value, other) {\n        if (value === other) {\n            return true;\n        }\n\n        var type = toStr.call(value);\n        var key;\n\n        if (type !== toStr.call(other)) {\n            return false;\n        }\n\n        if (type === '[object Object]') {\n            for (key in value) {\n                if (!is.equal(value[key], other[key]) || !(key in other)) {\n                    return false;\n                }\n            }\n            for (key in other) {\n                if (!is.equal(value[key], other[key]) || !(key in value)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        if (type === '[object Array]') {\n            key = value.length;\n            if (key !== other.length) {\n                return false;\n            }\n            while (--key) {\n                if (!is.equal(value[key], other[key])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        if (type === '[object Function]') {\n            return value.prototype === other.prototype;\n        }\n\n        if (type === '[object Date]') {\n            return value.getTime() === other.getTime();\n        }\n\n        return false;\n    };\n\n    /**\n     * is.hosted\n     * Test if `value` is hosted by `host`.\n     *\n     * @param {Mixed} value to test\n     * @param {Mixed} host host to test with\n     * @return {Boolean} true if `value` is hosted by `host`, false otherwise\n     * @api public\n     */\n\n    is.hosted = function (value, host) {\n        var type = typeof host[value];\n        return type === 'object' ? !!host[value] : !NON_HOST_TYPES[type];\n    };\n\n    /**\n     * is.instance\n     * Test if `value` is an instance of `constructor`.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is an instance of `constructor`\n     * @api public\n     */\n\n    is.instance = is['instanceof'] = function (value, constructor) {\n        return value instanceof constructor;\n    };\n\n    /**\n     * is.nil / is.null\n     * Test if `value` is null.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is null, false otherwise\n     * @api public\n     */\n\n    is.nil = is['null'] = function (value) {\n        return value === null;\n    };\n\n    /**\n     * is.undef / is.undefined\n     * Test if `value` is undefined.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is undefined, false otherwise\n     * @api public\n     */\n\n    is.undef = is.undefined = function (value) {\n        return typeof value === 'undefined';\n    };\n\n    /**\n     * Test arguments.\n     */\n\n    /**\n     * is.args\n     * Test if `value` is an arguments object.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is an arguments object, false otherwise\n     * @api public\n     */\n\n    is.args = is.arguments = function (value) {\n        var isStandardArguments = toStr.call(value) === '[object Arguments]';\n        var isOldArguments = !is.array(value) && is.arraylike(value) && is.object(value) && is.fn(value.callee);\n        return isStandardArguments || isOldArguments;\n    };\n\n    /**\n     * Test array.\n     */\n\n    /**\n     * is.array\n     * Test if 'value' is an array.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is an array, false otherwise\n     * @api public\n     */\n\n    is.array = Array.isArray || function (value) {\n            return toStr.call(value) === '[object Array]';\n        };\n\n    /**\n     * is.arguments.empty\n     * Test if `value` is an empty arguments object.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is an empty arguments object, false otherwise\n     * @api public\n     */\n    is.args.empty = function (value) {\n        return is.args(value) && value.length === 0;\n    };\n\n    /**\n     * is.array.empty\n     * Test if `value` is an empty array.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is an empty array, false otherwise\n     * @api public\n     */\n    is.array.empty = function (value) {\n        return is.array(value) && value.length === 0;\n    };\n\n    /**\n     * is.arraylike\n     * Test if `value` is an arraylike object.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is an arguments object, false otherwise\n     * @api public\n     */\n\n    is.arraylike = function (value) {\n        return !!value && !is.bool(value)\n            && owns.call(value, 'length')\n            && isFinite(value.length)\n            && is.number(value.length)\n            && value.length >= 0;\n    };\n\n    /**\n     * Test boolean.\n     */\n\n    /**\n     * is.bool\n     * Test if `value` is a boolean.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is a boolean, false otherwise\n     * @api public\n     */\n\n    is.bool = is['boolean'] = function (value) {\n        return toStr.call(value) === '[object Boolean]';\n    };\n\n    /**\n     * is.false\n     * Test if `value` is false.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is false, false otherwise\n     * @api public\n     */\n\n    is['false'] = function (value) {\n        return is.bool(value) && Boolean(Number(value)) === false;\n    };\n\n    /**\n     * is.true\n     * Test if `value` is true.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is true, false otherwise\n     * @api public\n     */\n\n    is['true'] = function (value) {\n        return is.bool(value) && Boolean(Number(value)) === true;\n    };\n\n    /**\n     * Test date.\n     */\n\n    /**\n     * is.date\n     * Test if `value` is a date.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is a date, false otherwise\n     * @api public\n     */\n\n    is.date = function (value) {\n        return toStr.call(value) === '[object Date]';\n    };\n\n    /**\n     * Test element.\n     */\n\n    /**\n     * is.element\n     * Test if `value` is an html element.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is an HTML Element, false otherwise\n     * @api public\n     */\n\n    is.element = function (value) {\n        return value !== undefined\n            && typeof HTMLElement !== 'undefined'\n            && value instanceof HTMLElement\n            && value.nodeType === 1;\n    };\n\n    /**\n     * Test error.\n     */\n\n    /**\n     * is.error\n     * Test if `value` is an error object.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is an error object, false otherwise\n     * @api public\n     */\n\n    is.error = function (value) {\n        return toStr.call(value) === '[object Error]';\n    };\n\n    /**\n     * Test function.\n     */\n\n    /**\n     * is.fn / is.function (deprecated)\n     * Test if `value` is a function.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is a function, false otherwise\n     * @api public\n     */\n\n    is.fn = is['function'] = function (value) {\n        var isAlert = typeof window !== 'undefined' && value === window.alert;\n        return isAlert || toStr.call(value) === '[object Function]';\n    };\n\n    /**\n     * Test number.\n     */\n\n    /**\n     * is.number\n     * Test if `value` is a number.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is a number, false otherwise\n     * @api public\n     */\n\n    is.number = function (value) {\n        return toStr.call(value) === '[object Number]';\n    };\n\n    /**\n     * is.infinite\n     * Test if `value` is positive or negative infinity.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is positive or negative Infinity, false otherwise\n     * @api public\n     */\n    is.infinite = function (value) {\n        return value === Infinity || value === -Infinity;\n    };\n\n    /**\n     * is.decimal\n     * Test if `value` is a decimal number.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is a decimal number, false otherwise\n     * @api public\n     */\n\n    is.decimal = function (value) {\n        return is.number(value) && !isActualNaN(value) && !is.infinite(value) && value % 1 !== 0;\n    };\n\n    /**\n     * is.divisibleBy\n     * Test if `value` is divisible by `n`.\n     *\n     * @param {Number} value value to test\n     * @param {Number} n dividend\n     * @return {Boolean} true if `value` is divisible by `n`, false otherwise\n     * @api public\n     */\n\n    is.divisibleBy = function (value, n) {\n        var isDividendInfinite = is.infinite(value);\n        var isDivisorInfinite = is.infinite(n);\n        var isNonZeroNumber = is.number(value) && !isActualNaN(value) && is.number(n) && !isActualNaN(n) && n !== 0;\n        return isDividendInfinite || isDivisorInfinite || (isNonZeroNumber && value % n === 0);\n    };\n\n    /**\n     * is.integer\n     * Test if `value` is an integer.\n     *\n     * @param value to test\n     * @return {Boolean} true if `value` is an integer, false otherwise\n     * @api public\n     */\n\n    is.integer = is['int'] = function (value) {\n        return is.number(value) && !isActualNaN(value) && value % 1 === 0;\n    };\n\n    /**\n     * is.maximum\n     * Test if `value` is greater than 'others' values.\n     *\n     * @param {Number} value value to test\n     * @param {Array} others values to compare with\n     * @return {Boolean} true if `value` is greater than `others` values\n     * @api public\n     */\n\n    is.maximum = function (value, others) {\n        if (isActualNaN(value)) {\n            throw new TypeError('NaN is not a valid value');\n        } else if (!is.arraylike(others)) {\n            throw new TypeError('second argument must be array-like');\n        }\n        var len = others.length;\n\n        while (--len >= 0) {\n            if (value < others[len]) {\n                return false;\n            }\n        }\n\n        return true;\n    };\n\n    /**\n     * is.minimum\n     * Test if `value` is less than `others` values.\n     *\n     * @param {Number} value value to test\n     * @param {Array} others values to compare with\n     * @return {Boolean} true if `value` is less than `others` values\n     * @api public\n     */\n\n    is.minimum = function (value, others) {\n        if (isActualNaN(value)) {\n            throw new TypeError('NaN is not a valid value');\n        } else if (!is.arraylike(others)) {\n            throw new TypeError('second argument must be array-like');\n        }\n        var len = others.length;\n\n        while (--len >= 0) {\n            if (value > others[len]) {\n                return false;\n            }\n        }\n\n        return true;\n    };\n\n    /**\n     * is.nan\n     * Test if `value` is not a number.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is not a number, false otherwise\n     * @api public\n     */\n\n    is.nan = function (value) {\n        return !is.number(value) || value !== value;\n    };\n\n    /**\n     * is.even\n     * Test if `value` is an even number.\n     *\n     * @param {Number} value value to test\n     * @return {Boolean} true if `value` is an even number, false otherwise\n     * @api public\n     */\n\n    is.even = function (value) {\n        return is.infinite(value) || (is.number(value) && value === value && value % 2 === 0);\n    };\n\n    /**\n     * is.odd\n     * Test if `value` is an odd number.\n     *\n     * @param {Number} value value to test\n     * @return {Boolean} true if `value` is an odd number, false otherwise\n     * @api public\n     */\n\n    is.odd = function (value) {\n        return is.infinite(value) || (is.number(value) && value === value && value % 2 !== 0);\n    };\n\n    /**\n     * is.ge\n     * Test if `value` is greater than or equal to `other`.\n     *\n     * @param {Number} value value to test\n     * @param {Number} other value to compare with\n     * @return {Boolean}\n     * @api public\n     */\n\n    is.ge = function (value, other) {\n        if (isActualNaN(value) || isActualNaN(other)) {\n            throw new TypeError('NaN is not a valid value');\n        }\n        return !is.infinite(value) && !is.infinite(other) && value >= other;\n    };\n\n    /**\n     * is.gt\n     * Test if `value` is greater than `other`.\n     *\n     * @param {Number} value value to test\n     * @param {Number} other value to compare with\n     * @return {Boolean}\n     * @api public\n     */\n\n    is.gt = function (value, other) {\n        if (isActualNaN(value) || isActualNaN(other)) {\n            throw new TypeError('NaN is not a valid value');\n        }\n        return !is.infinite(value) && !is.infinite(other) && value > other;\n    };\n\n    /**\n     * is.le\n     * Test if `value` is less than or equal to `other`.\n     *\n     * @param {Number} value value to test\n     * @param {Number} other value to compare with\n     * @return {Boolean} if 'value' is less than or equal to 'other'\n     * @api public\n     */\n\n    is.le = function (value, other) {\n        if (isActualNaN(value) || isActualNaN(other)) {\n            throw new TypeError('NaN is not a valid value');\n        }\n        return !is.infinite(value) && !is.infinite(other) && value <= other;\n    };\n\n    /**\n     * is.lt\n     * Test if `value` is less than `other`.\n     *\n     * @param {Number} value value to test\n     * @param {Number} other value to compare with\n     * @return {Boolean} if `value` is less than `other`\n     * @api public\n     */\n\n    is.lt = function (value, other) {\n        if (isActualNaN(value) || isActualNaN(other)) {\n            throw new TypeError('NaN is not a valid value');\n        }\n        return !is.infinite(value) && !is.infinite(other) && value < other;\n    };\n\n    /**\n     * is.within\n     * Test if `value` is within `start` and `finish`.\n     *\n     * @param {Number} value value to test\n     * @param {Number} start lower bound\n     * @param {Number} finish upper bound\n     * @return {Boolean} true if 'value' is is within 'start' and 'finish'\n     * @api public\n     */\n    is.within = function (value, start, finish) {\n        if (isActualNaN(value) || isActualNaN(start) || isActualNaN(finish)) {\n            throw new TypeError('NaN is not a valid value');\n        } else if (!is.number(value) || !is.number(start) || !is.number(finish)) {\n            throw new TypeError('all arguments must be numbers');\n        }\n        var isAnyInfinite = is.infinite(value) || is.infinite(start) || is.infinite(finish);\n        return isAnyInfinite || (value >= start && value <= finish);\n    };\n\n    /**\n     * Test object.\n     */\n\n    /**\n     * is.object\n     * Test if `value` is an object.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is an object, false otherwise\n     * @api public\n     */\n\n    is.object = function (value) {\n        return toStr.call(value) === '[object Object]';\n    };\n\n    /**\n     * is.hash\n     * Test if `value` is a hash - a plain object literal.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is a hash, false otherwise\n     * @api public\n     */\n\n    is.hash = function (value) {\n        return is.object(value) && value.constructor === Object && !value.nodeType && !value.setInterval;\n    };\n\n    /**\n     * Test regexp.\n     */\n\n    /**\n     * is.regexp\n     * Test if `value` is a regular expression.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is a regexp, false otherwise\n     * @api public\n     */\n\n    is.regexp = function (value) {\n        return toStr.call(value) === '[object RegExp]';\n    };\n\n    /**\n     * Test string.\n     */\n\n    /**\n     * is.string\n     * Test if `value` is a string.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if 'value' is a string, false otherwise\n     * @api public\n     */\n\n    is.string = function (value) {\n        return toStr.call(value) === '[object String]';\n    };\n\n    /**\n     * Test base64 string.\n     */\n\n    /**\n     * is.base64\n     * Test if `value` is a valid base64 encoded string.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if 'value' is a base64 encoded string, false otherwise\n     * @api public\n     */\n\n    is.base64 = function (value) {\n        return is.string(value) && (!value.length || base64Regex.test(value));\n    };\n\n    /**\n     * Test base64 string.\n     */\n\n    /**\n     * is.hex\n     * Test if `value` is a valid hex encoded string.\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if 'value' is a hex encoded string, false otherwise\n     * @api public\n     */\n\n    is.hex = function (value) {\n        return is.string(value) && (!value.length || hexRegex.test(value));\n    };\n\n    /**\n     * is.symbol\n     * Test if `value` is an ES6 Symbol\n     *\n     * @param {Mixed} value value to test\n     * @return {Boolean} true if `value` is a Symbol, false otherise\n     * @api public\n     */\n\n    is.symbol = function (value) {\n        return typeof Symbol === 'function' && toStr.call(value) === '[object Symbol]' && typeof symbolValueOf.call(value) === 'symbol';\n    };\n\n},{}],4:[function(_dereq_,module,exports){\n    (function (global){\n        var Payment, QJ, cardFromNumber, cardFromType, cards, defaultFormat, formatBackCardNumber, formatBackExpiry, formatCardNumber, formatExpiry, formatForwardExpiry, formatForwardSlash, formatMonthExpiry, hasTextSelected, luhnCheck, reFormatCardNumber, restrictCVC, restrictCardNumber, restrictCombinedExpiry, restrictExpiry, restrictMonthExpiry, restrictNumeric, restrictYearExpiry, setCardType,\n            indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n        QJ = _dereq_('qj/src/qj.coffee');\n\n        defaultFormat = /(\\d{1,4})/g;\n\n        cards = [\n            {\n                type: 'amex',\n                pattern: /^3[47]/,\n                format: /(\\d{1,4})(\\d{1,6})?(\\d{1,5})?/,\n                length: [15],\n                cvcLength: [4],\n                luhn: true\n            }, {\n                type: 'dankort',\n                pattern: /^5019/,\n                format: defaultFormat,\n                length: [16],\n                cvcLength: [3],\n                luhn: true\n            }, {\n                type: 'dinersclub',\n                pattern: /^(36|38|30[0-5])/,\n                format: defaultFormat,\n                length: [14],\n                cvcLength: [3],\n                luhn: true\n            }, {\n                type: 'discover',\n                pattern: /^(6011|65|64[4-9]|622)/,\n                format: defaultFormat,\n                length: [16],\n                cvcLength: [3],\n                luhn: true\n            }, {\n                type: 'jcb',\n                pattern: /^35/,\n                format: defaultFormat,\n                length: [16],\n                cvcLength: [3],\n                luhn: true\n            }, {\n                type: 'laser',\n                pattern: /^(6706|6771|6709)/,\n                format: defaultFormat,\n                length: [16, 17, 18, 19],\n                cvcLength: [3],\n                luhn: true\n            }, {\n                type: 'maestro',\n                pattern: /^(5018|5020|5038|6304|6703|6759|676[1-3])/,\n                format: defaultFormat,\n                length: [12, 13, 14, 15, 16, 17, 18, 19],\n                cvcLength: [3],\n                luhn: true\n            }, {\n                type: 'mastercard',\n                pattern: /^5[1-5]/,\n                format: defaultFormat,\n                length: [16],\n                cvcLength: [3],\n                luhn: true\n            }, {\n                type: 'unionpay',\n                pattern: /^62/,\n                format: defaultFormat,\n                length: [16, 17, 18, 19],\n                cvcLength: [3],\n                luhn: false\n            }, {\n                type: 'visaelectron',\n                pattern: /^4(026|17500|405|508|844|91[37])/,\n                format: defaultFormat,\n                length: [16],\n                cvcLength: [3],\n                luhn: true\n            }, {\n                type: 'elo',\n                pattern: /^4011|438935|45(1416|76)|50(4175|6699|67|90[4-7])|63(6297|6368)/,\n                format: defaultFormat,\n                length: [16],\n                cvcLength: [3],\n                luhn: true\n            }, {\n                type: 'visa',\n                pattern: /^4/,\n                format: defaultFormat,\n                length: [13, 16],\n                cvcLength: [3],\n                luhn: true\n            }\n        ];\n\n        cardFromNumber = function(num) {\n            var card, i, len;\n            num = (num + '').replace(/\\D/g, '');\n            for (i = 0, len = cards.length; i < len; i++) {\n                card = cards[i];\n                if (card.pattern.test(num)) {\n                    return card;\n                }\n            }\n        };\n\n        cardFromType = function(type) {\n            var card, i, len;\n            for (i = 0, len = cards.length; i < len; i++) {\n                card = cards[i];\n                if (card.type === type) {\n                    return card;\n                }\n            }\n        };\n\n        luhnCheck = function(num) {\n            var digit, digits, i, len, odd, sum;\n            odd = true;\n            sum = 0;\n            digits = (num + '').split('').reverse();\n            for (i = 0, len = digits.length; i < len; i++) {\n                digit = digits[i];\n                digit = parseInt(digit, 10);\n                if ((odd = !odd)) {\n                    digit *= 2;\n                }\n                if (digit > 9) {\n                    digit -= 9;\n                }\n                sum += digit;\n            }\n            return sum % 10 === 0;\n        };\n\n        hasTextSelected = function(target) {\n            var ref;\n            if ((target.selectionStart != null) && target.selectionStart !== target.selectionEnd) {\n                return true;\n            }\n            if ((typeof document !== \"undefined\" && document !== null ? (ref = document.selection) != null ? ref.createRange : void 0 : void 0) != null) {\n                if (document.selection.createRange().text) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        reFormatCardNumber = function(e) {\n            return setTimeout((function(_this) {\n                return function() {\n                    var target, value;\n                    target = e.target;\n                    value = QJ.val(target);\n                    value = Payment.fns.formatCardNumber(value);\n                    return QJ.val(target, value);\n                };\n            })(this));\n        };\n\n        formatCardNumber = function(e) {\n            var card, digit, length, re, target, upperLength, value;\n            digit = String.fromCharCode(e.which);\n            if (!/^\\d+$/.test(digit)) {\n                return;\n            }\n            target = e.target;\n            value = QJ.val(target);\n            card = cardFromNumber(value + digit);\n            length = (value.replace(/\\D/g, '') + digit).length;\n            upperLength = 16;\n            if (card) {\n                upperLength = card.length[card.length.length - 1];\n            }\n            if (length >= upperLength) {\n                return;\n            }\n            if ((target.selectionStart != null) && target.selectionStart !== value.length) {\n                return;\n            }\n            if (card && card.type === 'amex') {\n                re = /^(\\d{4}|\\d{4}\\s\\d{6})$/;\n            } else {\n                re = /(?:^|\\s)(\\d{4})$/;\n            }\n            if (re.test(value)) {\n                e.preventDefault();\n                return QJ.val(target, value + ' ' + digit);\n            } else if (re.test(value + digit)) {\n                e.preventDefault();\n                return QJ.val(target, value + digit + ' ');\n            }\n        };\n\n        formatBackCardNumber = function(e) {\n            var target, value;\n            target = e.target;\n            value = QJ.val(target);\n            if (e.meta) {\n                return;\n            }\n            if (e.which !== 8) {\n                return;\n            }\n            if ((target.selectionStart != null) && target.selectionStart !== value.length) {\n                return;\n            }\n            if (/\\d\\s$/.test(value)) {\n                e.preventDefault();\n                return QJ.val(target, value.replace(/\\d\\s$/, ''));\n            } else if (/\\s\\d?$/.test(value)) {\n                e.preventDefault();\n                return QJ.val(target, value.replace(/\\s\\d?$/, ''));\n            }\n        };\n\n        formatExpiry = function(e) {\n            var digit, target, val;\n            digit = String.fromCharCode(e.which);\n            if (!/^\\d+$/.test(digit)) {\n                return;\n            }\n            target = e.target;\n            val = QJ.val(target) + digit;\n            if (/^\\d$/.test(val) && (val !== '0' && val !== '1')) {\n                e.preventDefault();\n                return QJ.val(target, \"0\" + val + \" / \");\n            } else if (/^\\d\\d$/.test(val)) {\n                e.preventDefault();\n                return QJ.val(target, val + \" / \");\n            }\n        };\n\n        formatMonthExpiry = function(e) {\n            var digit, target, val;\n            digit = String.fromCharCode(e.which);\n            if (!/^\\d+$/.test(digit)) {\n                return;\n            }\n            target = e.target;\n            val = QJ.val(target) + digit;\n            if (/^\\d$/.test(val) && (val !== '0' && val !== '1')) {\n                e.preventDefault();\n                return QJ.val(target, \"0\" + val);\n            } else if (/^\\d\\d$/.test(val)) {\n                e.preventDefault();\n                return QJ.val(target, \"\" + val);\n            }\n        };\n\n        formatForwardExpiry = function(e) {\n            var digit, target, val;\n            digit = String.fromCharCode(e.which);\n            if (!/^\\d+$/.test(digit)) {\n                return;\n            }\n            target = e.target;\n            val = QJ.val(target);\n            if (/^\\d\\d$/.test(val)) {\n                return QJ.val(target, val + \" / \");\n            }\n        };\n\n        formatForwardSlash = function(e) {\n            var slash, target, val;\n            slash = String.fromCharCode(e.which);\n            if (slash !== '/') {\n                return;\n            }\n            target = e.target;\n            val = QJ.val(target);\n            if (/^\\d$/.test(val) && val !== '0') {\n                return QJ.val(target, \"0\" + val + \" / \");\n            }\n        };\n\n        formatBackExpiry = function(e) {\n            var target, value;\n            if (e.metaKey) {\n                return;\n            }\n            target = e.target;\n            value = QJ.val(target);\n            if (e.which !== 8) {\n                return;\n            }\n            if ((target.selectionStart != null) && target.selectionStart !== value.length) {\n                return;\n            }\n            if (/\\d(\\s|\\/)+$/.test(value)) {\n                e.preventDefault();\n                return QJ.val(target, value.replace(/\\d(\\s|\\/)*$/, ''));\n            } else if (/\\s\\/\\s?\\d?$/.test(value)) {\n                e.preventDefault();\n                return QJ.val(target, value.replace(/\\s\\/\\s?\\d?$/, ''));\n            }\n        };\n\n        restrictNumeric = function(e) {\n            var input;\n            if (e.metaKey || e.ctrlKey) {\n                return true;\n            }\n            if (e.which === 32) {\n                return e.preventDefault();\n            }\n            if (e.which === 0) {\n                return true;\n            }\n            if (e.which < 33) {\n                return true;\n            }\n            input = String.fromCharCode(e.which);\n            if (!/[\\d\\s]/.test(input)) {\n                return e.preventDefault();\n            }\n        };\n\n        restrictCardNumber = function(e) {\n            var card, digit, target, value;\n            target = e.target;\n            digit = String.fromCharCode(e.which);\n            if (!/^\\d+$/.test(digit)) {\n                return;\n            }\n            if (hasTextSelected(target)) {\n                return;\n            }\n            value = (QJ.val(target) + digit).replace(/\\D/g, '');\n            card = cardFromNumber(value);\n            if (card) {\n                if (!(value.length <= card.length[card.length.length - 1])) {\n                    return e.preventDefault();\n                }\n            } else {\n                if (!(value.length <= 16)) {\n                    return e.preventDefault();\n                }\n            }\n        };\n\n        restrictExpiry = function(e, length) {\n            var digit, target, value;\n            target = e.target;\n            digit = String.fromCharCode(e.which);\n            if (!/^\\d+$/.test(digit)) {\n                return;\n            }\n            if (hasTextSelected(target)) {\n                return;\n            }\n            value = QJ.val(target) + digit;\n            value = value.replace(/\\D/g, '');\n            if (value.length > length) {\n                return e.preventDefault();\n            }\n        };\n\n        restrictCombinedExpiry = function(e) {\n            return restrictExpiry(e, 6);\n        };\n\n        restrictMonthExpiry = function(e) {\n            return restrictExpiry(e, 2);\n        };\n\n        restrictYearExpiry = function(e) {\n            return restrictExpiry(e, 4);\n        };\n\n        restrictCVC = function(e) {\n            var digit, target, val;\n            target = e.target;\n            digit = String.fromCharCode(e.which);\n            if (!/^\\d+$/.test(digit)) {\n                return;\n            }\n            if (hasTextSelected(target)) {\n                return;\n            }\n            val = QJ.val(target) + digit;\n            if (!(val.length <= 4)) {\n                return e.preventDefault();\n            }\n        };\n\n        setCardType = function(e) {\n            var allTypes, card, cardType, target, val;\n            target = e.target;\n            val = QJ.val(target);\n            cardType = Payment.fns.cardType(val) || 'unknown';\n            if (!QJ.hasClass(target, cardType)) {\n                allTypes = (function() {\n                    var i, len, results;\n                    results = [];\n                    for (i = 0, len = cards.length; i < len; i++) {\n                        card = cards[i];\n                        results.push(card.type);\n                    }\n                    return results;\n                })();\n                QJ.removeClass(target, 'unknown');\n                QJ.removeClass(target, allTypes.join(' '));\n                QJ.addClass(target, cardType);\n                QJ.toggleClass(target, 'identified', cardType !== 'unknown');\n                return QJ.trigger(target, 'payment.cardType', cardType);\n            }\n        };\n\n        Payment = (function() {\n            function Payment() {}\n\n            Payment.fns = {\n                cardExpiryVal: function(value) {\n                    var month, prefix, ref, year;\n                    value = value.replace(/\\s/g, '');\n                    ref = value.split('/', 2), month = ref[0], year = ref[1];\n                    if ((year != null ? year.length : void 0) === 2 && /^\\d+$/.test(year)) {\n                        prefix = (new Date).getFullYear();\n                        prefix = prefix.toString().slice(0, 2);\n                        year = prefix + year;\n                    }\n                    month = parseInt(month, 10);\n                    year = parseInt(year, 10);\n                    return {\n                        month: month,\n                        year: year\n                    };\n                },\n                validateCardNumber: function(num) {\n                    var card, ref;\n                    num = (num + '').replace(/\\s+|-/g, '');\n                    if (!/^\\d+$/.test(num)) {\n                        return false;\n                    }\n                    card = cardFromNumber(num);\n                    if (!card) {\n                        return false;\n                    }\n                    return (ref = num.length, indexOf.call(card.length, ref) >= 0) && (card.luhn === false || luhnCheck(num));\n                },\n                validateCardExpiry: function(month, year) {\n                    var currentTime, expiry, prefix, ref;\n                    if (typeof month === 'object' && 'month' in month) {\n                        ref = month, month = ref.month, year = ref.year;\n                    }\n                    if (!(month && year)) {\n                        return false;\n                    }\n                    month = QJ.trim(month);\n                    year = QJ.trim(year);\n                    if (!/^\\d+$/.test(month)) {\n                        return false;\n                    }\n                    if (!/^\\d+$/.test(year)) {\n                        return false;\n                    }\n                    if (!(parseInt(month, 10) <= 12)) {\n                        return false;\n                    }\n                    if (year.length === 2) {\n                        prefix = (new Date).getFullYear();\n                        prefix = prefix.toString().slice(0, 2);\n                        year = prefix + year;\n                    }\n                    expiry = new Date(year, month);\n                    currentTime = new Date;\n                    expiry.setMonth(expiry.getMonth() - 1);\n                    expiry.setMonth(expiry.getMonth() + 1, 1);\n                    return expiry > currentTime;\n                },\n                validateCardCVC: function(cvc, type) {\n                    var ref, ref1;\n                    cvc = QJ.trim(cvc);\n                    if (!/^\\d+$/.test(cvc)) {\n                        return false;\n                    }\n                    if (type && cardFromType(type)) {\n                        return ref = cvc.length, indexOf.call((ref1 = cardFromType(type)) != null ? ref1.cvcLength : void 0, ref) >= 0;\n                    } else {\n                        return cvc.length >= 3 && cvc.length <= 4;\n                    }\n                },\n                cardType: function(num) {\n                    var ref;\n                    if (!num) {\n                        return null;\n                    }\n                    return ((ref = cardFromNumber(num)) != null ? ref.type : void 0) || null;\n                },\n                formatCardNumber: function(num) {\n                    var card, groups, ref, upperLength;\n                    card = cardFromNumber(num);\n                    if (!card) {\n                        return num;\n                    }\n                    upperLength = card.length[card.length.length - 1];\n                    num = num.replace(/\\D/g, '');\n                    num = num.slice(0, +upperLength + 1 || 9e9);\n                    if (card.format.global) {\n                        return (ref = num.match(card.format)) != null ? ref.join(' ') : void 0;\n                    } else {\n                        groups = card.format.exec(num);\n                        if (groups != null) {\n                            groups.shift();\n                        }\n                        return groups != null ? groups.join(' ') : void 0;\n                    }\n                }\n            };\n\n            Payment.restrictNumeric = function(el) {\n                return QJ.on(el, 'keypress', restrictNumeric);\n            };\n\n            Payment.cardExpiryVal = function(el) {\n                return Payment.fns.cardExpiryVal(QJ.val(el));\n            };\n\n            Payment.formatCardCVC = function(el) {\n                Payment.restrictNumeric(el);\n                QJ.on(el, 'keypress', restrictCVC);\n                return el;\n            };\n\n            Payment.formatCardExpiry = function(el) {\n                var month, year;\n                Payment.restrictNumeric(el);\n                if (el.length && el.length === 2) {\n                    month = el[0], year = el[1];\n                    this.formatCardExpiryMultiple(month, year);\n                } else {\n                    QJ.on(el, 'keypress', restrictCombinedExpiry);\n                    QJ.on(el, 'keypress', formatExpiry);\n                    QJ.on(el, 'keypress', formatForwardSlash);\n                    QJ.on(el, 'keypress', formatForwardExpiry);\n                    QJ.on(el, 'keydown', formatBackExpiry);\n                }\n                return el;\n            };\n\n            Payment.formatCardExpiryMultiple = function(month, year) {\n                QJ.on(month, 'keypress', restrictMonthExpiry);\n                QJ.on(month, 'keypress', formatMonthExpiry);\n                return QJ.on(year, 'keypress', restrictYearExpiry);\n            };\n\n            Payment.formatCardNumber = function(el) {\n                Payment.restrictNumeric(el);\n                QJ.on(el, 'keypress', restrictCardNumber);\n                QJ.on(el, 'keypress', formatCardNumber);\n                QJ.on(el, 'keydown', formatBackCardNumber);\n                QJ.on(el, 'keyup', setCardType);\n                QJ.on(el, 'paste', reFormatCardNumber);\n                return el;\n            };\n\n            Payment.getCardArray = function() {\n                return cards;\n            };\n\n            Payment.setCardArray = function(cardArray) {\n                cards = cardArray;\n                return true;\n            };\n\n            Payment.addToCardArray = function(cardObject) {\n                return cards.push(cardObject);\n            };\n\n            Payment.removeFromCardArray = function(type) {\n                var key, value;\n                for (key in cards) {\n                    value = cards[key];\n                    if (value.type === type) {\n                        cards.splice(key, 1);\n                    }\n                }\n                return true;\n            };\n\n            return Payment;\n\n        })();\n\n        module.exports = Payment;\n\n        global.Payment = Payment;\n\n\n    }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"qj/src/qj.coffee\":5}],5:[function(_dereq_,module,exports){\n    var QJ, rreturn, rtrim;\n\n    QJ = function(selector) {\n        if (QJ.isDOMElement(selector)) {\n            return selector;\n        }\n        return document.querySelectorAll(selector);\n    };\n\n    QJ.isDOMElement = function(el) {\n        return el && (el.nodeName != null);\n    };\n\n    rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\n    QJ.trim = function(text) {\n        if (text === null) {\n            return \"\";\n        } else {\n            return (text + \"\").replace(rtrim, \"\");\n        }\n    };\n\n    rreturn = /\\r/g;\n\n    QJ.val = function(el, val) {\n        var ret;\n        if (arguments.length > 1) {\n            return el.value = val;\n        } else {\n            ret = el.value;\n            if (typeof ret === \"string\") {\n                return ret.replace(rreturn, \"\");\n            } else {\n                if (ret === null) {\n                    return \"\";\n                } else {\n                    return ret;\n                }\n            }\n        }\n    };\n\n    QJ.preventDefault = function(eventObject) {\n        if (typeof eventObject.preventDefault === \"function\") {\n            eventObject.preventDefault();\n            return;\n        }\n        eventObject.returnValue = false;\n        return false;\n    };\n\n    QJ.normalizeEvent = function(e) {\n        var original;\n        original = e;\n        e = {\n            which: original.which != null ? original.which : void 0,\n            target: original.target || original.srcElement,\n            preventDefault: function() {\n                return QJ.preventDefault(original);\n            },\n            originalEvent: original,\n            data: original.data || original.detail\n        };\n        if (e.which == null) {\n            e.which = original.charCode != null ? original.charCode : original.keyCode;\n        }\n        return e;\n    };\n\n    QJ.on = function(element, eventName, callback) {\n        var el, i, j, len, len1, multEventName, originalCallback, ref;\n        if (element.length) {\n            for (i = 0, len = element.length; i < len; i++) {\n                el = element[i];\n                QJ.on(el, eventName, callback);\n            }\n            return;\n        }\n        if (eventName.match(\" \")) {\n            ref = eventName.split(\" \");\n            for (j = 0, len1 = ref.length; j < len1; j++) {\n                multEventName = ref[j];\n                QJ.on(element, multEventName, callback);\n            }\n            return;\n        }\n        originalCallback = callback;\n        callback = function(e) {\n            e = QJ.normalizeEvent(e);\n            return originalCallback(e);\n        };\n        if (element.addEventListener) {\n            return element.addEventListener(eventName, callback, false);\n        }\n        if (element.attachEvent) {\n            eventName = \"on\" + eventName;\n            return element.attachEvent(eventName, callback);\n        }\n        element['on' + eventName] = callback;\n    };\n\n    QJ.addClass = function(el, className) {\n        var e;\n        if (el.length) {\n            return (function() {\n                var i, len, results;\n                results = [];\n                for (i = 0, len = el.length; i < len; i++) {\n                    e = el[i];\n                    results.push(QJ.addClass(e, className));\n                }\n                return results;\n            })();\n        }\n        if (el.classList) {\n            return el.classList.add(className);\n        } else {\n            return el.className += ' ' + className;\n        }\n    };\n\n    QJ.hasClass = function(el, className) {\n        var e, hasClass, i, len;\n        if (el.length) {\n            hasClass = true;\n            for (i = 0, len = el.length; i < len; i++) {\n                e = el[i];\n                hasClass = hasClass && QJ.hasClass(e, className);\n            }\n            return hasClass;\n        }\n        if (el.classList) {\n            return el.classList.contains(className);\n        } else {\n            return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\n        }\n    };\n\n    QJ.removeClass = function(el, className) {\n        var cls, e, i, len, ref, results;\n        if (el.length) {\n            return (function() {\n                var i, len, results;\n                results = [];\n                for (i = 0, len = el.length; i < len; i++) {\n                    e = el[i];\n                    results.push(QJ.removeClass(e, className));\n                }\n                return results;\n            })();\n        }\n        if (el.classList) {\n            ref = className.split(' ');\n            results = [];\n            for (i = 0, len = ref.length; i < len; i++) {\n                cls = ref[i];\n                results.push(el.classList.remove(cls));\n            }\n            return results;\n        } else {\n            return el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n        }\n    };\n\n    QJ.toggleClass = function(el, className, bool) {\n        var e;\n        if (el.length) {\n            return (function() {\n                var i, len, results;\n                results = [];\n                for (i = 0, len = el.length; i < len; i++) {\n                    e = el[i];\n                    results.push(QJ.toggleClass(e, className, bool));\n                }\n                return results;\n            })();\n        }\n        if (bool) {\n            if (!QJ.hasClass(el, className)) {\n                return QJ.addClass(el, className);\n            }\n        } else {\n            return QJ.removeClass(el, className);\n        }\n    };\n\n    QJ.append = function(el, toAppend) {\n        var e;\n        if (el.length) {\n            return (function() {\n                var i, len, results;\n                results = [];\n                for (i = 0, len = el.length; i < len; i++) {\n                    e = el[i];\n                    results.push(QJ.append(e, toAppend));\n                }\n                return results;\n            })();\n        }\n        return el.insertAdjacentHTML('beforeend', toAppend);\n    };\n\n    QJ.find = function(el, selector) {\n        if (el instanceof NodeList || el instanceof Array) {\n            el = el[0];\n        }\n        return el.querySelectorAll(selector);\n    };\n\n    QJ.trigger = function(el, name, data) {\n        var e, error, ev;\n        try {\n            ev = new CustomEvent(name, {\n                detail: data\n            });\n        } catch (error) {\n            e = error;\n            ev = document.createEvent('CustomEvent');\n            if (ev.initCustomEvent) {\n                ev.initCustomEvent(name, true, true, data);\n            } else {\n                ev.initEvent(name, true, true, data);\n            }\n        }\n        return el.dispatchEvent(ev);\n    };\n\n    module.exports = QJ;\n\n\n},{}],6:[function(_dereq_,module,exports){\n    module.exports = _dereq_('cssify');\n},{\"cssify\":7}],7:[function(_dereq_,module,exports){\n    module.exports = function (css, customDocument) {\n        var doc = customDocument || document;\n        if (doc.createStyleSheet) {\n            var sheet = doc.createStyleSheet()\n            sheet.cssText = css;\n            return sheet.ownerNode;\n        } else {\n            var head = doc.getElementsByTagName('head')[0],\n                style = doc.createElement('style');\n\n            style.type = 'text/css';\n\n            if (style.styleSheet) {\n                style.styleSheet.cssText = css;\n            } else {\n                style.appendChild(doc.createTextNode(css));\n            }\n\n            head.appendChild(style);\n            return style;\n        }\n    };\n\n    module.exports.byUrl = function(url) {\n        if (document.createStyleSheet) {\n            return document.createStyleSheet(url).ownerNode;\n        } else {\n            var head = document.getElementsByTagName('head')[0],\n                link = document.createElement('link');\n\n            link.rel = 'stylesheet';\n            link.href = url;\n\n            head.appendChild(link);\n            return link;\n        }\n    };\n\n},{}],8:[function(_dereq_,module,exports){\n    (function (global){\n        var Card, QJ, extend, payment;\n\n        _dereq_('../scss/card.scss');\n\n        QJ = _dereq_('qj/src/qj.coffee');\n\n        payment = _dereq_('payment/src/payment');\n\n        extend = _dereq_('node.extend');\n\n        Card = (function() {\n            var bindVal;\n\n            Card.prototype.cardTemplate = '' + '<div class=\"jp-card-container\">' + '<div class=\"jp-card\">' + '<div class=\"jp-card-front\">' + '<div class=\"jp-card-logo jp-card-elo\">' + '<div class=\"e\">e</div>' + '<div class=\"l\">l</div>' + '<div class=\"o\">o</div>' + '</div>' + '<div class=\"jp-card-logo jp-card-visa\">visa</div>' + '<div class=\"jp-card-logo jp-card-mastercard\">MasterCard</div>' + '<div class=\"jp-card-logo jp-card-maestro\">Maestro</div>' + '<div class=\"jp-card-logo jp-card-amex\"></div>' + '<div class=\"jp-card-logo jp-card-discover\">discover</div>' + '<div class=\"jp-card-logo jp-card-dankort\"><div class=\"dk\"><div class=\"d\"></div><div class=\"k\"></div></div></div>' + '<div class=\"jp-card-lower\">' + '<div class=\"jp-card-shiny\"></div>' + '<div class=\"jp-card-cvc jp-card-display\">{{cvc}}</div>' + '<div class=\"jp-card-number jp-card-display\">{{number}}</div>' + '<div class=\"jp-card-name jp-card-display\">{{name}}</div>' + '<div class=\"jp-card-expiry jp-card-display\" data-before=\"{{monthYear}}\" data-after=\"{{validDate}}\">{{expiry}}</div>' + '</div>' + '</div>' + '<div class=\"jp-card-back\">' + '<div class=\"jp-card-bar\"></div>' + '<div class=\"jp-card-cvc jp-card-display\">{{cvc}}</div>' + '<div class=\"jp-card-shiny\"></div>' + '</div>' + '</div>' + '</div>';\n\n            Card.prototype.template = function(tpl, data) {\n                return tpl.replace(/\\{\\{(.*?)\\}\\}/g, function(match, key, str) {\n                    return data[key];\n                });\n            };\n\n            Card.prototype.cardTypes = ['jp-card-amex', 'jp-card-dankort', 'jp-card-dinersclub', 'jp-card-discover', 'jp-card-jcb', 'jp-card-laser', 'jp-card-maestro', 'jp-card-mastercard', 'jp-card-unionpay', 'jp-card-visa', 'jp-card-visaelectron', 'jp-card-elo'];\n\n            Card.prototype.defaults = {\n                formatting: true,\n                formSelectors: {\n                    numberInput: 'input[name=\"number\"]',\n                    expiryInput: 'input[name=\"expiry\"]',\n                    cvcInput: 'input[name=\"cvc\"]',\n                    nameInput: 'input[name=\"name\"]'\n                },\n                cardSelectors: {\n                    cardContainer: '.jp-card-container',\n                    card: '.jp-card',\n                    numberDisplay: '.jp-card-number',\n                    expiryDisplay: '.jp-card-expiry',\n                    cvcDisplay: '.jp-card-cvc',\n                    nameDisplay: '.jp-card-name'\n                },\n                messages: {\n                    validDate: 'valid\\nthru',\n                    monthYear: 'month/year'\n                },\n                placeholders: {\n                    number: '&bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull;',\n                    cvc: '&bull;&bull;&bull;',\n                    expiry: '&bull;&bull;/&bull;&bull;',\n                    name: 'Full Name'\n                },\n                classes: {\n                    valid: 'jp-card-valid',\n                    invalid: 'jp-card-invalid'\n                },\n                debug: false\n            };\n\n            function Card(opts) {\n                this.options = extend(true, this.defaults, opts);\n                if (!this.options.form) {\n                    console.log(\"Please provide a form\");\n                    return;\n                }\n                this.$el = QJ(this.options.form);\n                if (!this.options.container) {\n                    console.log(\"Please provide a container\");\n                    return;\n                }\n                this.$container = QJ(this.options.container);\n                this.render();\n                this.attachHandlers();\n                this.handleInitialPlaceholders();\n            }\n\n            Card.prototype.render = function() {\n                var $cardContainer, baseWidth, name, obj, ref, ref1, selector, ua;\n                QJ.append(this.$container, this.template(this.cardTemplate, extend({}, this.options.messages, this.options.placeholders)));\n                ref = this.options.cardSelectors;\n                for (name in ref) {\n                    selector = ref[name];\n                    this[\"$\" + name] = QJ.find(this.$container, selector);\n                }\n                ref1 = this.options.formSelectors;\n                for (name in ref1) {\n                    selector = ref1[name];\n                    selector = this.options[name] ? this.options[name] : selector;\n                    obj = QJ.find(this.$el, selector);\n                    if (!obj.length && this.options.debug) {\n                        console.error(\"Card can't find a \" + name + \" in your form.\");\n                    }\n                    this[\"$\" + name] = obj;\n                }\n                if (this.options.formatting) {\n                    Payment.formatCardNumber(this.$numberInput);\n                    Payment.formatCardCVC(this.$cvcInput);\n                    Payment.formatCardExpiry(this.$expiryInput);\n                }\n                if (this.options.width) {\n                    $cardContainer = QJ(this.options.cardSelectors.cardContainer)[0];\n                    baseWidth = parseInt($cardContainer.clientWidth);\n                    $cardContainer.style.transform = \"scale(\" + (this.options.width / baseWidth) + \")\";\n                }\n                if (typeof navigator !== \"undefined\" && navigator !== null ? navigator.userAgent : void 0) {\n                    ua = navigator.userAgent.toLowerCase();\n                    if (ua.indexOf('safari') !== -1 && ua.indexOf('chrome') === -1) {\n                        QJ.addClass(this.$card, 'jp-card-safari');\n                    }\n                }\n                if (/MSIE 10\\./i.test(navigator.userAgent)) {\n                    QJ.addClass(this.$card, 'jp-card-ie-10');\n                }\n                if (/rv:11.0/i.test(navigator.userAgent)) {\n                    return QJ.addClass(this.$card, 'jp-card-ie-11');\n                }\n            };\n\n            Card.prototype.attachHandlers = function() {\n                var expiryFilters;\n                bindVal(this.$numberInput, this.$numberDisplay, {\n                    fill: false,\n                    filters: this.validToggler('cardNumber')\n                });\n                QJ.on(this.$numberInput, 'payment.cardType', this.handle('setCardType'));\n                expiryFilters = [\n                    function(val) {\n                        return val.replace(/(\\s+)/g, '');\n                    }\n                ];\n                expiryFilters.push(this.validToggler('cardExpiry'));\n                bindVal(this.$expiryInput, this.$expiryDisplay, {\n                    join: function(text) {\n                        if (text[0].length === 2 || text[1]) {\n                            return \"/\";\n                        } else {\n                            return \"\";\n                        }\n                    },\n                    filters: expiryFilters\n                });\n                bindVal(this.$cvcInput, this.$cvcDisplay, {\n                    filters: this.validToggler('cardCVC')\n                });\n                QJ.on(this.$cvcInput, 'focus', this.handle('flipCard'));\n                QJ.on(this.$cvcInput, 'blur', this.handle('unflipCard'));\n                return bindVal(this.$nameInput, this.$nameDisplay, {\n                    fill: false,\n                    filters: this.validToggler('cardHolderName'),\n                    join: ' '\n                });\n            };\n\n            Card.prototype.handleInitialPlaceholders = function() {\n                var el, name, ref, results, selector;\n                ref = this.options.formSelectors;\n                results = [];\n                for (name in ref) {\n                    selector = ref[name];\n                    el = this[\"$\" + name];\n                    if (QJ.val(el)) {\n                        QJ.trigger(el, 'paste');\n                        results.push(setTimeout(function() {\n                            return QJ.trigger(el, 'keyup');\n                        }));\n                    } else {\n                        results.push(void 0);\n                    }\n                }\n                return results;\n            };\n\n            Card.prototype.handle = function(fn) {\n                return (function(_this) {\n                    return function(e) {\n                        var args;\n                        args = Array.prototype.slice.call(arguments);\n                        args.unshift(e.target);\n                        return _this.handlers[fn].apply(_this, args);\n                    };\n                })(this);\n            };\n\n            Card.prototype.validToggler = function(validatorName) {\n                var isValid;\n                if (validatorName === \"cardExpiry\") {\n                    isValid = function(val) {\n                        var objVal;\n                        objVal = Payment.fns.cardExpiryVal(val);\n                        return Payment.fns.validateCardExpiry(objVal.month, objVal.year);\n                    };\n                } else if (validatorName === \"cardCVC\") {\n                    isValid = (function(_this) {\n                        return function(val) {\n                            return Payment.fns.validateCardCVC(val, _this.cardType);\n                        };\n                    })(this);\n                } else if (validatorName === \"cardNumber\") {\n                    isValid = function(val) {\n                        return Payment.fns.validateCardNumber(val);\n                    };\n                } else if (validatorName === \"cardHolderName\") {\n                    isValid = function(val) {\n                        return val !== \"\";\n                    };\n                }\n                return (function(_this) {\n                    return function(val, $in, $out) {\n                        var result;\n                        result = isValid(val);\n                        _this.toggleValidClass($in, result);\n                        _this.toggleValidClass($out, result);\n                        return val;\n                    };\n                })(this);\n            };\n\n            Card.prototype.toggleValidClass = function(el, test) {\n                QJ.toggleClass(el, this.options.classes.valid, test);\n                return QJ.toggleClass(el, this.options.classes.invalid, !test);\n            };\n\n            Card.prototype.handlers = {\n                setCardType: function($el, e) {\n                    var cardType;\n                    cardType = e.data;\n                    if (!QJ.hasClass(this.$card, cardType)) {\n                        QJ.removeClass(this.$card, 'jp-card-unknown');\n                        QJ.removeClass(this.$card, this.cardTypes.join(' '));\n                        QJ.addClass(this.$card, \"jp-card-\" + cardType);\n                        QJ.toggleClass(this.$card, 'jp-card-identified', cardType !== 'unknown');\n                        return this.cardType = cardType;\n                    }\n                },\n                flipCard: function() {\n                    return QJ.addClass(this.$card, 'jp-card-flipped');\n                },\n                unflipCard: function() {\n                    return QJ.removeClass(this.$card, 'jp-card-flipped');\n                }\n            };\n\n            bindVal = function(el, out, opts) {\n                var joiner, o, outDefaults;\n                if (opts == null) {\n                    opts = {};\n                }\n                opts.fill = opts.fill || false;\n                opts.filters = opts.filters || [];\n                if (!(opts.filters instanceof Array)) {\n                    opts.filters = [opts.filters];\n                }\n                opts.join = opts.join || \"\";\n                if (!(typeof opts.join === \"function\")) {\n                    joiner = opts.join;\n                    opts.join = function() {\n                        return joiner;\n                    };\n                }\n                outDefaults = (function() {\n                    var j, len, results;\n                    results = [];\n                    for (j = 0, len = out.length; j < len; j++) {\n                        o = out[j];\n                        results.push(o.textContent);\n                    }\n                    return results;\n                })();\n                QJ.on(el, 'focus', function() {\n                    return QJ.addClass(out, 'jp-card-focused');\n                });\n                QJ.on(el, 'blur', function() {\n                    return QJ.removeClass(out, 'jp-card-focused');\n                });\n                QJ.on(el, 'keyup change paste', function(e) {\n                    var elem, filter, i, j, join, k, len, len1, outEl, outVal, ref, results, val;\n                    val = (function() {\n                        var j, len, results;\n                        results = [];\n                        for (j = 0, len = el.length; j < len; j++) {\n                            elem = el[j];\n                            results.push(QJ.val(elem));\n                        }\n                        return results;\n                    })();\n                    join = opts.join(val);\n                    val = val.join(join);\n                    if (val === join) {\n                        val = \"\";\n                    }\n                    ref = opts.filters;\n                    for (j = 0, len = ref.length; j < len; j++) {\n                        filter = ref[j];\n                        val = filter(val, el, out);\n                    }\n                    results = [];\n                    for (i = k = 0, len1 = out.length; k < len1; i = ++k) {\n                        outEl = out[i];\n                        if (opts.fill) {\n                            outVal = val + outDefaults[i].substring(val.length);\n                        } else {\n                            outVal = val || outDefaults[i];\n                        }\n                        results.push(outEl.textContent = outVal);\n                    }\n                    return results;\n                });\n                return el;\n            };\n\n            return Card;\n\n        })();\n\n        module.exports = Card;\n\n        global.Card = Card;\n\n\n    }).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../scss/card.scss\":9,\"node.extend\":1,\"payment/src/payment\":4,\"qj/src/qj.coffee\":5}],9:[function(_dereq_,module,exports){\n    module.exports = _dereq_('sassify')('.jp-card.jp-card-safari.jp-card-identified .jp-card-front:before, .jp-card.jp-card-safari.jp-card-identified .jp-card-back:before {   background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);   background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%); }  .jp-card.jp-card-ie-10.jp-card-flipped, .jp-card.jp-card-ie-11.jp-card-flipped {   -webkit-transform: 0deg;   -moz-transform: 0deg;   -ms-transform: 0deg;   -o-transform: 0deg;   transform: 0deg; }   .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-front, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-front {     -webkit-transform: rotateY(0deg);     -moz-transform: rotateY(0deg);     -ms-transform: rotateY(0deg);     -o-transform: rotateY(0deg);     transform: rotateY(0deg); }   .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back {     -webkit-transform: rotateY(0deg);     -moz-transform: rotateY(0deg);     -ms-transform: rotateY(0deg);     -o-transform: rotateY(0deg);     transform: rotateY(0deg); }     .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back:after, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back:after {       left: 18%; }     .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-cvc, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-cvc {       -webkit-transform: rotateY(180deg);       -moz-transform: rotateY(180deg);       -ms-transform: rotateY(180deg);       -o-transform: rotateY(180deg);       transform: rotateY(180deg);       left: 5%; }     .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-shiny, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-shiny {       left: 84%; }       .jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-shiny:after, .jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-shiny:after {         left: -480%;         -webkit-transform: rotateY(180deg);         -moz-transform: rotateY(180deg);         -ms-transform: rotateY(180deg);         -o-transform: rotateY(180deg);         transform: rotateY(180deg); }  .jp-card.jp-card-ie-10.jp-card-amex .jp-card-back, .jp-card.jp-card-ie-11.jp-card-amex .jp-card-back {   display: none; }  .jp-card-logo {   height: 36px;   width: 60px;   font-style: italic; }   .jp-card-logo, .jp-card-logo:before, .jp-card-logo:after {     box-sizing: border-box; }  .jp-card-logo.jp-card-amex {   text-transform: uppercase;   font-size: 4px;   font-weight: bold;   color: white;   background-image: repeating-radial-gradient(circle at center, #FFF 1px, #999 2px);   background-image: repeating-radial-gradient(circle at center, #FFF 1px, #999 2px);   border: 1px solid #EEE; }   .jp-card-logo.jp-card-amex:before, .jp-card-logo.jp-card-amex:after {     width: 28px;     display: block;     position: absolute;     left: 16px; }   .jp-card-logo.jp-card-amex:before {     height: 28px;     content: \"american\";     top: 3px;     text-align: left;     padding-left: 2px;     padding-top: 11px;     background: #267AC3; }   .jp-card-logo.jp-card-amex:after {     content: \"express\";     bottom: 11px;     text-align: right;     padding-right: 2px; }  .jp-card.jp-card-amex.jp-card-flipped {   -webkit-transform: none;   -moz-transform: none;   -ms-transform: none;   -o-transform: none;   transform: none; }  .jp-card.jp-card-amex.jp-card-identified .jp-card-front:before, .jp-card.jp-card-amex.jp-card-identified .jp-card-back:before {   background-color: #108168; }  .jp-card.jp-card-amex.jp-card-identified .jp-card-front .jp-card-logo.jp-card-amex {   opacity: 1; }  .jp-card.jp-card-amex.jp-card-identified .jp-card-front .jp-card-cvc {   visibility: visible; }  .jp-card.jp-card-amex.jp-card-identified .jp-card-front:after {   opacity: 1; }  .jp-card-logo.jp-card-discover {   background: #FF6600;   color: #111;   text-transform: uppercase;   font-style: normal;   font-weight: bold;   font-size: 10px;   text-align: center;   overflow: hidden;   z-index: 1;   padding-top: 9px;   letter-spacing: .03em;   border: 1px solid #EEE; }   .jp-card-logo.jp-card-discover:before, .jp-card-logo.jp-card-discover:after {     content: \" \";     display: block;     position: absolute; }   .jp-card-logo.jp-card-discover:before {     background: white;     width: 200px;     height: 200px;     border-radius: 200px;     bottom: -5%;     right: -80%;     z-index: -1; }   .jp-card-logo.jp-card-discover:after {     width: 8px;     height: 8px;     border-radius: 4px;     top: 10px;     left: 27px;     background-color: #FF6600;     background-image: -webkit-radial-gradient(#FF6600, #fff);     background-image: radial-gradient(  #FF6600, #fff);     content: \"network\";     font-size: 4px;     line-height: 24px;     text-indent: -7px; }  .jp-card .jp-card-front .jp-card-logo.jp-card-discover {   right: 12%;   top: 18%; }  .jp-card.jp-card-discover.jp-card-identified .jp-card-front:before, .jp-card.jp-card-discover.jp-card-identified .jp-card-back:before {   background-color: #86B8CF; }  .jp-card.jp-card-discover.jp-card-identified .jp-card-logo.jp-card-discover {   opacity: 1; }  .jp-card.jp-card-discover.jp-card-identified .jp-card-front:after {   -webkit-transition: 400ms;   -moz-transition: 400ms;   transition: 400ms;   content: \" \";   display: block;   background-color: #FF6600;   background-image: -webkit-linear-gradient(#FF6600, #ffa366, #FF6600);   background-image: linear-gradient(#FF6600, #ffa366, #FF6600);   height: 50px;   width: 50px;   border-radius: 25px;   position: absolute;   left: 100%;   top: 15%;   margin-left: -25px;   box-shadow: inset 1px 1px 3px 1px rgba(0, 0, 0, 0.5); }  .jp-card-logo.jp-card-visa {   background: white;   text-transform: uppercase;   color: #1A1876;   text-align: center;   font-weight: bold;   font-size: 15px;   line-height: 18px; }   .jp-card-logo.jp-card-visa:before, .jp-card-logo.jp-card-visa:after {     content: \" \";     display: block;     width: 100%;     height: 25%; }   .jp-card-logo.jp-card-visa:before {     background: #1A1876; }   .jp-card-logo.jp-card-visa:after {     background: #E79800; }  .jp-card.jp-card-visa.jp-card-identified .jp-card-front:before, .jp-card.jp-card-visa.jp-card-identified .jp-card-back:before {   background-color: #191278; }  .jp-card.jp-card-visa.jp-card-identified .jp-card-logo.jp-card-visa {   opacity: 1; }  .jp-card-logo.jp-card-mastercard {   color: white;   font-weight: bold;   text-align: center;   font-size: 9px;   line-height: 36px;   z-index: 1;   text-shadow: 1px 1px rgba(0, 0, 0, 0.6); }   .jp-card-logo.jp-card-mastercard:before, .jp-card-logo.jp-card-mastercard:after {     content: \" \";     display: block;     width: 36px;     top: 0;     position: absolute;     height: 36px;     border-radius: 18px; }   .jp-card-logo.jp-card-mastercard:before {     left: 0;     background: #FF0000;     z-index: -1; }   .jp-card-logo.jp-card-mastercard:after {     right: 0;     background: #FFAB00;     z-index: -2; }  .jp-card.jp-card-mastercard.jp-card-identified .jp-card-front .jp-card-logo.jp-card-mastercard, .jp-card.jp-card-mastercard.jp-card-identified .jp-card-back .jp-card-logo.jp-card-mastercard {   box-shadow: none; }  .jp-card.jp-card-mastercard.jp-card-identified .jp-card-front:before, .jp-card.jp-card-mastercard.jp-card-identified .jp-card-back:before {   background-color: #0061A8; }  .jp-card.jp-card-mastercard.jp-card-identified .jp-card-logo.jp-card-mastercard {   opacity: 1; }  .jp-card-logo.jp-card-maestro {   color: white;   font-weight: bold;   text-align: center;   font-size: 14px;   line-height: 36px;   z-index: 1;   text-shadow: 1px 1px rgba(0, 0, 0, 0.6); }   .jp-card-logo.jp-card-maestro:before, .jp-card-logo.jp-card-maestro:after {     content: \" \";     display: block;     width: 36px;     top: 0;     position: absolute;     height: 36px;     border-radius: 18px; }   .jp-card-logo.jp-card-maestro:before {     left: 0;     background: #0064CB;     z-index: -1; }   .jp-card-logo.jp-card-maestro:after {     right: 0;     background: #CC0000;     z-index: -2; }  .jp-card.jp-card-maestro.jp-card-identified .jp-card-front .jp-card-logo.jp-card-maestro, .jp-card.jp-card-maestro.jp-card-identified .jp-card-back .jp-card-logo.jp-card-maestro {   box-shadow: none; }  .jp-card.jp-card-maestro.jp-card-identified .jp-card-front:before, .jp-card.jp-card-maestro.jp-card-identified .jp-card-back:before {   background-color: #0B2C5F; }  .jp-card.jp-card-maestro.jp-card-identified .jp-card-logo.jp-card-maestro {   opacity: 1; }  .jp-card-logo.jp-card-dankort {   width: 60px;   height: 36px;   padding: 3px;   border-radius: 8px;   border: #000000 1px solid;   background-color: #FFFFFF; }   .jp-card-logo.jp-card-dankort .dk {     position: relative;     width: 100%;     height: 100%;     overflow: hidden; }     .jp-card-logo.jp-card-dankort .dk:before {       background-color: #ED1C24;       content: \\'\\';       position: absolute;       width: 100%;       height: 100%;       display: block;       border-radius: 6px; }     .jp-card-logo.jp-card-dankort .dk:after {       content: \\'\\';       position: absolute;       top: 50%;       margin-top: -7.7px;       right: 0;       width: 0;       height: 0;       border-style: solid;       border-width: 7px 7px 10px 0;       border-color: transparent #ED1C24 transparent transparent;       z-index: 1; }   .jp-card-logo.jp-card-dankort .d, .jp-card-logo.jp-card-dankort .k {     position: absolute;     top: 50%;     width: 50%;     display: block;     height: 15.4px;     margin-top: -7.7px;     background: white; }   .jp-card-logo.jp-card-dankort .d {     left: 0;     border-radius: 0 8px 10px 0; }     .jp-card-logo.jp-card-dankort .d:before {       content: \\'\\';       position: absolute;       top: 50%;       left: 50%;       display: block;       background: #ED1C24;       border-radius: 2px 4px 6px 0px;       height: 5px;       width: 7px;       margin: -3px 0 0 -4px; }   .jp-card-logo.jp-card-dankort .k {     right: 0; }     .jp-card-logo.jp-card-dankort .k:before, .jp-card-logo.jp-card-dankort .k:after {       content: \\'\\';       position: absolute;       right: 50%;       width: 0;       height: 0;       border-style: solid;       margin-right: -1px; }     .jp-card-logo.jp-card-dankort .k:before {       top: 0;       border-width: 8px 5px 0 0;       border-color: #ED1C24 transparent transparent transparent; }     .jp-card-logo.jp-card-dankort .k:after {       bottom: 0;       border-width: 0 5px 8px 0;       border-color: transparent transparent #ED1C24 transparent; }  .jp-card.jp-card-dankort.jp-card-identified .jp-card-front:before, .jp-card.jp-card-dankort.jp-card-identified .jp-card-back:before {   background-color: #0055C7; }  .jp-card.jp-card-dankort.jp-card-identified .jp-card-logo.jp-card-dankort {   opacity: 1; }  .jp-card-logo.jp-card-elo {   height: 50px;   width: 50px;   border-radius: 100%;   background: black;   color: white;   text-align: center;   text-transform: lowercase;   font-size: 21px;   font-style: normal;   letter-spacing: 1px;   font-weight: bold;   padding-top: 13px; }   .jp-card-logo.jp-card-elo .e, .jp-card-logo.jp-card-elo .l, .jp-card-logo.jp-card-elo .o {     display: inline-block;     position: relative; }   .jp-card-logo.jp-card-elo .e {     -webkit-transform: rotate(-15deg);     -moz-transform: rotate(-15deg);     -ms-transform: rotate(-15deg);     -o-transform: rotate(-15deg);     transform: rotate(-15deg); }   .jp-card-logo.jp-card-elo .o {     position: relative;     display: inline-block;     width: 12px;     height: 12px;     right: 0;     top: 7px;     border-radius: 100%;     background-image: -webkit-linear-gradient( yellow 50%, red 50%);     background-image: linear-gradient( yellow 50%, red 50%);     -webkit-transform: rotate(40deg);     -moz-transform: rotate(40deg);     -ms-transform: rotate(40deg);     -o-transform: rotate(40deg);     transform: rotate(40deg);     text-indent: -9999px; }     .jp-card-logo.jp-card-elo .o:before {       content: \"\";       position: absolute;       width: 49%;       height: 49%;       background: black;       border-radius: 100%;       text-indent: -99999px;       top: 25%;       left: 25%; }  .jp-card.jp-card-elo.jp-card-identified .jp-card-front:before, .jp-card.jp-card-elo.jp-card-identified .jp-card-back:before {   background-color: #6F6969; }  .jp-card.jp-card-elo.jp-card-identified .jp-card-logo.jp-card-elo {   opacity: 1; }  .jp-card-container {   -webkit-perspective: 1000px;   -moz-perspective: 1000px;   perspective: 1000px;   width: 350px;   max-width: 100%;   height: 200px;   margin: auto;   z-index: 1;   position: relative; }  .jp-card {   font-family: \"Helvetica Neue\";   line-height: 1;   position: relative;   width: 100%;   height: 100%;   min-width: 315px;   border-radius: 10px;   -webkit-transform-style: preserve-3d;   -moz-transform-style: preserve-3d;   -ms-transform-style: preserve-3d;   -o-transform-style: preserve-3d;   transform-style: preserve-3d;   -webkit-transition: all 400ms linear;   -moz-transition: all 400ms linear;   transition: all 400ms linear; }   .jp-card > *, .jp-card > *:before, .jp-card > *:after {     -moz-box-sizing: border-box;     -webkit-box-sizing: border-box;     box-sizing: border-box;     font-family: inherit; }   .jp-card.jp-card-flipped {     -webkit-transform: rotateY(180deg);     -moz-transform: rotateY(180deg);     -ms-transform: rotateY(180deg);     -o-transform: rotateY(180deg);     transform: rotateY(180deg); }   .jp-card .jp-card-front, .jp-card .jp-card-back {     -webkit-backface-visibility: hidden;     backface-visibility: hidden;     -webkit-transform-style: preserve-3d;     -moz-transform-style: preserve-3d;     -ms-transform-style: preserve-3d;     -o-transform-style: preserve-3d;     transform-style: preserve-3d;     -webkit-transition: all 400ms linear;     -moz-transition: all 400ms linear;     transition: all 400ms linear;     width: 100%;     height: 100%;     position: absolute;     top: 0;     left: 0;     overflow: hidden;     border-radius: 10px;     background: #DDD; }     .jp-card .jp-card-front:before, .jp-card .jp-card-back:before {       content: \" \";       display: block;       position: absolute;       width: 100%;       height: 100%;       top: 0;       left: 0;       opacity: 0;       border-radius: 10px;       -webkit-transition: all 400ms ease;       -moz-transition: all 400ms ease;       transition: all 400ms ease; }     .jp-card .jp-card-front:after, .jp-card .jp-card-back:after {       content: \" \";       display: block; }     .jp-card .jp-card-front .jp-card-display, .jp-card .jp-card-back .jp-card-display {       color: white;       font-weight: normal;       opacity: 0.5;       -webkit-transition: opacity 400ms linear;       -moz-transition: opacity 400ms linear;       transition: opacity 400ms linear; }       .jp-card .jp-card-front .jp-card-display.jp-card-focused, .jp-card .jp-card-back .jp-card-display.jp-card-focused {         opacity: 1;         font-weight: 700; }     .jp-card .jp-card-front .jp-card-cvc, .jp-card .jp-card-back .jp-card-cvc {       font-family: \"Bitstream Vera Sans Mono\", Consolas, Courier, monospace;       font-size: 14px; }     .jp-card .jp-card-front .jp-card-shiny, .jp-card .jp-card-back .jp-card-shiny {       width: 50px;       height: 35px;       border-radius: 5px;       background: #CCC;       position: relative; }       .jp-card .jp-card-front .jp-card-shiny:before, .jp-card .jp-card-back .jp-card-shiny:before {         content: \" \";         display: block;         width: 70%;         height: 60%;         border-top-right-radius: 5px;         border-bottom-right-radius: 5px;         background: #d9d9d9;         position: absolute;         top: 20%; }   .jp-card .jp-card-front .jp-card-logo {     position: absolute;     opacity: 0;     right: 5%;     top: 8%;     -webkit-transition: 400ms;     -moz-transition: 400ms;     transition: 400ms; }   .jp-card .jp-card-front .jp-card-lower {     width: 80%;     position: absolute;     left: 10%;     bottom: 30px; }     @media only screen and (max-width: 480px) {       .jp-card .jp-card-front .jp-card-lower {         width: 90%;         left: 5%; } }     .jp-card .jp-card-front .jp-card-lower .jp-card-cvc {       visibility: hidden;       float: right;       position: relative;       bottom: 5px; }     .jp-card .jp-card-front .jp-card-lower .jp-card-number {       font-family: \"Bitstream Vera Sans Mono\", Consolas, Courier, monospace;       font-size: 24px;       clear: both;       margin-bottom: 30px; }     .jp-card .jp-card-front .jp-card-lower .jp-card-expiry {       font-family: \"Bitstream Vera Sans Mono\", Consolas, Courier, monospace;       letter-spacing: 0em;       position: relative;       float: right;       width: 25%; }       .jp-card .jp-card-front .jp-card-lower .jp-card-expiry:before, .jp-card .jp-card-front .jp-card-lower .jp-card-expiry:after {         font-family: \"Helvetica Neue\";         font-weight: bold;         font-size: 7px;         white-space: pre;         display: block;         opacity: .5; }       .jp-card .jp-card-front .jp-card-lower .jp-card-expiry:before {         content: attr(data-before);         margin-bottom: 2px;         font-size: 7px;         text-transform: uppercase; }       .jp-card .jp-card-front .jp-card-lower .jp-card-expiry:after {         position: absolute;         content: attr(data-after);         text-align: right;         right: 100%;         margin-right: 5px;         margin-top: 2px;         bottom: 0; }     .jp-card .jp-card-front .jp-card-lower .jp-card-name {       text-transform: uppercase;       font-family: \"Bitstream Vera Sans Mono\", Consolas, Courier, monospace;       font-size: 20px;       max-height: 45px;       position: absolute;       bottom: 0;       width: 190px;       display: -webkit-box;       -webkit-line-clamp: 2;       -webkit-box-orient: horizontal;       overflow: hidden;       text-overflow: ellipsis; }   .jp-card .jp-card-back {     -webkit-transform: rotateY(180deg);     -moz-transform: rotateY(180deg);     -ms-transform: rotateY(180deg);     -o-transform: rotateY(180deg);     transform: rotateY(180deg); }     .jp-card .jp-card-back .jp-card-bar {       background-color: #444;       background-image: -webkit-linear-gradient(#444, #333);       background-image: linear-gradient(#444, #333);       width: 100%;       height: 20%;       position: absolute;       top: 10%; }     .jp-card .jp-card-back:after {       content: \" \";       display: block;       background-color: #FFF;       background-image: -webkit-linear-gradient(#FFF, #FFF);       background-image: linear-gradient(#FFF, #FFF);       width: 80%;       height: 16%;       position: absolute;       top: 40%;       left: 2%; }     .jp-card .jp-card-back .jp-card-cvc {       position: absolute;       top: 40%;       left: 85%;       -webkit-transition-delay: 600ms;       -moz-transition-delay: 600ms;       transition-delay: 600ms; }     .jp-card .jp-card-back .jp-card-shiny {       position: absolute;       top: 66%;       left: 2%; }       .jp-card .jp-card-back .jp-card-shiny:after {         content: \"This card has been issued by Jesse Pollak and is licensed for anyone to use anywhere for free.\\AIt comes with no warranty.\\A For support issues, please visit: github.com/jessepollak/card.\";         position: absolute;         left: 120%;         top: 5%;         color: white;         font-size: 7px;         width: 230px;         opacity: .5; }   .jp-card.jp-card-identified {     box-shadow: 0 0 20px rgba(0, 0, 0, 0.3); }     .jp-card.jp-card-identified .jp-card-front, .jp-card.jp-card-identified .jp-card-back {       background-color: #000;       background-color: rgba(0, 0, 0, 0.5); }       .jp-card.jp-card-identified .jp-card-front:before, .jp-card.jp-card-identified .jp-card-back:before {         -webkit-transition: all 400ms ease;         -moz-transition: all 400ms ease;         transition: all 400ms ease;         background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 90% 20%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 15% 80%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);         background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 90% 20%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 15% 80%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);         opacity: 1; }       .jp-card.jp-card-identified .jp-card-front .jp-card-logo, .jp-card.jp-card-identified .jp-card-back .jp-card-logo {         box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3); }     .jp-card.jp-card-identified.no-radial-gradient .jp-card-front:before, .jp-card.jp-card-identified.no-radial-gradient .jp-card-back:before {       background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);       background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%); } ');;\n},{\"sassify\":6}]},{},[8])(8)\n});\nvar hasRequire = typeof require === 'function';\n\n(function (window, document, Card, angular, undefined) {\n    'use strict';\n    angular\n        .module('gavruk.card', [])\n\n        .controller('CardCtrl', ['$scope', function ($scope) {\n        }])\n\n        .directive('card', ['$compile', function ($compile) {\n            return {\n                restrict: 'A',\n                scope: {\n                    cardContainer: '@', // required\n                    width: '@',\n                    placeholders: '=',\n                    options: '=',\n                    messages: '=',\n                },\n                controller: 'CardCtrl',\n                link: function (scope, element, attributes, cardCtrl) {\n                    var defaultPlaceholders = {\n                        number: '   ',\n                        name: '',\n                        expiry: '/',\n                        cvc: ''\n                    };\n                    var defaultMessages = {\n                        validDate: 'valid\\nthru',\n                        monthYear: 'month/year',\n                    };\n                    var defaultOptions = {\n                        debug: false,\n                        formatting: true\n                    };\n\n                    var placeholders = angular.extend(defaultPlaceholders, scope.placeholders);\n                    var messages = angular.extend(defaultMessages, scope.messages);\n                    var options = angular.extend(defaultOptions, scope.options);\n\n                    var opts = {\n                        form: '[name=\"' + attributes.name + '\"]',\n\n                        // a selector or jQuery object for the container\n                        // where you want the card to appear\n                        container: scope.cardContainer, // *required*\n\n                        formSelectors: {},\n\n                        width: scope.width || 350,\n\n                        // Strings for translation - optional\n                        messages: {\n                            validDate: messages.validDate,\n                            monthYear: messages.monthYear\n                        },\n\n                        // Default placeholders for rendered fields - options\n                        placeholders: {\n                            number: placeholders.number,\n                            name: placeholders.name,\n                            expiry: placeholders.expiry,\n                            cvc: placeholders.cvc\n                        },\n\n                        formatting: options.formatting, // optional - default true\n                        debug: options.debug // if true, will log helpful messages for setting up Card\n                    };\n\n                    if (cardCtrl.numberInput && cardCtrl.numberInput.length > 0) {\n                        opts.formSelectors.numberInput = 'input[name=\"' + cardCtrl.numberInput[0].name + '\"]';\n                    }\n                    if (cardCtrl.expiryInput && cardCtrl.expiryInput.length > 0) {\n                        opts.formSelectors.expiryInput = 'input[name=\"' + cardCtrl.expiryInput[0].name + '\"]';\n                    }\n                    if (cardCtrl.cvcInput && cardCtrl.cvcInput.length > 0) {\n                        opts.formSelectors.cvcInput = 'input[name=\"' + cardCtrl.cvcInput[0].name + '\"]';\n                    }\n                    if (cardCtrl.nameInput && cardCtrl.nameInput.length > 0) {\n                        opts.formSelectors.nameInput = 'input[name=\"' + cardCtrl.nameInput[0].name + '\"]';\n                    }\n\n                    new Card(opts);\n                }\n            };\n        }])\n\n        .directive('cardNumber', ['$compile', function ($compile) {\n            return {\n                restrict: 'A',\n                scope: {\n                    ngModel: '='\n                },\n                require: [\n                    '^card',\n                    'ngModel'\n                ],\n                link: function (scope, element, attributes, ctrls) {\n                    var cardCtrl = ctrls[0];\n                    cardCtrl.numberInput = element;\n                    scope.$watch('ngModel', function (newVal, oldVal) {\n                        if (!oldVal && !newVal) {\n                            return;\n                        }\n                        if (oldVal === newVal && !newVal) {\n                            return;\n                        }\n\n                        var evt = document.createEvent('HTMLEvents');\n                        evt.initEvent('keyup', false, true);\n                        element[0].dispatchEvent(evt);\n                    });\n                }\n            };\n        }])\n\n        .directive('cardName', ['$compile', function ($compile) {\n            return {\n                restrict: 'A',\n                scope: {\n                    ngModel: '='\n                },\n                require: [\n                    '^card',\n                    'ngModel'\n                ],\n                link: function (scope, element, attributes, ctrls) {\n                    var cardCtrl = ctrls[0];\n                    cardCtrl.nameInput = element;\n                    scope.$watch('ngModel', function (newVal, oldVal) {\n                        if (!oldVal && !newVal) {\n                            return;\n                        }\n                        if (oldVal === newVal && !newVal) {\n                            return;\n                        }\n\n                        var evt = document.createEvent('HTMLEvents');\n                        evt.initEvent('keyup', false, true);\n                        element[0].dispatchEvent(evt);\n                    });\n                }\n            };\n        }])\n\n        .directive('cardExpiry', ['$compile', function ($compile) {\n            return {\n                restrict: 'A',\n                scope: {\n                    ngModel: '='\n                },\n                require: [\n                    '^card',\n                    'ngModel'\n                ],\n                link: function (scope, element, attributes, ctrls) {\n                    var cardCtrl = ctrls[0];\n                    cardCtrl.expiryInput = element;\n                    scope.$watch('ngModel', function (newVal, oldVal) {\n                        if (!oldVal && !newVal) {\n                            return;\n                        }\n                        if (oldVal === newVal && !newVal) {\n                            return;\n                        }\n\n                        var evt = document.createEvent('HTMLEvents');\n                        evt.initEvent('keyup', false, true);\n                        element[0].dispatchEvent(evt);\n                    });\n                }\n            };\n        }])\n\n        .directive('cardCvc', ['$compile', function ($compile) {\n            return {\n                restrict: 'A',\n                scope: {\n                    ngModel: '='\n                },\n                require: [\n                    '^card',\n                    'ngModel'\n                ],\n                link: function (scope, element, attributes, ctrls) {\n                    var cardCtrl = ctrls[0];\n                    cardCtrl.cvcInput = element;\n                    scope.$watch('ngModel', function (newVal, oldVal) {\n                        if (!oldVal && !newVal) {\n                            return;\n                        }\n                        if (oldVal === newVal && !newVal) {\n                            return;\n                        }\n\n                        var evt = document.createEvent('HTMLEvents');\n                        evt.initEvent('keyup', false, true);\n                        element[0].dispatchEvent(evt);\n                    });\n                }\n            };\n        }]);\n\n})(window, window.document, hasRequire ? require('card') : window.Card, hasRequire ? require('angular') : window.angular);\n\nif(typeof module !== 'undefined') {\n    module.exports = 'gavruk.card';\n}\n\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .controller('BlogController', BlogController);\n        function BlogController($scope, Blog, APP_INFO) {\n        var vm = this;\n\n        init();\n\n        function init() {\n          vm.loader = true;\n          Blog.getPosts(APP_INFO.ID)\n              .then(function (data) {\n                  $scope.posts = data.data;\n                  vm.loader = false;\n              });\n\n        }\n\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('angular')\n    .controller('BlogPostController', BlogPostController);\n\n  /** @ngInject */\n  function BlogPostController(Blog,APP_INFO,$scope,$stateParams) {\n    var vm = this;\n        $scope.myInterval = 3000;\n        $scope.noWrapSlides = false;\n        $scope.active = 0;\n        init();\n        ////////////////\n\n        function init() {\n\n          var post_id = $stateParams.post_id;\n\n          Blog.getPostDetails(post_id)\n              .then(function (data) {\n                  $scope.post = data.data;\n                  $scope.company_name = APP_INFO.directory;\n              })\n\n        }\n  }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('angular')\n        .controller('AboutController', AboutController);\n        function AboutController(Website, Mail) {\n        var vm = this;\n\n        //Get Website settings\n        vm.getAbout = Website.getAbout;\n        vm.getAbout().then(function(data){\n        \tvm.about = data\n        },function(err){ Mail.errorLog(err) })\n        \n\n    }\n})();\n\n(function() {\n    'use strict';\n    angular\n        .module('angular')\n        .controller('Co2Controller', TwoCheckoutController);\n\n    TwoCheckoutController.$inject = ['$scope', '$rootScope', 'Customer', '$localStorage','TwoCheckoutService','ngCart','Order','$state', 'Catalog', 'APP_INFO'];\n    function TwoCheckoutController($scope, $rootScope, Customer, $localStorage,TwoCheckoutService,ngCart,Order,$state, Catalog, APP_INFO) {\n\n      $scope.proceedToCheckout = proceedToCheckout;\n      //$scope.loadOrderInfo = loadOrderInfo;\n      $scope.validateCard = validateCard;\n      $scope.btnPay = true;\n      $scope.loader = false;\n      TCO.loadPubKey('production');\n        init();\n\n        function init(){\n        $scope.message = null;\n            $rootScope.shipping = {};\n        $scope.card = {};\n\n        if($localStorage.discount){\n\n          if($localStorage.discount > $rootScope.cart.totalCost()){\n            $localStorage.discount = 0;\n          }\n          $scope.discount = $localStorage.discount;\n        } else {\n          $scope.discount = 0;\n        }\n\n        $scope.cardOptions = {\n          debug: false,\n          formatting: true,\n          container: 'card-container'\n        };\n\n        Catalog.setStoreData(APP_INFO.ID)\n          .then(function (response) {\n            \n          });\n\n        TwoCheckoutService.getToken()\n          .success(function(data){\n            $scope.TwoCO_public = data;\n            if(data.sellerID == null || data.twoCOPublishableKey == null){\n              swal('Atencin','La tienda no est lista para recibir pagos, cualquier compra ser rechazada.','warning');\n            }\n          });\n        }\n\n        function validateCard(){\n\n          if($scope.card.expiry.length > 7){\n            swal('Atencin','El ao de la tarjeta solo debe contener los dos ltimos numeros.','warning');\n            $scope.btnPay = true;\n            $scope.loader = false;\n            console.log($scope.card.expiry.length);\n\n          } else {\n            proceedToCheckout();\n          }\n        }\n\n        function proceedToCheckout(){\n            var card = $scope.card;\n\n            //split expiry date\n            card.exp_month = parseInt(card.expiry.substring(0, 2));\n            card.exp_year = parseInt('20' + card.expiry.substring(5, 7));\n\n            // Setup token request arguments\n            $scope.btnPay = false;\n            $scope.disabled = true;\n            $scope.loader = true;\n            var args = {\n              sellerId: $scope.TwoCO_public.sellerID,\n              publishableKey: $scope.TwoCO_public.twoCOPublishableKey,\n              ccNo: card.number,\n              cvv: card.cvc,\n              expMonth: card.exp_month,\n              expYear: card.exp_year\n            };\n\n            // Make the token request\n            TCO.requestToken(successCallback, errorCallback, args);\n\n        }\n\n        function successCallback(data){\n        //$scope.order = $localStorage.order;\n          var storePickup = $localStorage.storePickup;\n          var currency = $localStorage.storeData.currency;\n\n          var total = 0;\n\n          if($localStorage.discount){\n            total = $rootScope.cart.totalCost() - $localStorage.discount;\n          } else {\n            total = $rootScope.cart.totalCost();\n          }\n          \n          if(!storePickup){\n\n            //Create delivery order\n            Order.createDeliveryOrder($localStorage.customer, total).then(function (response) {\n              $localStorage.order = response.data;\n              var billingInfo = {\n                  address: $localStorage.globalAddress.address,\n                  city: $localStorage.globalAddress.city,\n                  zipCode: $localStorage.globalAddress.zip_code,\n                  state: $localStorage.globalAddress.state,\n                  country: $localStorage.globalAddress.country,\n                  name: $scope.card.name,\n                  email: $localStorage.globalCustomer.email,\n                  phoneNumber: $localStorage.globalCustomer.phone,\n                  total: total,\n                  order_id: $localStorage.order.order_id\n              };\n\n              billingInfo.currency = currency;\n\n              TwoCheckoutService.createPayment(data.response.token.token, billingInfo).then(function (results) {\n\n                if(results.data[0] == \"A\"){\n\n                  //If payment for delivery order is approved, create shipping invoice and mail it to store owner\n                  Order.createShippingInvoice($localStorage.order).then(function (response) {\n                          \n                      })\n                  Order.mailReceiptWithTracking(response.data.order_id).then(function (response) {\n                      $state.go('checkout.confirmed');\n                          ngCart.empty();\n                          $localStorage.discount = 0;\n                          $scope.discount = 0;\n                  })\n\n                } else {\n                  \n                  swal('El pago no fue autorizado','Por favor verifique que la informacin sea correcta o intente realizar la compra en otro buscador.','error');\n                  $scope.btnPay = true;\n                  $scope.loader = false;\n\n                }\n                \n              }, function (error) {\n                $scope.btnPay = true;\n                $scope.loader = false;\n              });\n          },  function (error) {\n              swal('Atencin','Hubo en error con la compra, por favor refresque la pgina e intntelo de nuevo, o intente realizar la compra en otro buscador.','warning');\n                $scope.btnPay = true;\n                $scope.loader = false;\n              });\n          }\n          else{\n            console.log(total);\n            //Create pick-up order\n            Order.createPickupOrder($localStorage.customer, total).then(function (response) {\n              $localStorage.order = response.data;\n              var billingInfo = {\n                  address: $localStorage.globalAddress.address,\n                  city: $localStorage.globalAddress.city,\n                  zipCode: $localStorage.globalAddress.zip_code,\n                  state: $localStorage.globalAddress.state,\n                  country: $localStorage.globalAddress.country,\n                  name: $scope.card.name,\n                  email: $localStorage.globalCustomer.email,\n                  phoneNumber: $localStorage.globalCustomer.phone,\n                  total: total,\n                  order_id: $localStorage.order.order_id\n              };\n\n              billingInfo.currency = currency;\n\n\n              TwoCheckoutService.createPayment(data.response.token.token, billingInfo).then(function (results) {\n\n                if(results.data[0] == \"A\"){\n                  \n                  //If payment for pickup order is approved, create shipping invoice and mail it to store owner\n                  Order.mailReceipt(response.data.order_id).then(function (response) {\n                                $state.go('checkout.confirmed');\n                                ngCart.empty();\n                                $localStorage.discount = 0;\n                                $scope.discount = 0;\n                            })\n\n                }else {\n                  \n                  swal('El pago no fue autorizado','Por favor verifique que la informacin sea correcta o intente realizar la compra en otro buscador.','error');\n                  $scope.btnPay = true;\n                  $scope.loader = false;\n\n                }\n                \n              }, function (error) {\n                $scope.btnPay = true;\n                $scope.loader = false;\n              });\n          },  function (error) {\n\n            console.log(error);\n              swal('Atencin','Hubo en error con la compra, por favor refresque la pgina e intntelo de nuevo, o intente realizar la compra en otro buscador.','warning');\n                $scope.btnPay = true;\n                $scope.loader = false;\n              });\n          }\n        }\n\n        var errorCallback = function(data) {\n          // Retry the token request if ajax call fails\n          if (data.errorCode === 200) {\n\n             // This error code indicates that the ajax call failed. We recommend that you retry the token request.\n             swal('Connection Error',data.errorMsg,'error');\n              $scope.btnPay = true;\n              $scope.loader = false;\n\n          } else {\n            \n            swal('Error',data.errorMsg,'error');\n            $scope.btnPay = true;\n            $scope.loader = false;\n            \n          }\n        };\n\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('angular')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log, $rootScope, APP_INFO, ngCart, $window, Analytics) {\n    $rootScope.app = APP_INFO;\n    $rootScope.cart = ngCart;\n\n    $rootScope.$on(\n        '$stateChangeStart',\n        function(event, toState, toParams, fromState, fromParams) {\n            if (toState.externalUrl) {\n                event.preventDefault();\n                $window.open(toState.externalUrl, '_self');\n            }\n        }\n    );\n  }\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('angular')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n      })\n      .state('products', {\n        url: '/products',\n        templateUrl: 'app/products/products.view.html',\n        controller: 'CatalogController',\n        controllerAs: 'vm'\n      })\n      .state('productVariantsByName', {\n        url: '/products/size/:variantName',\n        templateUrl: 'app/products/products.view.html',\n        controller: 'CatalogController',\n        controllerAs: 'vm'\n      })\n      .state('productsAlt', {\n        url: '/products/:productType',\n        templateUrl: 'app/products/products.view.html',\n        controller: 'CatalogController',\n        controllerAs: 'vm'\n      })\n      .state('discounts', {\n        url: '/discounts',\n        templateUrl: 'app/discounts/discounts.view.html',\n        controller: 'DiscountController',\n        controllerAs: 'vm'\n      })\n      .state('product', {\n        url: '/product/:product_id',\n        templateUrl: 'app/product/product.view.html',\n        controller: 'ProductController',\n        controllerAs: 'vm'\n      })\n      .state('checkout.summary', {\n        url: '/summary',\n        templateUrl: 'app/cart-summary/cart-summary.view.html'\n      })\n      .state('checkout', {\n        url: '/checkout',\n        templateUrl: 'app/checkout/checkout.view.html'\n      })\n      .state('checkout.address', {\n        url: '/shipping-and-billing-address',\n        title: 'Cart Billing & Shipping Address',\n        templateUrl: 'app/cart-address/cart-address.view.html'\n      })\n      .state('checkout.placeOrder', {\n        url: '/place-order',\n        title: 'Place order',\n        templateUrl: 'app/place-order/place-order-view.html'\n      })\n      .state('checkout.confirmed', {\n        url: '/confirmed',\n        title: 'Confirmed',\n        templateUrl: 'app/cart-confirmed/card-confirmed.view.html',\n        controller: 'ConfirmationController',\n        controllerAs: 'vm'\n      })\n        .state('about_us', {\n          url: '/about-us',\n          title: 'About',\n          templateUrl: 'app/about/about.view.html',\n          controller: 'AboutController',\n          controllerAs: 'vm'\n        })\n        .state('contact', {\n          url: '/contact',\n          title: 'Contact',\n          templateUrl: 'app/contact/contact.view.html'\n        })\n        .state('blog', {\n          url: '/blog',\n          title: 'blog',\n          templateUrl: 'app/blog/blog.view.html',\n          controller: 'BlogController',\n          controllerAs: 'vm'\n        })\n        .state('blog-post', {\n          url: '/blog/:post_id',\n          templateUrl: 'app/blog/blog-post.view.html',\n          controller: 'BlogPostController',\n          controllerAs: 'vm'\n        })\n        .state('store_locator', {\n          url: '/puntos-de-venta',\n          title: 'Locator',\n          templateUrl: 'app/locator/locator.view.html',\n          controller: 'LocatorController',\n          controllerAs: 'vm'\n        })\n        .state('cremacion', {\n          url: '/cremacion',\n          title: 'Cremacion',\n          templateUrl: 'app/cremacion/cremacion.view.html'\n        })\n        .state('preguntas', {\n          url: '/preguntas',\n          title: 'Preguntas',\n          templateUrl: 'app/faq/faq.view.html',\n          controller: 'FAQController',\n          controllerAs: 'vm'\n        })\n        .state('proveedor', {\n          url: '/proveedor',\n          title: 'Proveedor',\n          templateUrl: 'app/proveedor/proveedor.view.html',\n          controller: 'ContactController',\n          controllerAs: 'vm'\n        })\n        .state('privacyPolicy', {\n          url: '/politicas-de-privacidad',\n          title: 'Politicas de Privacidad',\n          templateUrl: 'app/components/footer/privacyPolicy.html'\n        })\n        \n        .state('external', {\n            url: '/admin',\n            externalUrl: 'https://shops.madebyblume.com'\n        })\n        .state('collection', {\n          url: '/collection/:name',\n          title: 'Collection',\n          templateUrl: 'app/collection/collection.view.html',\n          controller : 'CollectionController',\n          controllerAs: 'vm'\n        })\n        .state('collectionByVariantName', {\n          url: '/collection/:name/:variantName',\n          title: 'Collection',\n          templateUrl: 'app/collection/collection.view.html',\n          controller : 'CollectionController',\n          controllerAs: 'vm'\n        });\n    $urlRouterProvider.otherwise('/');\n    $locationProvider.html5Mode(true);\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('angular')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig, $qProvider, AnalyticsProvider) {\n    \n    AnalyticsProvider.setAccount('UA-62919114-3');\n    AnalyticsProvider.trackPages(true);\n    AnalyticsProvider.trackUrlParams(true);\n    AnalyticsProvider.setPageEvent('$stateChangeSuccess');\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n\n    $qProvider.errorOnUnhandledRejections(false);\n  }\n\n})();\n\nangular.module(\"angular\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/about/about.view.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div layout=\\\"row\\\" layout-align=\\\"center center\\\"><img src=\\\"https://cms.blumewebsites.com/{{vm.about.image}}\\\" alt=\\\"\\\"></div></div></div></div><div class=\\\"container min-top\\\"><div layout=\\\"row\\\" layout-align=\\\"center center\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div ta-bind=\\\"text\\\" ng-model=\\\"vm.about.description\\\" ta-readonly=\\\"false\\\"></div></div></div></div></div>\");\n$templateCache.put(\"app/blog/blog-post.view.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"row products-header\\\"><div class=\\\"col-md-6 col-md-offset-3\\\"></div></div></div><br><div class=\\\"container double-space-top\\\"><div class=\\\"col-md-8 col-md-offset-2\\\"><img class=\\\"img-responsive\\\" ng-src=\\\"https://cms.blumewebsites.com/{{post.image_url}}\\\" style=\\\"margin:auto;\\\"><br><div class=\\\"product-title\\\"><h2>{{ post.title }}<br><h4><small>{{ post.author }} &nbsp; {{ post.created_date | date }}</small></h4></h2></div><br><div ta-bind=\\\"text\\\" ng-model=\\\"post.body\\\" ta-readonly=\\\"false\\\"></div><br></div></div>\");\n$templateCache.put(\"app/blog/blog.view.html\",\"<div class=\\\"container max-top\\\"><div class=\\\"row\\\"><div class=\\\"col-md-8\\\"><md-card class=\\\"min-top\\\" ng-repeat=\\\"post in posts | orderBy:post.created_date :true | filter:criteria\\\"><md-card-content><div class=\\\"row\\\"><div class=\\\"col-md-5\\\"><a ui-sref=\\\"blog-post({ post_id: post.id })\\\"><div style=\\\"background:url(https://cms.blumewebsites.com/{{post.image_url}}) no-repeat center;background-size:cover\\\" class=\\\"md-card-image img-blog img-responsive\\\" alt=\\\"image\\\"></div></a></div><div class=\\\"col-md-7\\\"><a ui-sref=\\\"blog-post({ post_id: post.id })\\\" style=\\\"text-decoration:none;color:black;\\\"><h4>{{post.title}}</h4></a> <a class=\\\"l-b\\\" ui-sref=\\\"blog-post({ post_id: post.id })\\\"><strong>{{post.type}}</strong></a><p class=\\\"min-top t-b text-justify\\\">{{post.short_description}}</p><md-divider></md-divider><span class=\\\"i-b\\\">{{post.created_date | date}}</span></div></div></md-card-content></md-card></div><div class=\\\"col-md-4\\\" md-theme=\\\"custom\\\"><md-card class=\\\"min-top\\\"><md-card-content><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><md-icon><i class=\\\"material-icons\\\">search</i></md-icon><label>Buscar</label> <input ng-model=\\\"criteria\\\"></md-input-container></div></md-card-content></md-card></div></div></div>\");\n$templateCache.put(\"app/cart-address/cart-address.view.html\",\"<md-card class=\\\"card-simple top-shadow card-decoration\\\" md-theme=\\\"custom\\\"><md-card-title><md-card-title-text><span class=\\\"upper-text\\\">2. Datos del Envo<div class=\\\"pull-right\\\" style=\\\"margin-bottom:5px\\\"><div ng-if=\\\"vm.store.payment_options.twocheckout || vm.store.payment_options.bacsanjose\\\"><img src=\\\"assets/images/visa.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/mastercard.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/discover.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/amex.svg\\\" class=\\\"card-logo\\\"></div><div ng-if=\\\"vm.store.payment_options.fttechnologies || vm.store.payment_options.banconacional\\\"><img src=\\\"assets/images/bancoNacional.png\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/correosDeCostaRica.png\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/visa.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/mastercard.svg\\\" class=\\\"card-logo\\\"></div></div></span><md-divider></md-divider></md-card-title-text></md-card-title><md-card-content><h4 class=\\\"dgrey\\\">Informacin Bsica</h4><br><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>Nombre completo</label> <input ng-model=\\\"vm.customer.full_name\\\"></md-input-container></div><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>Correo Electrnico</label> <input ng-model=\\\"vm.customer.email\\\" type=\\\"email\\\"></md-input-container></div><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>Telfono</label> <input ng-model=\\\"vm.customer.phone\\\"></md-input-container></div></div></div><div class=\\\"center-block text-center\\\"><md-checkbox ng-disabled=\\\"vm.store_fares.length == 0 || vm.export\\\" ng-if=\\\"vm.store.has_pickup_in_store\\\" id=\\\"chkPickup\\\" ng-model=\\\"vm.pickup_in_store\\\" ng-change=\\\"vm.toggleDelivery(vm.pickup_in_store)\\\" aria-label=\\\"Checkbox 1\\\">Recoger en la tienda</md-checkbox><md-checkbox ng-disabled=\\\"vm.pickup_in_store\\\" ng-if=\\\"vm.store_fares.length > 0 && vm.has_international_shipping\\\" id=\\\"chkPickup\\\" ng-model=\\\"vm.export\\\" ng-change=\\\"vm.toggleExport()\\\" aria-label=\\\"Checkbox 1\\\">Envo internacional</md-checkbox></div><div class=\\\"row\\\" ng-show=\\\"!vm.pickup_in_store && !vm.export\\\"><div class=\\\"col-md-12\\\"><h4>Punto de Entrega &nbsp; <i ng-click=\\\"vm.currentLocation()\\\" class=\\\"material-icons my-location\\\" style=\\\"color:green\\\">my_location</i> <small ng-show=\\\"!vm.loading_location\\\">(Enviar a mi ubicacin actual)</small> <small ng-show=\\\"vm.loading_location\\\">Buscando su ubicacin, un momento por favor...</small></h4><br><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label for=\\\"\\\"></label> <input places-auto-complete=\\\"\\\" size=\\\"80\\\" ng-model=\\\"vm.address.address\\\" component-restrictions=\\\"{country:\\'cr\\'}\\\" on-place-changed=\\\"vm.placeLookup()\\\" placeholder=\\\"o busque aqu su ubicacin con Google maps\\\"></md-input-container></div><label>o haga click en el mapa para elegir el punto de entrega</label><div><ng-map center=\\\"San Jose, Costa Rica\\\" zoom=\\\"12\\\" on-click=\\\"vm.mapClick()\\\"><marker draggable=\\\"true\\\" on-dragend=\\\"vm.dragDestination()\\\" position=\\\"[{{vm.destination_coords.lat}},{{vm.destination_coords.lng}}]\\\" title=\\\"Punto de entrega\\\"></marker></ng-map></div><br><h4>Comentarios</h4><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><textarea ng-model=\\\"vm.address.note\\\" placeholder=\\\"Escriba un comentario o detalles para encontrar el punto de entrega\\\" md-maxlength=\\\"150\\\" rows=\\\"5\\\"></textarea></md-input-container></div><section><h4>Transporte &nbsp;<small>Distancia aproximada: {{vm.destination_coords.distance}} Kms | {{cart.getTotalWeight()}} Kgs</small></h4><br><div class=\\\"form-group\\\"><md-radio-group ng-model=\\\"vm.destination_coords.selected_fare\\\" ng-change=\\\"vm.changeDeliveryCompany()\\\"><md-radio-button ng-repeat=\\\"fare in vm.store_fares\\\" value=\\\"{{fare.id}}\\\"><span ng-if=\\\"fare.delivery_company\\\">{{fare.delivery_company}} <img ng-if=\\\"fare.delivery_company_name==\\'correosdecostarica\\'\\\" src=\\\"assets/images/correos.png\\\" style=\\\"width:auto;height:30px;\\\"></span> <span ng-if=\\\"!fare.delivery_company\\\">{{fare.delivery_company_name}}</span> <span ng-show=\\\"vm.destination_coords.selected_fare == fare.id\\\"><small class=\\\"text-muted\\\" ng-if=\\\"vm.store.currency == \\'USD\\'\\\">{{ cart.getShipping() | currency }} | Tiempo de entrega {{fare.eta}} (approx)</small> <small class=\\\"text-muted\\\" ng-if=\\\"vm.store.currency == \\'CRC\\'\\\">{{ cart.getShipping() | currency:\\'\\' }} | Tiempo de entrega {{fare.eta}} (approx)</small></span></md-radio-button></md-radio-group></div></section><br></div></div><div class=\\\"row\\\" ng-show=\\\"vm.pickup_in_store && vm.store.payment_gateways.twocheckout\\\"><div class=\\\"col-md-12\\\"><h4>Direccin de cobro</h4><br><div class=\\\"form-group\\\" layout=\\\"row\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>Pas</label> <input ng-model=\\\"vm.billing_address.country\\\"></md-input-container><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>Estado / Provincia</label> <input ng-model=\\\"vm.billing_address.state\\\"></md-input-container></div><div class=\\\"form-group\\\" layout=\\\"row\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>Ciudad</label> <input ng-model=\\\"vm.billing_address.city\\\"></md-input-container><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>Cdigo Postal</label> <input ng-model=\\\"vm.billing_address.zip_code\\\"></md-input-container></div><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><textarea ng-model=\\\"vm.billing_address.address\\\" placeholder=\\\"Comentarios\\\" md-maxlength=\\\"150\\\" rows=\\\"5\\\"></textarea></md-input-container></div></div></div><div class=\\\"row\\\" ng-show=\\\"vm.pickup_in_store && !vm.store.payment_gateways.twocheckout\\\"><div class=\\\"col-md-12\\\"><h4>Detalle</h4><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><textarea ng-model=\\\"vm.billing_address.address\\\" placeholder=\\\"Comentarios\\\" md-maxlength=\\\"150\\\" rows=\\\"5\\\"></textarea></md-input-container></div></div></div><div class=\\\"row\\\" ng-show=\\\"vm.export\\\"><div class=\\\"col-md-12\\\"><h4>Billing Address</h4><br><div class=\\\"form-group\\\" layout=\\\"row\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><ui-select style=\\\"width:95%\\\" class=\\\"mui-dropdown\\\" placeholder=\\\"Pick a country\\\" ng-model=\\\"vm.country_selected\\\" ng-disabled=\\\"false\\\" title=\\\"Pick a country\\\" on-select=\\\"vm.calculateExportShipping($select.selected)\\\"><ui-select-match>{{$select.selected.name}}</ui-select-match><ui-select-choices repeat=\\\"country in vm.countries | filter: $select.search\\\"><span ng-bind-html=\\\"country.name | highlight: $select.search\\\"></span></ui-select-choices></ui-select></md-input-container><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>State / Province</label> <input ng-model=\\\"vm.address.state\\\"></md-input-container></div><div class=\\\"form-group\\\" layout=\\\"row\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>City</label> <input ng-model=\\\"vm.address.city\\\"></md-input-container><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>Zip Code</label> <input ng-model=\\\"vm.address.zip_code\\\"></md-input-container></div><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><textarea ng-model=\\\"vm.address.address\\\" placeholder=\\\"Address details\\\" md-maxlength=\\\"150\\\" rows=\\\"5\\\"></textarea></md-input-container></div><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><textarea ng-model=\\\"vm.address.note\\\" placeholder=\\\"Additional comments\\\" md-maxlength=\\\"150\\\" rows=\\\"5\\\"></textarea></md-input-container></div></div></div></md-card-content><md-card-actions layout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"pull-left sm-margin-left\\\" ui-sref=\\\"checkout.summary\\\">Volver</md-button><md-button analytics-on=\\\"click\\\" analytics-event=\\\"CompleteRegistration\\\" class=\\\"md-raised md-primary buttons-margin custom\\\" ng-disabled=\\\"btnProceed\\\" ng-click=\\\"vm.verifyData(vm.pickup_in_store, vm.export)\\\">Continuar</md-button></md-card-actions></md-card>\");\n$templateCache.put(\"app/cart-confirmed/card-confirmed.view.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading panel-cus-2\\\"><div class=\\\"panel-title\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><h5 class=\\\"primary-color\\\"></h5></div></div></div></div><div class=\\\"panel-body text-center\\\"><div class=\\\"row\\\" ng-if=\\\"vm.store.payment_options.twocheckout || vm.store.payment_options.fttechnologies\\\"><div class=\\\"col-md-4 col-md-offset-4\\\"><h2 class=\\\"dgrey\\\">Gracias por su compra!</h2><p style=\\\"font-size:0.8em\\\" class=\\\"dgrey\\\">Le enviamos un correo con todos los detalles de la orden.</p></div></div><div class=\\\"row\\\" ng-if=\\\"vm.store.payment_options.bacsanjose\\\"><div class=\\\"col-md-4 col-md-offset-4\\\" ng-show=\\\"vm.response_code == 100\\\"><h2 class=\\\"dgrey\\\">Gracias por su compra!</h2><p style=\\\"font-size:0.8em\\\" class=\\\"dgrey\\\">Le enviamos un correo con todos los detalles de la orden.</p><br></div><div class=\\\"col-md-4 col-md-offset-4\\\" ng-show=\\\"vm.response_code != 100\\\"><h2 class=\\\"dgrey\\\">No se pudo realizar la compra</h2><p style=\\\"font-size:0.8em\\\" class=\\\"dgrey\\\">{{vm.response_text}}</p><md-button ng-if=\\\"vm.order_id==0&&vm.response_text!=\\'\\'\\\" class=\\\"md-raised md-primary custom\\\" ui-sref=\\\"products\\\">&nbsp;Volver&nbsp;</md-button><br></div></div></div></div></div>\");\n$templateCache.put(\"app/cart-summary/cart-summary.view.html\",\"<md-card class=\\\"card-simple top-shadow card-decoration\\\"><md-card-title><md-card-title-text><span class=\\\"upper-text\\\">1. Resumen de Compra<div class=\\\"pull-right\\\" style=\\\"margin-bottom:5px\\\"><div ng-if=\\\"vm.store.payment_options.twocheckout || vm.store.payment_options.bacsanjose\\\"><img src=\\\"assets/images/visa.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/mastercard.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/discover.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/amex.svg\\\" class=\\\"card-logo\\\"></div><div ng-if=\\\"vm.store.payment_options.fttechnologies || vm.store.payment_options.banconacional\\\"><img src=\\\"assets/images/bancoNacional.png\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/correosDeCostaRica.png\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/visa.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/mastercard.svg\\\" class=\\\"card-logo\\\"></div></div></span><md-divider></md-divider></md-card-title-text></md-card-title><md-card-content><div ng-if=\\\"cart.$cart.items.length > 0\\\"><div ng-include=\\\"\\'app/ngCart/summary.html\\'\\\" class=\\\"row\\\"></div><md-divider></md-divider></div><div ng-if=\\\"cart.$cart.items.length == 0\\\" class=\\\"text-center space-top\\\"><h4 class=\\\"dgrey\\\">Agregue productos al carrito!</h4><br></div><md-divider></md-divider></md-card-content><md-card-actions layout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"pull-left sm-margin-left md-raised\\\" ui-sref=\\\"products\\\">Volver</md-button>&nbsp;&nbsp;<md-button analytics-on=\\\"click\\\" analytics-event=\\\"ViewContent\\\" class=\\\"sm-margin-right md-raised md-primary custom\\\" ng-click=\\\"vm.checkStock()\\\" ng-if=\\\"cart.$cart.items.length > 0\\\">Continuar</md-button></md-card-actions></md-card>\");\n$templateCache.put(\"app/cart-totals/cart-totals.view.html\",\"<div><md-card class=\\\"card-simple top-shadow card-decoration\\\"><md-card-title><md-card-title-text><span class=\\\"upper-text\\\">Resumen</span><md-divider></md-divider></md-card-title-text></md-card-title><md-card-content><md-list ng-if=\\\"vm.store.currency == \\'USD\\'\\\"><md-list-item><div class=\\\"row\\\"><div class=\\\"col-md-6\\\">Subtotal:</div><div class=\\\"col-md-6\\\"><strong>{{ cart.getSubTotal() | currency }}</strong></div></div></md-list-item><md-list-item><div class=\\\"row\\\"><div class=\\\"col-md-6\\\">Envo:</div><div class=\\\"col-md-6\\\"><span ng-if=\\\"cart.getShipping()\\\"><strong>{{ cart.getShipping() | currency }}</strong></span> <span ng-if=\\\"!cart.getShipping()\\\"><strong>$0.00</strong></span></div></div></md-list-item><md-list-item ng-show=\\\"vm.discount_code.valid\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6\\\">Descuento:</div><div class=\\\"col-md-6\\\"><span><strong>{{ vm.discount_code.amount | currency }}</strong></span></div></div></md-list-item><md-list-item ng-if=\\\"vm.store.charge_tax\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6\\\">Impuesto:</div><div class=\\\"col-md-6\\\"><span><strong>{{ cart.getTax() | currency }}</strong></span></div></div></md-list-item></md-list><md-list ng-if=\\\"vm.store.currency == \\'CRC\\'\\\"><md-list-item><div class=\\\"row\\\"><div class=\\\"col-md-6\\\">Subtotal:</div><div class=\\\"col-md-6\\\"><strong>{{ cart.getSubTotal() | currency:\\'\\' }}</strong></div></div></md-list-item><md-list-item><div class=\\\"row\\\"><div class=\\\"col-md-6\\\">Envo:</div><div class=\\\"col-md-6\\\"><span ng-if=\\\"cart.getShipping()\\\"><strong>{{ cart.getShipping() | currency:\\'\\' }}</strong></span> <span ng-if=\\\"!cart.getShipping()\\\"><strong>0.00</strong></span></div></div></md-list-item><md-list-item ng-show=\\\"vm.discount_code.valid\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6\\\">Descuento:</div><div class=\\\"col-md-6\\\"><span><strong>{{ vm.discount_code.amount | currency:\\'\\' }}</strong></span></div></div></md-list-item><md-list-item ng-if=\\\"vm.store.charge_tax\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6\\\">Impuesto:</div><div class=\\\"col-md-6\\\"><span><strong>{{ cart.getTax() | currency:\\'\\' }}</strong></span></div></div></md-list-item></md-list><md-divider></md-divider></md-card-content><md-card-actions layout=\\\"row\\\" layout-align=\\\"center center\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><span class=\\\"pull-left upper-text\\\">Total:</span></div><div class=\\\"col-md-6\\\" ng-if=\\\"vm.store.currency == \\'USD\\'\\\"><p class=\\\"\\\" ng-show=\\\"!vm.discount_code.valid\\\"><strong>{{ cart.totalCost() | currency }}</strong></p><p class=\\\"\\\" ng-show=\\\"vm.discount_code.valid\\\"><strong>{{ cart.totalCost() - vm.discount_code.amount | currency }}</strong></p></div><div class=\\\"col-md-6\\\" ng-if=\\\"vm.store.currency == \\'CRC\\'\\\"><p class=\\\"\\\" ng-show=\\\"!vm.discount_code.valid\\\"><strong>{{ cart.totalCost() | currency:\\'\\' }}</strong></p><p class=\\\"\\\" ng-show=\\\"vm.discount_code.valid\\\"><strong>{{ cart.totalCost() - vm.discount_code.amount | currency:\\'\\' }}</strong></p></div></div></md-card-actions></md-card></div><div style=\\\"margin-top:2em\\\" class=\\\"container-fluid text-justy\\\"><p>{{vm.store.delivery_terms}}</p></div>\");\n$templateCache.put(\"app/checkout/checkout.view.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"row products-header\\\"></div></div><div class=\\\"container-fluid double-space-top\\\" ng-controller=\\\"CheckoutController as vm\\\"><div class=\\\"col-md-1 col-lg-1\\\"></div><div class=\\\"col-md-7 col-lg-7\\\"><div ui-view=\\\"\\\" autoscroll=\\\"true\\\" class=\\\"wrapper\\\"></div></div><div class=\\\"col-md-3 col-lg-3\\\"><div><div ng-include=\\\"\\'app/cart-totals/cart-totals.view.html\\'\\\"></div><br></div></div><div class=\\\"col-md-1 col-lg-1\\\"></div><br></div>\");\n$templateCache.put(\"app/collection/collection.view.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"row products-header\\\"><div class=\\\"col-md-6 col-md-offset-3\\\"><h2 class=\\\"text-center toop\\\" ng-style=\\\"vm.styles.titles\\\">{{vm.collection}}</h2><div class=\\\"form-group\\\" layout=\\\"row\\\"><md-input-container><label>Categoras</label><md-select ng-if=\\\"vm.categories.length > 0\\\" ng-model=\\\"vm.selectedCategory\\\"><md-option ng-value=\\\"\\\"><em>Todas</em></md-option><md-option ng-repeat=\\\"category in vm.categories\\\" ng-value=\\\"category.title\\\" ng-if=\\\"category.title!=\\'\\'\\\">{{ category.title }}</md-option></md-select></md-input-container><md-input-container flex-gt-sm=\\\"\\\"><label><md-icon><i class=\\\"material-icons icon-color\\\">search</i></md-icon>Buscar <span ng-if=\\\"vm.selectedCategory\\\">{{vm.selectedCategory}}</span> en {{vm.collection}}</label> <input ng-model=\\\"criteria\\\" ng-model-options=\\\"{debounce: 750}\\\"></md-input-container></div></div></div></div><div class=\\\"container-fluid\\\"><div layout=\\\"row\\\" layout-align=\\\"center center\\\"><div ng-show=\\\"vm.loader\\\" class=\\\"loader\\\"><svg class=\\\"circular\\\" viewbox=\\\"25 25 50 50\\\"><circle class=\\\"path\\\" cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"10\\\" fill=\\\"none\\\" stroke-width=\\\"2\\\" stroke-miterlimit=\\\"10\\\"></circle></svg></div></div><div class=\\\"row\\\" ng-if=\\\"vm.companyId==240\\\"><div class=\\\"center-block text-center\\\"><md-button class=\\\"md-raised md-default\\\" ng-click=\\\"vm.setSizeFilter(\\'\\')\\\">Todas</md-button><md-button class=\\\"md-raised md-primary custom\\\" ng-if=\\\"key==\\'X-Small\\' || key==\\'Small\\' || key==\\'Medium\\' || key==\\'Large\\' || key==\\'X-Large\\'\\\" ng-repeat=\\\"(key, value) in vm.catalog | groupBy: \\'variantName\\'\\\" ng-click=\\\"vm.setSizeFilter(key)\\\">{{ key }}</md-button></div></div><div class=\\\"row\\\" ng-if=\\\"vm.companyId==268\\\"><div class=\\\"center-block text-center\\\"><md-button class=\\\"md-raised md-default\\\" ng-click=\\\"vm.setSizeFilter(\\'\\')\\\">Todas</md-button><md-button class=\\\"md-raised md-primary custom\\\" ng-if=\\\"key!=\\'default\\'\\\" ng-repeat=\\\"(key, value) in vm.catalog | groupBy: \\'variantName\\'\\\" ng-click=\\\"vm.setSizeFilter(key)\\\">{{ key }}</md-button></div></div><div class=\\\"row\\\" infinite-scroll=\\\"vm.addMoreItems()\\\" infinite-scroll-distance=\\\"1\\\"><div ng-repeat=\\\"product in vm.catalog | filter:vm.selectedCategory | filter:criteria | filter:vm.collection:true | limitTo:vm.itemsDisplayed\\\" class=\\\"col-md-3 col-sm-6 no-padding\\\">{{selectedCategory}}<md-card class=\\\"center-block card-h\\\"><div ui-sref=\\\"product({ product_id: product.id })\\\" style=\\\"cursor:pointer;background:url(https://cms.blumewebsites.com/{{ ::product.coverImage}}) no-repeat center; background-size:contain;\\\" class=\\\"md-card-image img-card\\\" alt=\\\"{{ ::product.title}}\\\"><span ng-if=\\\"product.salePercentage > 0\\\"><div style=\\\"position:absolute;top:40px;right:52px;z-index:1\\\"><strong style=\\\"color:white\\\">- {{product.salePercentage}}%</strong></div><img style=\\\"position:absolute;top:15px;right:30px;\\\" src=\\\"assets/images/discount-tag.png\\\"></span> <span ng-if=\\\"product.variantQuantity == 0\\\"><img ng-if=\\\"product.variantName == \\'default\\'\\\" style=\\\"position:absolute;top:20%;left:15%;\\\" src=\\\"assets/images/sold-out.png\\\"></span></div><md-card-title class=\\\"less-p\\\"><md-card-title-text><h4 class=\\\"text-center less-margin\\\">{{ ::product.title}}</h4></md-card-title-text></md-card-title><md-card-content class=\\\"less-p\\\"><h5 class=\\\"text-center gray no-margin\\\" ng-if=\\\"vm.currency == \\'USD\\'\\\"><span ng-if=\\\"product.salePercentage == 0\\\">{{ ::product.variantPrice | currency }}</span> <span ng-if=\\\"product.salePercentage > 0\\\"><small style=\\\"color:black\\\"><strike>{{ ::product.variantPrice | currency }}</strike></small><br>{{ ::product.variantPrice * ((100 - product.salePercentage) / 100) | currency }}</span></h5><h5 class=\\\"text-center gray no-margin\\\" ng-if=\\\"vm.currency == \\'CRC\\'\\\"><span ng-if=\\\"product.salePercentage == 0\\\">{{ ::product.variantPrice | currency:\\'\\' }}</span> <span ng-if=\\\"product.salePercentage > 0\\\"><small style=\\\"color:black\\\"><strike>{{ ::product.variantPrice | currency:\\'\\' }}</strike></small><br>{{ ::product.variantPrice * ((100 - product.salePercentage) / 100) | currency:\\'\\' }}</span></h5></md-card-content><md-card-actions layout=\\\"row\\\" layout-align=\\\"center center\\\"><ngcart-addtocart id=\\\"{{ product.variantId }}\\\" name=\\\"{{ product.title }}\\\" price=\\\"{{ product.variantPrice * ((100 - product.salePercentage) / 100) }}\\\" quantity=\\\"1\\\" quantity-max=\\\"10\\\" data=\\\"{imagePath:product.coverImage,product_id:product.id,weight:product.variantWeight,selectedVariant:product.variantName,stock:product.variantQuantity}\\\">Agregar</ngcart-addtocart></md-card-actions></md-card></div></div></div>\");\n$templateCache.put(\"app/contact/contact.view.html\",\"<div class=\\\"container max-top\\\"><div style=\\\"background-color: white\\\" class=\\\"row row-c\\\"><div class=\\\"col-md-6\\\"><h2 class=\\\"upper-text min-top\\\">contact us</h2><h4 class=\\\"sub\\\">PREFER TO CALL?</h4><p><i class=\\\"fa fa-mobile fa-2x\\\" aria-hidden=\\\"true\\\"></i> Phone:</p><p>+ (506) 6198-6333</p><strong><p style=\\\"color:#666666\\\">Phone Support</p></strong><p>Monday to Friday 11 am  7 pm (CST)</p><p>Saturdays 11 am  5 pm (CST)</p><md-divider class=\\\"max-top\\\"></md-divider><h4 class=\\\"max-top sub\\\">PREFER TO CHAT?</h4><p><i class=\\\"fa fa-whatsapp fa-2x\\\" aria-hidden=\\\"true\\\"></i> Whatsapp:</p><p>+ (506) 6198-6333</p><strong><p style=\\\"color:#666666\\\">Chat Support</p></strong><p>Monday to Friday 9 am  10pm (CST)</p><p>Saturdays 9 am  10pm (CST)</p><p>Sundays 9 am  10pm (CST)</p><md-divider class=\\\"max-top\\\"></md-divider><h4 class=\\\"max-top sub\\\">CLOSET MARACAO</h4><p>Frente al Parqueo trasero de Rostipollos de Plaza del Sol, Curridabat, San Jos, Costa Rica.</p><p>+ (506) 6198-6333</p><p>Store Hours:</p><p>Tuesday to Friday 11 AM  7 PM</p><p>Saturdays 11 AM  5 PM</p><br><p><i class=\\\"fa fa-envelope-o fa-2x\\\" aria-hidden=\\\"true\\\"></i> E-mail:</p><p>info@maracao.com</p></div><div class=\\\"col-md-6\\\"></div></div></div>\");\n$templateCache.put(\"app/cremacion/cremacion.view.html\",\"<div class=\\\"container more min-top\\\"><div layout=\\\"row\\\" layout-align=\\\"center center\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><img src=\\\"assets/images/cremacion.png\\\" class=\\\"img-responsive text-center center-block\\\"><h2>Cremacin de mascotas</h2><p style=\\\"color:#666666\\\" class=\\\"text-justify description\\\">En Golden Pet creemos que nuestras mascotas son parte integral de la familia. Es por esto que entendemos la necesidad y el sentimiento que tienen las personas cuando la mascota de la casa fallece.</p><p style=\\\"color:#666666\\\" class=\\\"text-justify description\\\">Ponemos a disposicin el servicio de cremacin de mascotas para todas las familias en Costa Rica, el cual se realiza con un horno crematorio de tecnologa avanzada para no afectar el medio ambiente. El proceso cuenta con el aval de SENASA y con veterinario regente.</p><h3>Incluye</h3><p style=\\\"color:#666666\\\" class=\\\"text-justify description\\\">- Proceso de cremacin<br>- Bolsita para recuperacin de cenizas</p><h3>Precios</h3><p style=\\\"color:#666666\\\" class=\\\"text-justify description\\\">- De 0 a 15 kg: 70.000.00<br>- De 15.1 a 77 kg: 85.000.00</p><h3>Adquisiciones adicionales</h3><p style=\\\"color:#666666\\\" class=\\\"text-justify description\\\">- Servicio de transporte<br>- Urna de madera</p><br><p style=\\\"color:#666666\\\" class=\\\"text-justify description\\\">Contctenos a <a href=\\\"mailTo:info@golden-pet.com\\\" target=\\\"_blank\\\">info@golden-pet.com</a> para asesorarle de la mejor manera posible en este momento de dolor.</p><br></div></div></div></div>\");\n$templateCache.put(\"app/discounts/discounts.view.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"row products-header\\\"><div class=\\\"col-md-6 col-md-offset-3\\\"><h2 class=\\\"text-center toop\\\" ng-style=\\\"vm.styles.titles\\\">Descuentos</h2><div class=\\\"form-group\\\" layout=\\\"row\\\"><md-input-container><label>Categoras</label><md-select ng-model=\\\"selectedCategory\\\"><md-option ng-value=\\\"\\\"><em>Todas</em></md-option><md-option ng-repeat=\\\"category in categories\\\" ng-value=\\\"category.title\\\" ng-if=\\\"category.title!=\\'\\'\\\">{{ category.title }}</md-option></md-select></md-input-container><md-input-container flex-gt-sm=\\\"\\\"><label><md-icon><i class=\\\"material-icons icon-color\\\">search</i></md-icon>Buscar</label> <input ng-model=\\\"criteria\\\"></md-input-container></div></div></div></div><div class=\\\"container-fluid\\\"><br><div layout=\\\"row\\\" layout-align=\\\"center center\\\"><div ng-show=\\\"vm.loader\\\" class=\\\"loader\\\"><svg class=\\\"circular\\\" viewbox=\\\"25 25 50 50\\\"><circle class=\\\"path\\\" cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"10\\\" fill=\\\"none\\\" stroke-width=\\\"2\\\" stroke-miterlimit=\\\"10\\\"></circle></svg></div></div><div class=\\\"row\\\" ng-if=\\\"vm.companyId==240\\\"><div class=\\\"center-block text-center\\\"><md-button class=\\\"md-raised md-default\\\" ng-click=\\\"vm.setSizeFilter(\\'\\')\\\">Todas</md-button><md-button class=\\\"md-raised md-primary custom\\\" ng-if=\\\"key==\\'X-Small\\' || key==\\'Small\\' || key==\\'Medium\\' || key==\\'Large\\' || key==\\'X-Large\\'\\\" ng-repeat=\\\"(key, value) in catalog | groupBy: \\'variant_name\\'\\\" ng-click=\\\"vm.setSizeFilter(key)\\\">{{ key }}</md-button></div></div><div class=\\\"row\\\" ng-if=\\\"vm.companyId==268\\\"><div class=\\\"center-block text-center\\\"><md-button class=\\\"md-raised md-default\\\" ng-click=\\\"vm.setSizeFilter(\\'\\')\\\">Todas</md-button><md-button class=\\\"md-raised md-primary custom\\\" ng-if=\\\"key!=\\'default\\'\\\" ng-repeat=\\\"(key, value) in catalog | groupBy: \\'variant_name\\'\\\" ng-click=\\\"vm.setSizeFilter(key)\\\">{{ key }}</md-button></div></div><div class=\\\"row\\\" infinite-scroll=\\\"vm.addMoreItems()\\\" infinite-scroll-distance=\\\"1\\\"><div ng-repeat=\\\"product in catalog | filter:selectedCategory | filter:criteria | limitTo:vm.itemsDisplayed\\\" class=\\\"col-md-3 col-sm-6 no-padding\\\"><md-card class=\\\"card-h center-block\\\"><div ui-sref=\\\"product({ product_id: product.id })\\\" style=\\\"cursor:pointer;background:url(https://cms.blumewebsites.com/{{product.cover_image}}) no-repeat center; background-size:contain;\\\" class=\\\"md-card-image img-card\\\" alt=\\\"{{ ::product.title}}\\\"><span ng-if=\\\"product.sale_percentage > 0\\\"><div style=\\\"position:absolute;top:40px;right:52px;z-index:1\\\"><strong style=\\\"color:white\\\">- {{product.sale_percentage}}%</strong></div><img style=\\\"position:absolute;top:15px;right:30px;\\\" src=\\\"assets/images/discount-tag.png\\\"></span></div><md-card-title class=\\\"less-p\\\"><md-card-title-text><h4 class=\\\"text-center less-margin\\\">{{ ::product.title }}</h4></md-card-title-text></md-card-title><md-card-content class=\\\"less-p\\\"><h5 class=\\\"text-center gray no-margin\\\" ng-if=\\\"vm.currency == \\'USD\\'\\\"><span ng-if=\\\"product.sale_percentage == 0\\\">{{ ::product.variant_price | currency }}</span> <span ng-if=\\\"product.sale_percentage > 0\\\"><small style=\\\"color:black\\\"><strike>{{ ::product.variant_price | currency }}</strike></small><br>{{ ::product.variant_price * ((100 - product.sale_percentage) / 100) | currency }}</span></h5><h5 class=\\\"text-center gray no-margin\\\" ng-if=\\\"vm.currency == \\'CRC\\'\\\"><span ng-if=\\\"product.sale_percentage == 0\\\">{{ ::product.variant_price | currency:\\'\\' }}</span> <span ng-if=\\\"product.sale_percentage > 0\\\"><small style=\\\"color:black\\\"><strike>{{ ::product.variant_price | currency:\\'\\' }}</strike></small><br>{{ ::product.variant_price * ((100 - product.sale_percentage) / 100) | currency:\\'\\' }}</span></h5></md-card-content><md-card-actions layout=\\\"row\\\" layout-align=\\\"center center\\\"><ngcart-addtocart id=\\\"{{ product.variant_id }}\\\" name=\\\"{{ product.title }}\\\" price=\\\"{{ product.variant_price * ((100 - product.sale_percentage) / 100) }}\\\" quantity=\\\"1\\\" quantity-max=\\\"10\\\" data=\\\"{imagePath:product.cover_image,product_id:product.id,weight:product.variant_weight,selectedVariant:product.variant_name,stock:product.variant_quantity}\\\">Agregar</ngcart-addtocart></md-card-actions></md-card></div></div></div>\");\n$templateCache.put(\"app/faq/faq.view.html\",\"<div class=\\\"container\\\"><div class=\\\"row max-top\\\" style=\\\"background-color:white\\\"><div class=\\\"col-md-12\\\"><h1>Preguntas Frecuentes</h1></div></div></div><div class=\\\"container\\\"><div class=\\\"row max-top\\\"><div class=\\\"col-md-12\\\"><accordion close-others=\\\"oneAtATime\\\"><accordion-group is-open=\\\"one\\\"><accordion-heading class=\\\"faq-box\\\">Cunto cuesta el envo? <i class=\\\"pull-right glyphicon\\\" ng-class=\\\"{\\'glyphicon glyphicon-minus\\': one, \\'glyphicon glyphicon-plus\\': !one}\\\"></i></accordion-heading>Esto depende del producto que ordenaste, el peso y donde lo estaremos enviando.</accordion-group><accordion-group is-open=\\\"two\\\"><accordion-heading>Cunto dura una orden en llegar?<i class=\\\"pull-right glyphicon\\\" ng-class=\\\"{\\'glyphicon glyphicon-minus\\': two, \\'glyphicon glyphicon-plus\\': !two}\\\"></i></accordion-heading>Esto depende del producto ordenado. La mayoria de los productos duran 1-3 das.</accordion-group><accordion-group is-open=\\\"three\\\"><accordion-heading>Ofrecen nmero de rastreo?<i class=\\\"pull-right glyphicon\\\" ng-class=\\\"{\\'glyphicon glyphicon-minus\\': three, \\'glyphicon glyphicon-plus\\': !three}\\\"></i></accordion-heading>Si, al realizar una compra recibir un nmero de rastreo que puede consultar <a href=\\\"http://madebyblume.com/#/deliveries\\\" target=\\\"_blank\\\">aqu</a>.</accordion-group><accordion-group is-open=\\\"four\\\"><accordion-heading>Porqu no he recibido la confirmacin de mi orden? <i class=\\\"pull-right glyphicon\\\" ng-class=\\\"{\\'glyphicon glyphicon-minus\\': four, \\'glyphicon glyphicon-plus\\': !four}\\\"></i></accordion-heading>La mayora de las veces esto sucede porque nuestros clientes accidentalmente colocan una direccin electrnica incorrecta. Durante el proceso, enviamos 3-4 correos electrnicos, incluyendo el de confirmacin de orden, el de orden procesada y el de envo.</accordion-group></accordion></div></div></div>\");\n$templateCache.put(\"app/locator/locator.view.html\",\"<div class=\\\"container-fluid\\\" style=\\\"height:65vh;\\\"><div class=\\\"row\\\"><div class=\\\"map\\\"><ng-map scrollwheel=\\\"false\\\" style=\\\"height:65vh;\\\" default-style=\\\"false\\\" center=\\\"{{vm.center}}\\\" zoom=\\\"12\\\"><div ng-repeat=\\\"location in vm.store_locations\\\"><marker draggable=\\\"false\\\" id=\\\"custom-marker-{{$index}}\\\" title=\\\"{{location.title}}\\\" on-click=\\\"vm.showInfo(event, location)\\\" position=\\\"{{location.coordinates}}\\\"></marker><info-window id=\\\"foo\\\" on-mouseover=\\\"vm.mouseover()\\\"><div ng-non-bindable=\\\"\\\"><strong>{{vm.selected_store.title}}</strong><br><small ng-if=\\\"vm.selected_store.phone !=\\'\\'\\\"><i class=\\\"fa fa-phone\\\"></i> {{vm.selected_store.phone}}</small><br><small ng-if=\\\"vm.selected_store.schedule !=\\'\\'\\\"><i class=\\\"fa fa-calendar\\\"></i> {{vm.selected_store.schedule}}</small></div></info-window></div></ng-map></div></div></div><br><div class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-md-3 col-sm-6\\\" ng-repeat=\\\"location in vm.store_locations\\\"><a href=\\\"\\\" ng-click=\\\"vm.centerMap(location)\\\"><h3 ng-style=\\\"vm.styles.titles\\\">{{location.title}}</h3></a> <small ng-if=\\\"vm.selected_store.phone !=\\'\\'\\\"><i class=\\\"fa fa-phone\\\"></i> {{location.phone}}</small><br><small ng-if=\\\"vm.selected_store.schedule !=\\'\\'\\\"><i class=\\\"fa fa-calendar\\\"></i> {{location.schedule}}</small></div></div></div>\");\n$templateCache.put(\"app/main/main.html\",\"<carousel interval=\\\"5000\\\" pause=\\\"false\\\"><slide ng-repeat=\\\"photo in vm.home.sliderPhotos\\\"><img class=\\\"img-responsive main-slider\\\" ng-src=\\\"https://cms.blumewebsites.com/{{vm.companyName}}/{{photo.relativeUrl}}\\\"></slide></carousel><div class=\\\"container-fluid\\\"><div layout=\\\"row\\\" layout-align=\\\"center center\\\"><div ng-show=\\\"vm.loader\\\" class=\\\"loader\\\"><svg class=\\\"circular\\\" viewbox=\\\"25 25 50 50\\\"><circle class=\\\"path\\\" cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"10\\\" fill=\\\"none\\\" stroke-width=\\\"2\\\" stroke-miterlimit=\\\"10\\\"></circle></svg></div></div><div class=\\\"row min-top\\\"><br><h2 class=\\\"text-center\\\" ng-style=\\\"vm.styles.titles\\\" ng-if=\\\"vm.catalog.length > 0\\\">Productos Destacados</h2><br><div class=\\\"col-md-3 col-sm-6 no-padding\\\" ng-repeat=\\\"product in vm.featuredProducts\\\"><md-card class=\\\"center-block card-h\\\"><div ui-sref=\\\"product({ product_id: product.id })\\\" style=\\\"cursor:pointer;background:url(https://cms.blumewebsites.com/{{ ::product.coverImage}}) no-repeat center; background-size:contain;\\\" class=\\\"md-card-image img-card\\\" alt=\\\"{{ ::product.title}}\\\"><span ng-if=\\\"product.salePercentage > 0\\\"><div style=\\\"position:absolute;top:40px;right:52px;z-index:1\\\"><strong style=\\\"color:white\\\">- {{product.salePercentage}}%</strong></div><img style=\\\"position:absolute;top:15px;right:30px;\\\" src=\\\"assets/images/discount-tag.png\\\"></span> <span ng-if=\\\"product.variantQuantity == 0\\\"><img ng-if=\\\"product.variantName == \\'default\\'\\\" style=\\\"position:absolute;top:20%;left:15%;\\\" src=\\\"assets/images/sold-out.png\\\"></span></div><md-card-title class=\\\"less-p\\\"><md-card-title-text><h4 class=\\\"text-center less-margin\\\">{{ ::product.title}}</h4></md-card-title-text></md-card-title><md-card-content class=\\\"less-p\\\"><h5 class=\\\"text-center gray no-margin\\\" ng-if=\\\"vm.currency == \\'USD\\'\\\"><span ng-if=\\\"product.salePercentage == 0\\\">{{ ::product.variantPrice | currency }}</span> <span ng-if=\\\"product.salePercentage > 0\\\"><small style=\\\"color:black\\\"><strike>{{ ::product.variantPrice | currency }}</strike></small><br>{{ ::product.variantPrice * ((100 - product.salePercentage) / 100) | currency }}</span></h5><h5 class=\\\"text-center gray no-margin\\\" ng-if=\\\"vm.currency == \\'CRC\\'\\\"><span ng-if=\\\"product.salePercentage == 0\\\">{{ ::product.variantPrice | currency:\\'\\' }}</span> <span ng-if=\\\"product.salePercentage > 0\\\"><small style=\\\"color:black\\\"><strike>{{ ::product.variantPrice | currency:\\'\\' }}</strike></small><br>{{ ::product.variantPrice * ((100 - product.salePercentage) / 100) | currency:\\'\\' }}</span></h5></md-card-content><md-card-actions layout=\\\"row\\\" layout-align=\\\"center center\\\"><ngcart-addtocart id=\\\"{{ product.variantId }}\\\" name=\\\"{{ product.title }}\\\" price=\\\"{{ product.variantPrice * ((100 - product.salePercentage) / 100) }}\\\" quantity=\\\"1\\\" quantity-max=\\\"10\\\" data=\\\"{imagePath:product.coverImage,product_id:product.id,weight:product.variantWeight,selectedVariant:product.variantName,stock:product.variantQuantity}\\\"><i class=\\\"glyphicon glyphicon-shopping-cart\\\"></i> Agregar</ngcart-addtocart></md-card-actions></md-card></div></div><div class=\\\"row content-margin\\\" ng-if=\\\"vm.instagram.mode == \\'half\\'\\\"><div class=\\\"col-sm-12 text-center ct-u-padding-top-25\\\"><div class=\\\"col-md-6\\\" ng-if=\\\"vm.home.bodyDescription != \\'\\'\\\"><br><h2 ng-style=\\\"vm.styles.titles\\\">{{vm.home.bodyTitle}}</h2><br><p style=\\\"line-height:2em;\\\">{{vm.home.bodyDescription}}</p><br><p><md-button class=\\\"md-raised md-primary custom\\\" ui-sref=\\\"products\\\">&nbsp;Ver todos los productos&nbsp;</md-button></p></div><div class=\\\"col-md-6\\\" ng-if=\\\"vm.home.hasInstagram\\\"><script src=\\\"//lightwidget.com/widgets/lightwidget.js\\\"></script><iframe ng-src=\\\"{{vm.widgetApprovedUrl}}\\\" id=\\\"lightwidget_6a4dc78dfa\\\" name=\\\"lightwidget_6a4dc78dfa\\\" scrolling=\\\"no\\\" allowtransparency=\\\"true\\\" class=\\\"lightwidget-widget\\\" style=\\\"width: 100%; border: 0; overflow: hidden;\\\"></iframe><a href=\\\"https://www.instagram.com/{{vm.instagram.account}}\\\" style=\\\"text-decoration:none;\\\" class=\\\"special-font-color\\\" target=\\\"_blank\\\"><h3><img src=\\\"assets/images/instagram.png\\\" style=\\\"max-width:35px\\\"> Sguenos en Instagram</h3></a></div><div class=\\\"col-md-6\\\" ng-if=\\\"!vm.home.hasInstagram\\\"><p style=\\\"line-height:2em;\\\">{{vm.home.secondaryBodyDescription}}</p><br></div></div></div><div class=\\\"row content-margin\\\" ng-if=\\\"vm.instagram.mode == \\'full\\'\\\"><div class=\\\"col-sm-12 text-center ct-u-padding-top-25\\\"><script src=\\\"//lightwidget.com/widgets/lightwidget.js\\\"></script><iframe ng-src=\\\"{{vm.widgetApprovedUrl}}\\\" scrolling=\\\"no\\\" allowtransparency=\\\"true\\\" class=\\\"lightwidget-widget\\\" style=\\\"width: 100%; border: 0; overflow: hidden;\\\"></iframe><a href=\\\"https://www.instagram.com/{{vm.instagram.account}}\\\" style=\\\"text-decoration:none;\\\" target=\\\"_blank\\\"><h3><img src=\\\"assets/images/instagram.png\\\" style=\\\"max-width:35px\\\"> Sguenos en Instagram</h3></a></div></div></div>\");\n$templateCache.put(\"app/ngCart/addtocart.html\",\"<div ng-hide=\\\"attrs.id\\\"><a class=\\\"btn btn-custom\\\" ng-disabled=\\\"true\\\" ng-transclude=\\\"\\\"></a></div><div class=\\\"row\\\" ng-show=\\\"attrs.id\\\"><div ng-if=\\\"!inCart()\\\"><div class=\\\"form-inline\\\" ng-if=\\\"data.stock != 0 && data.selectedVariant == \\'default\\'\\\"><md-button analytics-on=\\\"click\\\" analytics-event=\\\"AddToCart\\\" class=\\\"md-raised md-primary custom\\\" ng-click=\\\"ngCart.addItem(id, name, price, q, data)\\\">Agregar</md-button>&nbsp;<md-input-container><md-select ng-model=\\\"q\\\" aria-label=\\\"variant options\\\"><md-option ng-repeat=\\\"v in qtyOpt\\\" value=\\\"{{v}}\\\">{{v}}</md-option></md-select></md-input-container></div><div class=\\\"form-inline\\\" ng-if=\\\"data.selectedVariant != \\'default\\'\\\"><md-button analytics-on=\\\"click\\\" analytics-event=\\\"ViewContent\\\" ui-sref=\\\"product({ product_id: data.product_id })\\\" class=\\\"md-raised md-primary custom text-center\\\" style=\\\"margin: 10px 4px\\\">Ver opciones disponibles</md-button></div><div class=\\\"form-inline\\\" ng-if=\\\"data.stock == 0 && data.selectedVariant == \\'default\\'\\\"><md-button ng-disabled=\\\"true\\\">Agregar</md-button>&nbsp;<md-input-container><md-select ng-disabled=\\\"true\\\" ng-model=\\\"q\\\" aria-label=\\\"variant options\\\"><md-option ng-repeat=\\\"v in qtyOpt\\\" value=\\\"{{v}}\\\">{{v}}</md-option></md-select></md-input-container></div></div><div ng-if=\\\"inCart()\\\"><div class=\\\"form-inline\\\" style=\\\"margin-top:17px;margin-bottom:17px\\\"><md-button class=\\\"md-raised md-warn custom\\\" ng-click=\\\"ngCart.removeItemById(id)\\\">Eliminar</md-button>&nbsp;<md-button analytics-on=\\\"click\\\" analytics-event=\\\"InitiateCheckout\\\" class=\\\"md-raised\\\" ui-sref=\\\"checkout.summary\\\">Checkout</md-button></div></div></div>\");\n$templateCache.put(\"app/ngCart/cart.html\",\"<div class=\\\"alert alert-warning\\\" role=\\\"alert\\\" ng-show=\\\"ngCart.getTotalItems() === 0\\\">Your cart is empty</div><div class=\\\"table-responsive col-lg-12\\\" ng-show=\\\"ngCart.getTotalItems() > 0\\\"><table class=\\\"table table-striped ngCart cart\\\"><thead><tr><th></th><th></th><th>Quantity</th><th>Amount</th><th>Total</th></tr></thead><tfoot><tr ng-show=\\\"ngCart.getTax()\\\"><td></td><td></td><td></td><td>Tax ({{ ngCart.getTaxRate() }}%):</td><td>{{ ngCart.getTax() | currency }}</td></tr><tr ng-show=\\\"ngCart.getShipping()\\\"><td></td><td></td><td></td><td>Shipping:</td><td>{{ ngCart.getShipping() | currency }}</td></tr><tr><td></td><td></td><td></td><td>Total:</td><td>{{ ngCart.totalCost() | currency }}</td></tr></tfoot><tbody><tr ng-repeat=\\\"item in ngCart.getCart().items track by $index\\\"><td><span ng-click=\\\"ngCart.removeItemById(item.getId())\\\" class=\\\"glyphicon glyphicon-remove\\\"></span></td><td>{{ item.getName() }}</td><td><span class=\\\"glyphicon glyphicon-minus\\\" ng-class=\\\"{\\'disabled\\':item.getQuantity()==1}\\\" ng-click=\\\"item.setQuantity(-1, true)\\\"></span>&nbsp;&nbsp; {{ item.getQuantity() | number }}&nbsp;&nbsp; <span class=\\\"glyphicon glyphicon-plus\\\" ng-click=\\\"item.setQuantity(1, true)\\\"></span></td><td>{{ item.getPrice() | currency}}</td><td>{{ item.getTotal() | currency }}</td></tr></tbody></table></div><style>\\n    .ngCart.cart span[ng-click] {\\n        cursor: pointer;\\n    }\\n    .ngCart.cart .glyphicon.disabled {\\n        color:#aaa;\\n    }\\n</style>\");\n$templateCache.put(\"app/ngCart/checkout.html\",\"<div ng-if=\\\"service==\\'http\\' || service == \\'log\\'\\\"><md-button ng-click=\\\"checkout()\\\" ng-disabled=\\\"!ngCart.getTotalItems()\\\">Checkout</md-button>-></div><div ng-if=\\\"service==\\'paypal\\'\\\"><form action=\\\"https://www.paypal.com/cgi-bin/webscr\\\" method=\\\"post\\\" target=\\\"_top\\\" ng-show=\\\"ngCart.getTotalItems()\\\"><input type=\\\"hidden\\\" name=\\\"cmd\\\" value=\\\"_xclick\\\"> <input type=\\\"hidden\\\" name=\\\"business\\\" value=\\\"{{ settings.paypal.business }}\\\"> <input type=\\\"hidden\\\" name=\\\"lc\\\" value=\\\"CA\\\"> <input type=\\\"hidden\\\" name=\\\"item_name\\\" value=\\\"{{ settings.paypal.item_name }}\\\"> <input type=\\\"hidden\\\" name=\\\"item_number\\\" value=\\\"{{ settings.paypal.item_number }}\\\"> <input type=\\\"hidden\\\" name=\\\"amount\\\" value=\\\"{{ ngCart.getSubTotal()}}\\\"> <input type=\\\"hidden\\\" name=\\\"currency_code\\\" value=\\\"{{ settings.paypal.currency_code }}\\\"> <input type=\\\"hidden\\\" name=\\\"button_subtype\\\" value=\\\"services\\\"> <input type=\\\"hidden\\\" name=\\\"no_note\\\" value=\\\"{{ settings.paypal.no_note }}\\\"> <input type=\\\"hidden\\\" name=\\\"tax_rate\\\" value=\\\"{{ ngCart.getTaxRate()}}\\\"> <input type=\\\"hidden\\\" name=\\\"shipping\\\" value=\\\"{{ ngCart.getShipping() }}\\\"> <input type=\\\"hidden\\\" name=\\\"bn\\\" value=\\\"PP-BuyNowBF:btn_buynowCC_LG.gif:NonHostedGuest\\\"> <input type=\\\"image\\\" src=\\\"https://www.paypalobjects.com/en_US/i/btn/btn_buynowCC_LG.gif\\\" border=\\\"0\\\" name=\\\"submit\\\" alt=\\\"PayPal - The safer, easier way to pay online!\\\"> <img alt=\\\"\\\" border=\\\"0\\\" src=\\\"https://www.paypalobjects.com/en_US/i/scr/pixel.gif\\\" width=\\\"1\\\" height=\\\"1\\\"></form></div>\");\n$templateCache.put(\"app/ngCart/detail.html\",\"<div ng-hide=\\\"attrs.id\\\"><a class=\\\"btn btn-custom\\\" ng-disabled=\\\"true\\\" ng-transclude=\\\"\\\"></a></div><div class=\\\"row\\\" ng-show=\\\"attrs.id\\\"><div ng-if=\\\"!inCart()\\\"><div class=\\\"form-inline\\\" ng-if=\\\"data.stock != 0\\\"><md-button analytics-on=\\\"click\\\" analytics-event=\\\"AddToCart\\\" class=\\\"md-raised md-primary custom\\\" ng-click=\\\"ngCart.addItem(id, name, price, q, data)\\\">Agregar</md-button>&nbsp;<md-input-container><md-select ng-model=\\\"q\\\" aria-label=\\\"variant options\\\"><md-option ng-repeat=\\\"v in qtyOpt\\\" value=\\\"{{v}}\\\">{{v}}</md-option></md-select></md-input-container></div><div class=\\\"form-inline\\\" ng-if=\\\"data.stock == 0\\\"><md-button ng-disabled=\\\"true\\\">Agregar</md-button>&nbsp;<md-input-container><md-select ng-disabled=\\\"true\\\" ng-model=\\\"q\\\" aria-label=\\\"variant options\\\"><md-option ng-repeat=\\\"v in qtyOpt\\\" value=\\\"{{v}}\\\">{{v}}</md-option></md-select></md-input-container></div></div><div ng-if=\\\"inCart()\\\"><div class=\\\"form-inline\\\" style=\\\"margin-top:17px;margin-bottom:17px\\\"><md-button class=\\\"md-raised md-warn custom\\\" ng-click=\\\"ngCart.removeItemById(id)\\\">Eliminar</md-button>&nbsp;<md-button analytics-on=\\\"click\\\" analytics-event=\\\"InitiateCheckout\\\" class=\\\"md-raised\\\" ui-sref=\\\"checkout.summary\\\">Checkout</md-button></div></div></div>\");\n$templateCache.put(\"app/ngCart/summary.html\",\"<md-list><md-list-item ng-repeat=\\\"item in cart.$cart.items\\\" class=\\\"container noright\\\"><img style=\\\"cursor:pointer\\\" alt=\\\"{{ person.name }}\\\" ng-src=\\\"https://cms.blumewebsites.com/{{ item._data.imagePath }}\\\" class=\\\"md-avatar hidden-xs\\\" ui-sref=\\\"product({ product_id: item._data.product_id })\\\"><div class=\\\"col-xs-4\\\"><p style=\\\"cursor:pointer\\\" class=\\\"product-name\\\" ui-sref=\\\"product({ product_id: item._data.product_id })\\\">{{ item._name }} <small ng-if=\\\"item._data.selectedVariant != \\'default\\'\\\">&nbsp;{{ item._data.selectedVariant }} &nbsp;</small> <small ng-if=\\\"item._quantity > item._data.stock\\\"><span class=\\\"out-of-stock\\\">No hay suficientes</span></small></p></div><div class=\\\"form-inline\\\"><div class=\\\"form-group\\\"><h5><span ng-if=\\\"vm.store.currency == \\'USD\\'\\\" class=\\\"text-muted\\\">{{ item._price | currency }} x</span> <span ng-if=\\\"vm.store.currency == \\'CRC\\'\\\" class=\\\"text-muted\\\">{{ item._price | currency:\\'\\' }} x</span> <a class=\\\"incr-btn fa fa-angle-left\\\" ng-class=\\\"{\\'inactive\\':item.getQuantity()==1}\\\" ng-click=\\\"item.setQuantity(-1, true)\\\" style=\\\"cursor: pointer\\\"></a> <span class=\\\"quantity\\\">{{ item.getQuantity() | number }}</span> <a class=\\\"incr-btn fa fa-angle-right\\\" ng-click=\\\"item.setQuantity(1, true)\\\" style=\\\"cursor: pointer\\\"></a></h5></div></div><md-button class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" ng-click=\\\"cart.removeItemById(item._id)\\\"><md-icon><i class=\\\"material-icons\\\">delete</i></md-icon></md-button></md-list-item></md-list>\");\n$templateCache.put(\"app/place-order/place-order-view.html\",\"<md-card class=\\\"card-simple top-shadow card-decoration\\\" md-theme=\\\"custom\\\"><md-card-title><md-card-title-text><span class=\\\"upper-text\\\">3. Mtodo de Pago<div class=\\\"pull-right\\\" style=\\\"margin-bottom:5px\\\"><div ng-if=\\\"vm.store.payment_options.twocheckout || vm.store.payment_options.bacsanjose\\\"><img src=\\\"assets/images/visa.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/mastercard.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/discover.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/amex.svg\\\" class=\\\"card-logo\\\"></div><div ng-if=\\\"vm.store.payment_options.fttechnologies || vm.store.payment_options.banconacional\\\"><img src=\\\"assets/images/bancoNacional.png\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/correosDeCostaRica.png\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/visa.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/mastercard.svg\\\" class=\\\"card-logo\\\"></div></div></span><md-divider></md-divider></md-card-title-text></md-card-title><div ng-show=\\\"vm.store.payment_options.twocheckout || vm.store.payment_options.fttechnologies\\\" style=\\\"background-color:#ccc;padding-top:10px;padding-bottom:10px;\\\" ng-click=\\\"vm.selectCardAsPaymentMethod()\\\"><span style=\\\"margin-left:15px;\\\">Tarjeta de crdito</span></div><md-card-content style=\\\"background-color:#efefef;\\\" ng-show=\\\"vm.store.payment_options.twocheckout && vm.selected_method==\\'TwoCheckout\\' || vm.store.payment_options.fttechnologies && vm.selected_method ==\\'FtTechnologies\\'\\\"><div class=\\\"col-md-3\\\"></div><div class=\\\"col-md-6\\\"><div style=\\\"margin-top:2.5em\\\"><div class=\\\"form-group c-c\\\"><md-input-container class=\\\"md-block\\\"><label>Nmero de tarjeta</label> <input style=\\\"margin-top:10px\\\" type=\\\"text\\\" name=\\\"CardNumber\\\" data-ng-model=\\\"vm.card.number\\\"></md-input-container></div><div class=\\\"form-group c-c\\\"><md-input-container class=\\\"md-block\\\"><md-select ng-model=\\\"vm.card.exp_month\\\"><label>Mes</label><md-option ng-repeat=\\\"month in vm.months\\\" ng-value=\\\"month\\\">{{month}}</md-option></md-select></md-input-container><br></div><div class=\\\"form-group c-c\\\"><md-input-container class=\\\"md-block\\\"><md-select ng-model=\\\"vm.card.exp_year\\\"><label>Ao</label><md-option ng-repeat=\\\"year in vm.years\\\" ng-value=\\\"year\\\">{{year}}</md-option></md-select></md-input-container><br></div><div class=\\\"form-group c-c\\\"><md-input-container class=\\\"md-block\\\"><label>CVC</label> <input style=\\\"margin-top:10px\\\" type=\\\"text\\\" name=\\\"CardCvc\\\" data-ng-model=\\\"vm.card.cvc\\\"></md-input-container></div></div><div class=\\\"center-block text-center\\\"><md-button class=\\\"md-raised\\\" ng-disabled=\\\"vm.discount_code.valid\\\" ng-click=\\\"vm.showPrompt($event)\\\"><span ng-show=\\\"!vm.discount_code.valid\\\">Cupn</span> <span ng-show=\\\"vm.discount_code.valid\\\">Gracias!</span></md-button><md-button ng-if=\\\"vm.store.payment_options.twocheckout && vm.selected_method==\\'TwoCheckout\\' || vm.store.payment_options.fttechnologies && vm.selected_method ==\\'FtTechnologies\\'\\\" class=\\\"md-raised md-primary custom\\\" ng-click=\\\"vm.setPaymentMethod()\\\" ng-disabled=\\\"vm.temp.loading\\\">Pagar</md-button></div></div><div class=\\\"col-md-3\\\"></div><div ng-show=\\\"vm.temp.loading\\\"><md-progress-linear md-mode=\\\"determinate\\\" value=\\\"{{vm.temp.progress}}\\\"></md-progress-linear><span class=\\\"center-block text-center\\\">Por favor espere mientras procesamos su pago...</span></div><span class=\\\"center-block text-center\\\" ng-show=\\\"vm.temp.error_message != \\'\\'\\\" style=\\\"color:#8B0000\\\">{{vm.temp.error_message}}</span></md-card-content><div ng-show=\\\"vm.store.payment_options.paypal\\\" class=\\\"list-title\\\" ng-click=\\\"vm.selected_method = \\'Paypal\\'\\\"><span style=\\\"margin-left:15px;\\\">PayPal</span></div><md-card-content style=\\\"background-color:#efefef;\\\" ng-show=\\\"vm.store.payment_options.paypal && vm.selected_method==\\'Paypal\\'\\\"><form id=\\\"PaypalPost\\\" name=\\\"PaypalPost\\\" action=\\\"https://www.paypal.com/cgi-bin/webscr\\\" method=\\\"post\\\"><input type=\\\"hidden\\\" name=\\\"business\\\" value=\\\"{{vm.store.paypal_account}}\\\"><input type=\\\"hidden\\\" name=\\\"cmd\\\" value=\\\"_xclick\\\"><input type=\\\"hidden\\\" name=\\\"item_name\\\" value=\\\"{{vm.temp.purchase.order_id}}\\\"> <input type=\\\"hidden\\\" name=\\\"amount\\\" value=\\\"{{cart.totalCost() - vm.discount_code.amount}}\\\"> <input type=\\\"hidden\\\" name=\\\"currency_code\\\" value=\\\"{{vm.store.currency}}\\\"></form><div layout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"md-raised\\\" ng-disabled=\\\"vm.discount_code.valid\\\" ng-click=\\\"vm.showPrompt($event)\\\"><span ng-show=\\\"!vm.discount_code.valid\\\">Cupn</span> <span ng-show=\\\"vm.discount_code.valid\\\">Gracias!</span></md-button><md-button ng-click=\\\"vm.setPaymentMethod()\\\" class=\\\"md-raised md-primary custom\\\">Pagar</md-button></div></md-card-content><div ng-show=\\\"vm.store.payment_options.bacsanjose\\\" class=\\\"list-title\\\" ng-click=\\\"vm.selected_method = \\'BACSanJose\\'\\\"><span style=\\\"margin-left:15px;\\\">Tarjeta de Crdito</span></div><md-card-content style=\\\"background-color:#efefef;\\\" ng-show=\\\"vm.store.payment_options.bacsanjose && vm.selected_method==\\'BACSanJose\\'\\\"><div class=\\\"col-md-3\\\"></div><div class=\\\"col-md-6\\\"><form data-card=\\\"\\\" data-width=\\\"285\\\" data-card-container=\\\"#card-container-2\\\" data-placeholders=\\\"cardPlaceholders\\\" data-options=\\\"vm.card_options_2\\\" id=\\\"CredomaticPost\\\" name=\\\"CredomaticPost\\\" action=\\\"https://credomatic.compassmerchantsolutions.com/api/transact.php\\\" method=\\\"post\\\"><div><div class=\\\"form-group c-c\\\"><md-input-container class=\\\"md-block\\\"><label>Nmero de tarjeta</label> <input style=\\\"margin-top:10px\\\" type=\\\"text\\\" name=\\\"ccnumber\\\" card-number=\\\"\\\" ng-model=\\\"vm.card.number\\\"></md-input-container></div><div class=\\\"form-group c-c\\\"><md-input-container class=\\\"md-block\\\"><md-select ng-model=\\\"vm.card.exp_month\\\"><label>Mes</label><md-option ng-repeat=\\\"month in vm.months\\\" ng-value=\\\"month\\\">{{month}}</md-option></md-select></md-input-container><br></div><div class=\\\"form-group c-c\\\"><md-input-container class=\\\"md-block\\\"><md-select ng-model=\\\"vm.card.exp_year\\\"><label>Ao</label><md-option ng-repeat=\\\"year in vm.years\\\" ng-value=\\\"year\\\">{{year}}</md-option></md-select></md-input-container><br></div><div class=\\\"form-group c-c\\\"><md-input-container class=\\\"md-block\\\"><label>CVC</label> <input style=\\\"margin-top:10px\\\" type=\\\"text\\\" name=\\\"cvv\\\" card-cvc=\\\"\\\" ng-model=\\\"vm.card.cvc\\\"></md-input-container></div></div><input type=\\\"hidden\\\" name=\\\"hash\\\" value=\\\"{{vm.temp.hash}}\\\"> <input type=\\\"hidden\\\" name=\\\"time\\\" value=\\\"{{vm.temp.timestamp}}\\\"> <input type=\\\"hidden\\\" name=\\\"amount\\\" value=\\\"{{vm.total}}\\\"> <input type=\\\"hidden\\\" name=\\\"ccexp\\\" value=\\\"{{vm.card.expiry}}\\\"> <input type=\\\"hidden\\\" name=\\\"type\\\" value=\\\"sale\\\"> <input type=\\\"hidden\\\" name=\\\"orderid\\\" value=\\\"{{vm.temp.purchase.order_id}}\\\"> <input type=\\\"hidden\\\" name=\\\"key_id\\\" value=\\\"{{vm.bac.key_id}}\\\"> <input type=\\\"hidden\\\" name=\\\"processor_id\\\" value=\\\"{{vm.bac.processor_id}}\\\"> <input type=\\\"hidden\\\" name=\\\"address\\\" value=\\\"{{vm.address.state}}\\\"> <input type=\\\"hidden\\\" name=\\\"redirect\\\" value=\\\"{{vm.website_url}}\\\"><div layout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"md-raised\\\" ng-disabled=\\\"vm.discount_code.valid || vm.useTasaCero\\\" ng-click=\\\"vm.showPrompt($event)\\\"><span ng-show=\\\"!vm.discount_code.valid\\\">Cupn</span> <span ng-show=\\\"vm.discount_code.valid\\\">Gracias!</span></md-button><md-button ng-click=\\\"vm.submitBAC()\\\" class=\\\"md-raised md-primary custom\\\"><span ng-if=\\\"!vm.loader\\\">Pagar</span> <span ng-if=\\\"vm.loader\\\"><i class=\\\"fa fa-spinner fa-spin\\\"></i></span></md-button></div></form><div class=\\\"center-block text-center\\\"><span style=\\\"color:darkred\\\">{{vm.error_message}}</span></div></div><div class=\\\"col-md-3\\\"></div></md-card-content><div ng-show=\\\"vm.store.payment_options.bankaccount\\\" class=\\\"list-title\\\" ng-click=\\\"vm.selected_method = \\'BankAccount\\'\\\"><span style=\\\"margin-left:15px;\\\">Transferencia</span></div><md-card-content style=\\\"background-color:#efefef;\\\" ng-show=\\\"vm.store.payment_options.bankaccount && vm.selected_method==\\'BankAccount\\'\\\"><div ng-show=\\\"!vm.temp.purchase.order_url\\\"><div class=\\\"center-block text-center\\\"><md-button class=\\\"md-raised\\\" ng-disabled=\\\"vm.discount_code.valid\\\" ng-click=\\\"vm.showPrompt($event)\\\"><span ng-show=\\\"!vm.discount_code.valid\\\">Cupn</span> <span ng-show=\\\"vm.discount_code.valid\\\">Gracias!</span></md-button></div><md-button class=\\\"md-raised md-primary custom center-block text-center\\\" ng-click=\\\"vm.setPaymentMethod()\\\">Pagar con transferencia</md-button></div><div ng-show=\\\"vm.temp.purchase.order_url\\\" class=\\\"center-block text-center\\\"><h2>Su orden ha sido creada!</h2><p>Para pagar su orden, deposite el monto total de la compra a la siguiente cuenta:<br><br><strong>Banco</strong> {{vm.store.bank_information.bank}}<br><strong>Cuenta</strong> {{vm.store.bank_information.account}}<br><strong>Cuenta Cliente</strong> {{vm.store.bank_information.outside_account}}<br><strong>Nombre</strong> {{vm.store.bank_information.owner}}<br><strong>Cdula</strong> {{vm.store.bank_information.owner_id}}<br><strong>Moneda</strong> {{vm.store.bank_information.currency}}<br></p><p>Una vez que realice el pago, tome una foto del comprobante y adjuntelo a la factura.</p><md-button target=\\\"_blank\\\" href=\\\"http://invoice.madebyblume.com/#/bank-transfer/{{vm.temp.purchase.order_url}}\\\" class=\\\"md-raised md-primary custom\\\">Cargar Comprobante</md-button></div></md-card-content><md-card-actions layout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"pull-left sm-margin-left\\\" ui-sref=\\\"checkout.address\\\" ng-disabled=\\\"vm.temp.loading\\\">Volver</md-button>&nbsp;</md-card-actions></md-card>\");\n$templateCache.put(\"app/product/product.view.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"row products-header\\\"><div class=\\\"col-md-6 col-md-offset-3\\\"></div></div></div><br><div class=\\\"container double-space-top\\\" ng-init=\\\"index=2\\\"><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div><span ng-if=\\\"product.sale_percentage > 0\\\"><div style=\\\"position:absolute;top:40px;right:52px;z-index:2\\\"><strong style=\\\"color:white\\\">- {{product.sale_percentage}}%</strong></div><img style=\\\"position:absolute;top:15px;right:30px;z-index:1\\\" src=\\\"assets/images/discount-tag.png\\\"></span><carousel style=\\\"cursor:pointer\\\"><slide ng-repeat=\\\"image in product.images\\\" active=\\\"image.active\\\"><img class=\\\"img-responsive\\\" ng-src=\\\"https://cms.blumewebsites.com/{{image.relative_url}}\\\" style=\\\"margin:auto;\\\"></slide></carousel></div></div><div class=\\\"col-md-6\\\"><div class=\\\"product-title\\\"><h2>{{ product.title }} <small ng-click=\\\"share(product)\\\" style=\\\"color:#3b5998\\\"><i class=\\\"fa fa-facebook-square\\\"></i></small></h2><span ng-if=\\\"product.sku != null\\\">- {{product.sku}}</span></div><br><div class=\\\"row\\\"><div class=\\\"col-xs-2 col-sm-2 col-md-2\\\" ng-repeat=\\\"image in product.images\\\"><img ng-src=\\\"https://cms.blumewebsites.com/{{image.relative_url}}\\\" style=\\\"width:100%\\\" ng-click=\\\"setActive($index)\\\"></div></div><br><div ta-bind=\\\"\\\" ng-model=\\\"product.long_description\\\"></div><br><div ng-if=\\\"product.options.length > 0\\\"><h4><strong>{{product.options[0].type}}</strong></h4><select class=\\\"form-control options-format\\\" ng-model=\\\"vm.option1\\\" ng-options=\\\"variant as variant for variant in product.options[0].values\\\"></select></div><div ng-if=\\\"product.options.length > 1\\\"><h4><strong>{{product.options[1].type}}</strong></h4><select class=\\\"form-control options-format\\\" ng-model=\\\"vm.option2\\\" ng-options=\\\"variant as variant for variant in product.options[1].values\\\"></select></div><div ng-if=\\\"product.options.length > 2\\\"><h4><strong>{{product.options[2].type}}</strong></h4><select class=\\\"form-control options-format\\\" ng-model=\\\"vm.option3\\\" ng-options=\\\"variant as variant for variant in product.options[2].values\\\"></select></div><br><div ng-if=\\\"product.options.length > 0\\\" ng-repeat=\\\"variant in product.variants | filter:{name: vm.option1+vm.option2+vm.option3} | limitTo:1\\\"><div class=\\\"product-price\\\" ng-if=\\\"currency == \\'USD\\'\\\"><span ng-if=\\\"product.sale_percentage == 0\\\">{{ variant.price | currency }}</span> <span ng-if=\\\"product.sale_percentage > 0\\\"><small style=\\\"color:black\\\"><strike>{{ variant.price | currency }}</strike></small><br>{{ variant.price * ((100 - product.sale_percentage) / 100) | currency }}</span> <span ng-if=\\\"variant.quantity == 0\\\" class=\\\"dgrey\\\"><small>- No hay disponible en este momento</small></span></div><div class=\\\"product-price\\\" ng-if=\\\"currency == \\'CRC\\'\\\"><span ng-if=\\\"product.sale_percentage == 0\\\">{{ variant.price | currency:\\'\\' }}</span> <span ng-if=\\\"product.sale_percentage > 0\\\"><small style=\\\"color:black\\\"><strike>{{ variant.price | currency:\\'\\' }}</strike></small><br>{{ variant.price * ((100 - product.sale_percentage) / 100) | currency:\\'\\' }}</span> <span ng-if=\\\"variant.quantity == 0\\\" class=\\\"dgrey\\\"><small>- No hay disponible en este momento</small></span></div><ngcart-detail ng-show=\\\"variant.quantity != 0\\\" id=\\\"{{ variant.id }}\\\" name=\\\"{{ product.title }}\\\" price=\\\"{{ variant.price * ((100 - product.sale_percentage) / 100) }}\\\" quantity=\\\"1\\\" quantity-max=\\\"10\\\" data=\\\"{imagePath:product.images[0].relative_url,product_id:product.id,weight:variant.weight,selectedVariant:variant.name,stock:variant.quantity}\\\"><i class=\\\"glyphicon glyphicon-shopping-cart\\\"></i> Agregar</ngcart-detail></div><div ng-if=\\\"product.options.length == 0\\\" ng-repeat=\\\"variant in product.variants\\\"><div class=\\\"product-price\\\" ng-if=\\\"currency == \\'USD\\'\\\"><span ng-if=\\\"product.sale_percentage == 0\\\">{{ variant.price | currency }}</span> <span ng-if=\\\"product.sale_percentage > 0\\\"><small style=\\\"color:black\\\"><strike>{{ variant.price | currency }}</strike></small><br>{{ variant.price * ((100 - product.sale_percentage) / 100) | currency }}</span> <span ng-if=\\\"variant.quantity == 0\\\" class=\\\"dgrey\\\"><small>- No hay disponible en este momento</small></span></div><div class=\\\"product-price\\\" ng-if=\\\"currency == \\'CRC\\'\\\"><span ng-if=\\\"product.sale_percentage == 0\\\">{{ variant.price | currency:\\'\\' }}</span> <span ng-if=\\\"product.sale_percentage > 0\\\"><small style=\\\"color:black\\\"><strike>{{ variant.price | currency:\\'\\' }}</strike></small><br>{{ variant.price * ((100 - product.sale_percentage) / 100) | currency:\\'\\' }}</span> <span ng-if=\\\"variant.quantity == 0\\\" class=\\\"dgrey\\\"><small>- No hay disponible en este momento</small></span></div><ngcart-detail ng-show=\\\"variant.quantity != 0\\\" id=\\\"{{ variant.id }}\\\" name=\\\"{{ product.title }}\\\" price=\\\"{{ variant.price * ((100 - product.sale_percentage) / 100) }}\\\" quantity=\\\"1\\\" quantity-max=\\\"10\\\" data=\\\"{imagePath:product.images[0].relative_url,product_id:product.id,weight:variant.weight,selectedVariant:variant.name,stock:variant.quantity}\\\"><i class=\\\"glyphicon glyphicon-shopping-cart\\\"></i> Agregar</ngcart-detail></div></div></div><br></div>\");\n$templateCache.put(\"app/products/products.view.html\",\"<div class=\\\"container-fluid\\\" style=\\\"margin-top:50px;\\\"><div class=\\\"row products-header\\\"><div class=\\\"col-md-6 col-md-offset-3\\\"><div class=\\\"form-group\\\" layout=\\\"row\\\"><md-input-container><label>Categoras</label><md-select ng-model=\\\"selectedCategory\\\" ng-change=\\\"setCategoryFilter()\\\"><md-option ng-value=\\\"\\\"><em>Todas</em></md-option><md-option ng-repeat=\\\"category in categories\\\" ng-value=\\\"category.title\\\" ng-if=\\\"category.title!=\\'\\'\\\">{{ category.title }}</md-option></md-select></md-input-container><md-input-container flex-gt-sm=\\\"\\\"><label><md-icon><i class=\\\"material-icons icon-color\\\">search</i></md-icon>Buscar</label> <input ng-model=\\\"criteria\\\" ng-model-options=\\\"{debounce: 750}\\\"></md-input-container></div></div></div></div><div class=\\\"container-fluid\\\"><br><div layout=\\\"row\\\" layout-align=\\\"center center\\\"><div ng-show=\\\"vm.loader\\\" class=\\\"loader\\\"><svg class=\\\"circular\\\" viewbox=\\\"25 25 50 50\\\"><circle class=\\\"path\\\" cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"10\\\" fill=\\\"none\\\" stroke-width=\\\"2\\\" stroke-miterlimit=\\\"10\\\"></circle></svg></div></div><div class=\\\"row\\\" ng-if=\\\"vm.companyId==240\\\"><div class=\\\"center-block text-center\\\"><md-button class=\\\"md-raised md-default\\\" ng-click=\\\"vm.setSizeFilter(\\'\\')\\\">Todas</md-button><md-button class=\\\"md-raised md-primary custom\\\" ng-if=\\\"key==\\'X-Small\\' || key==\\'Small\\' || key==\\'Medium\\' || key==\\'Large\\' || key==\\'X-Large\\'\\\" ng-repeat=\\\"(key, value) in vm.catalog | groupBy: \\'variantName\\'\\\" ng-click=\\\"vm.setSizeFilter(key)\\\">{{ key }}</md-button></div></div><div class=\\\"row\\\" ng-if=\\\"vm.companyId==268\\\"><div class=\\\"center-block text-center\\\"><md-button class=\\\"md-raised md-default\\\" ng-click=\\\"vm.setSizeFilter(\\'\\')\\\">Todas</md-button><md-button class=\\\"md-raised md-primary custom\\\" ng-if=\\\"key!=\\'default\\'\\\" ng-repeat=\\\"(key, value) in vm.catalog | groupBy: \\'variantName\\'\\\" ng-click=\\\"vm.setSizeFilter(key)\\\">{{ key }}</md-button></div></div><div class=\\\"row\\\" infinite-scroll=\\\"vm.addMoreItems()\\\" infinite-scroll-distance=\\\"1\\\"><div ng-repeat=\\\"product in vm.catalog | filter:selectedCategory | filter:criteria | limitTo:vm.itemsDisplayed\\\" class=\\\"col-md-3 col-sm-6 no-padding\\\"><md-card class=\\\"card-h center-block\\\"><div ui-sref=\\\"product({ product_id: product.id })\\\" style=\\\"cursor:pointer;background:url(https://cms.blumewebsites.com/{{product.coverImage}}) no-repeat center; background-size:contain;\\\" class=\\\"md-card-image img-card\\\" alt=\\\"{{ ::product.title}}\\\"><span ng-if=\\\"product.salePercentage > 0\\\"><div style=\\\"position:absolute;top:40px;right:52px;z-index:1\\\"><strong style=\\\"color:white\\\">- {{product.salePercentage}}%</strong></div><img style=\\\"position:absolute;top:15px;right:30px;\\\" src=\\\"assets/images/discount-tag.png\\\"></span> <span ng-if=\\\"product.variantQuantity == 0\\\"><img ng-if=\\\"product.variantName == \\'default\\'\\\" style=\\\"position:absolute;top:20%;left:15%;\\\" src=\\\"assets/images/sold-out.png\\\"></span></div><md-card-title class=\\\"less-p\\\"><md-card-title-text><h4 class=\\\"text-center less-margin\\\">{{ ::product.title }}</h4></md-card-title-text></md-card-title><md-card-content class=\\\"less-p\\\"><h5 class=\\\"text-center gray no-margin\\\" ng-if=\\\"vm.currency == \\'USD\\'\\\"><span ng-if=\\\"product.salePercentage == 0\\\">{{ ::product.variantPrice | currency }}</span> <span ng-if=\\\"product.salePercentage > 0\\\"><small style=\\\"color:black\\\"><strike>{{ ::product.variantPrice | currency }}</strike></small><br>{{ ::product.variantPrice * ((100 - product.salePercentage) / 100) | currency }}</span></h5><h5 class=\\\"text-center gray no-margin\\\" ng-if=\\\"vm.currency == \\'CRC\\'\\\"><span ng-if=\\\"product.salePercentage == 0\\\">{{ ::product.variantPrice | currency:\\'\\' }}</span> <span ng-if=\\\"product.salePercentage > 0\\\"><small style=\\\"color:black\\\"><strike>{{ ::product.variantPrice | currency:\\'\\' }}</strike></small><br>{{ ::product.variantPrice * ((100 - product.salePercentage) / 100) | currency:\\'\\' }}</span></h5></md-card-content><md-card-actions layout=\\\"row\\\" layout-align=\\\"center center\\\"><ngcart-addtocart id=\\\"{{ product.variantId }}\\\" name=\\\"{{ product.title }}\\\" price=\\\"{{ product.variantPrice * ((100 - product.salePercentage) / 100) }}\\\" quantity=\\\"1\\\" quantity-max=\\\"10\\\" data=\\\"{imagePath:product.coverImage,product_id:product.id,weight:product.variantWeight,selectedVariant:product.variantName,stock:product.variantQuantity}\\\">Agregar</ngcart-addtocart></md-card-actions></md-card></div></div><br><div class=\\\"center-block text-center\\\"><div ng-show=\\\"vm.busy\\\"><i class=\\\"fa fa-spinner fa-spin\\\"></i> Cargando ms productos...</div></div></div>\");\n$templateCache.put(\"app/proveedor/proveedor.view.html\",\"<div class=\\\"container\\\" ng-controller=\\\"ContactController\\\"><div class=\\\"panel-mara col-md-6\\\" md-theme=\\\"custom\\\"><h3>Quieres ser un revendedor?</h3><h3>Envanos tu informacin </h3><br><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>Nombre</label> <input class=\\\"form-control\\\" ng-model=\\\"contact.name\\\"></md-input-container></div><br><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>Correo</label> <input class=\\\"form-control\\\" ng-model=\\\"contact.email\\\"></md-input-container></div><br><div class=\\\"form-group\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm=\\\"\\\"><label>Mensaje</label> <input class=\\\"form-control\\\" ng-model=\\\"contact.message\\\"></md-input-container></div><br><md-button class=\\\"md-raised md-primary\\\" ng-disabled=\\\"loading\\\" ng-click=\\\"sendMessage()\\\"><span ng-show=\\\"!loading\\\">Enviar</span><i class=\\\"fa fa-spinner fa-spin\\\" ng-show=\\\"loading\\\"></i></md-button><p ng-show=\\\"delivered\\\">Mensaje Enviado!</p></div></div>\");\n$templateCache.put(\"app/components/footer/footer.html\",\"<md-divider class=\\\"max-top\\\"></md-divider><div layout=\\\"row\\\"></div><div class=\\\"footer-bottom footer-color special-font-color\\\"><div class=\\\"container\\\"><div class=\\\"col-md-4\\\"><h4 class=\\\"sub\\\">{{vm.footer.title}}</h4><p>{{vm.footer.description}}</p><span><img ng-if=\\\"vm.footer.fttechApplicationName\\\" src=\\\"assets/images/bancoNacional.png\\\" class=\\\"card-logo\\\"> <img ng-if=\\\"vm.footer.bacKeyId\\\" src=\\\"assets/images/bacSanJose.png\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/correosDeCostaRica.png\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/visa.svg\\\" class=\\\"card-logo\\\"> <img src=\\\"assets/images/mastercard.svg\\\" class=\\\"card-logo\\\"></span></div><div class=\\\"col-md-4\\\"></div><div class=\\\"col-md-4\\\"><h4 class=\\\"sub\\\" style=\\\"overflow-wrap: break-word;\\\">Contctenos</h4><p ng-repeat=\\\"info in vm.footer.contactInfo\\\"><a ng-if=\\\"info.type == \\'email\\'\\\" href=\\\"mailTo:{{info.value}}\\\" class=\\\"special-font-color\\\" style=\\\"overflow-wrap: break-word;\\\"><i class=\\\"fa fa-envelope\\\" aria-hidden=\\\"true\\\"></i> {{info.value}}</a><a ng-if=\\\"info.type == \\'phone\\'\\\" href=\\\"tel:{{info.value}}\\\" class=\\\"special-font-color\\\"><i class=\\\"fa fa-phone\\\" aria-hidden=\\\"true\\\"></i> {{info.value}}</a><a ng-if=\\\"info.type == \\'address\\'\\\" href=\\\"http://maps.google.com/?q={{info.value}}\\\" target=\\\"_blank\\\" class=\\\"special-font-color\\\"><i class=\\\"fa fa-map-marker\\\" aria-hidden=\\\"true\\\"></i> {{info.value}}</a></p></div></div><br></div>\");\n$templateCache.put(\"app/components/footer/privacyPolicy.html\",\"<div layout=\\\"row\\\"><div flex=\\\"\\\"></div><div flex=\\\"70\\\" style=\\\"text-align:justify\\\"><strong>1. Tu aceptacin</strong><br>Blume Software le prest servicio de acuerdo con estos trminos, que se puede actualizar cada cierto tiempo sin necesidad de notificrselo. Estos Trminos constituyen un acuerdo vinculante entre Blume Software y el usuario (usted) que rige el uso del Sitio web. Al utilizar y/o visitar el Sitio web www.demo.madebyblume.com, ratificas que aceptas estos Trminos de Privacidad de Blume Software. Solamente ests autorizado para usar el Sitio web si aceptas cumplir con todas las leyes pertinentes, relacionadas de tu pas y de la Repblica de Costa Rica y con estos Trminos. Lee atentamente estos Trminos. Si no ests de acuerdo con ellos, no ingreses, ni utilices el Sitio Web.<br><strong>2. Acceso al Sitio web</strong><br>Por medio del presente, Blume Software te otorga permiso para usar el Sitio web de acuerdo con las disposiciones de estos Trminos, siempre que: (i) el uso que se haga del Sitio web sea de la forma permitida y exclusivamente para su uso personal, no comercial; (ii) no se permite copiar ni distribuir ninguna parte del Sitio web en cualquier medio sin la autorizacin previa por escrito de Blume Software; (iii) no se permite alterar ni modificar ninguna parte del Sitio web de una forma que no sea estrictamente necesaria para el uso previsto y normal del mismo y (iv) se cumpla con los Trminos y condiciones de estos Trminos. Para acceder a algunas funciones del Sitio web, se tendr que crear una cuenta. No se podr usar la cuenta de otro usuario sin permiso. Al crear su cuenta, debers suministrar informacin veraz, exacta y completa. Eres responsable de cualquier actividad que se realice con su cuenta, y se compromete a mantener su contrasea de forma confidencial. Puede cambiar su contrasea en cualquier momento al actualizar su pgina de Perfil de cuenta. Adems, acepta comunicar de inmediato a Blume Software acerca de cualquier uso no autorizado de su contrasea o cuenta o de cualquier otra violacin de seguridad. Blume Software no puede ser y no ser responsable por prdidas o daos que surjan del incumplimiento con esta Seccin 2.<br>Para efectuar cualquier transaccin comercial mediante Ecommerce deber haber llenado sus datos en el Sitio Web. Al ingresar tus datos para una compra en el www.madebyblume.com, declaras que eres mayor de edad para crear un contrato vinculante y que no eres una persona a quien la ley prohbe usar el Sitio web www.madebyblume.com. Aceptas suministrar informacin verdadera, exacta, actual y completa sobre usted en todos los campos obligatorios del formulario de registro. Si alguna otra informacin cambia, acepta actualizar su informacin de registro tan pronto como sea posible. Si Blume Software sospecha que su informacin de registro no es verz, completa, actual o exacta, o que de algn otro modo has infringido estos Trminos, tu cuenta puede estar sujeta a suspensin, y se le puede prohibir el uso del Sitio web www.madebyblume.com. Aceptas no usar ni lanzar un sistema automatizado, incluso, pero sin limitarse a ello, \\\"robots\\\", \\\"spiders\\\" o dispositivos o programas tecnolgicos similares, que ingresen al Sitio web de una manera que enve ms mensajes de solicitud a los servidores de www.madebyblume.com en un perodo determinado de lo que un humano podra producir razonablemente en el mismo perodo mediante el uso de un explorador web en lnea tradicional. No obstante lo anterior, Blume Software otorga a los operadores de motores de bsqueda pblicos permiso para usar araas para copiar materiales del Sitio web con el exclusivo fin de crear ndices de materiales de bsqueda disponibles para el pblico, pero no cachs ni archivos de dichos materiales. Blume Software se reserva el derecho de revocar estas excepciones en forma generalizada o en casos especficos, a su exclusivo criterio.<br>Aceptas no recopilar ni usar informacin identificable personalmente (\\\"Informacin personal\\\"), incluso, pero sin limitarse a ello, nombres de cuentas, direcciones de correo electrnico u otros envos de usuarios (segn se describe ms adelante), del Sitio web, ni usar los sistemas de comunicacin proporcionados por el Sitio web para fines de solicitudes comerciales, incluso, entre otros, realizar solicitudes, para fines comerciales, a cualquier usuario del Sitio web.<br>Al visitar nuestro sitio www.madebyblume.com, enviarnos e-mails o al ingresar sus datos en www.madebyblume.com, usted est comunicndose con nosotros electrnicamente. Por lo tanto usted acepta recibir de nuestra parte comunicados electrnicos, ya sea que estos se hagan a travs de correos electrnicos o avisos colocados en www.madebyblume.com. Por lo tanto usted acepta que todo comunicado de nuestra parte est dentro de la legalidad y no constituyen spam. Sin embargo Blume Software se reserva el derecho de comunicarse con usted por cualquier va posible.<br><strong>3. El Sitio web www.madebyblume.com</strong><br>Estos Trminos se aplican a todos los usuarios del Sitio web, incluidos usuarios que aportan informacin, ideas y otros materiales o servicios en el Sitio web, as como a aquellas personas que accedan al mismo. El Sitio web puede contener vnculos a sitios web de terceros que no son de propiedad de Blume Software ni controlados por ste. Blume Software no tiene control sobre el contenido, las polticas de privacidad o prcticas de sitios web de terceros, y no asume ninguna responsabilidad por ellos. Al usar el Sitio web, libera especficamente a Blume Software de toda responsabilidad derivada del uso del sitio web del tercero. Sobre los derechos de autor Blume Software exige que el contenido en este sitio tales como logos, textos, grficos, conos, imgenes, audios, descargas digitales, informacin de usuarios, es propiedad de Blume Software. No est permitido ni autorizado, el uso de ningn contenido digital de Blume Software en lnea, en otro sitio, salvo autorizacin por escrito de Blume Software. Usted no puede utilizar ningn contenido digital de este sitio para hacer similares que causen confusin a otros usuarios o bien que desacrediten o menosprecien a Blume Software, ni registrar a su nombre ningn contenido digital de este sitio. Otras marcas que no sean propiedad de Blume Software y que aparecen en este sitio son propiedad de sus respectivos dueos, que pueden o no tener ningn tipo de relacin con Blume Software.<br><strong>4. Poltica de privacidad de www.madebyblume.com</strong><br>Blume Software reconoce que sus clientes, visitas, usuarios y otros (denominados en conjunto o individualmente, \\\"Usuarios\\\") que utilizan www.madebyblume.com (de aqu en adelante, el \\\"Sitio web\\\") valoran su privacidad. Esta Poltica de privacidad incluye informacin importante acerca del uso y la divulgacin de informacin del usuario recopilada en el Sitio web y es de aplicacin para intercambio de los usuarios con www.madebyblume.com. La informacin personal que se suministre en el sitio web estar sujeta a los trminos de esta Poltica de privacidad.<br>La Poltica de privacidad de www.madebyblume.com se aplica nicamente al Sitio web propiedad y operado por www.madebyblume.com. Si bien es posible que se muestren otros Sitios web como vnculos desde www.madebyblume.com, dichos sitios son propiedad y operados por terceros, y pueden tener polticas de privacidad diferentes.<br>Blume Software puede utilizar empresas de publicidad externas para publicar o hacer un seguimiento de anuncios en el Sitio web y de otros sitios web. Estas empresas pueden utilizar informacin sobre sus visitas a este y otros sitios web para medir la efectividad de la publicidad y publicar avisos sobre productos y servicios que pueden ser de su inters. En ningn momento estarn autorizadas para utilizar su nombre, su direccin, su direccin de correo electrnico o su nmero de telfono).<br><strong>4.1. Recopilacin y uso de informacin General</strong><br>Blume Software no requiere que se ingrese sus datos para ver los productos o los comentarios de los usuarios. Ingresar los datos es necesario para usar algunas funciones interactivas, como comprar producto.<br>Blume Software recopila informacin personal cuando se ingresa la informacin en www.madebyblume.com cuando se visita el Sitio web, cuando se hace una compra o en cualquier momento en que se suministre informacin sobre usted a www.madebyblume.com. Blume Software puede combinar informacin que tengamos sobre usted con informacin que obtengamos de socios comerciales u otras empresas.<br>Blume Software recibe y registra automticamente otra informacin no identificable personalmente (\\\"Informacin no personal\\\") en nuestros registros del servidor de tu explorador incluso si no ingresa sus datos en www.madebyblume.com, por ejemplo, su direccin IP, informacin de cookies de www.madebyblume.com y las pginas que visitas. Blume Software utiliza informacin no personal para los siguientes fines no generales: personalizar la publicidad y el contenido que ves, mejorar nuestros servicios, realizar investigaciones y proporcionar informes annimos para clientes internos y externos. Ingreso de datos: Para realizer compras en este Sitio web, te solicitamos cierta informacin identificable personalmente en el formulario de compra. Durante la compra, tienes que suministrar informacin de contacto (como nombre, direccin de correo electrnico, telfono, direccin fsica, etc.). Utilizamos esta informacin para comunicarnos de forma personalizada contigo acerca de los servicios en nuestro sitio en los que has expresado inters. Cuando te registras en www.madebyblume.com y te inscribes para nuestros servicios, ya tienes identidad para nosotros.<br>Blume Software es el propietario exclusivo de la informacin recopilada en www.madebyblume.com.<br>Blume Software recopila informacin identificable personalmente de nuestros usuarios en diferentes puntos de nuestro Sitio web.<br>Pedidos: Si compras un producto o un servicio, solicitamos alguna informacin identificable personalmente sobre ti en nuestro formulario de pedido. Debes proporcionar informacin de contacto (como nombre, correo electrnico y direccin de envo) e informacin financiera (como nmero de tarjeta de crdito, fecha de vencimiento y el cdigo de seguridad de 3 dgitos). Utilizamos esta informacin para fines de administracin y facturacin y para poder procesar y enviar tus pedidos. Si tenemos problemas para procesar un pedido, utilizaremos esta informacin para comunicarnos contigo. Eleccin/exclusin: Te ofrecemos la oportunidad de excluirte de que tu informacin identificable personalmente se use para determinados fines, cuando pedimos esta informacin. Por ejemplo, si nos compras un producto o un servicio, pero no deseas que te enviemos material de mercadeo adicional, puedes indicar tu preferencia al correo electrnico info@madebyblume.com.<br>Si ya no deseas recibir nuestro boletn y comunicaciones de promocin, puedes excluirte de recibirlos si sigues las instrucciones que se incluyen en cada boletn o comunicacin, o nos envas un correo electrnico a info@madebyblume.com.<br>Te notificaremos cuando un tercero que no sea nuestro agente/proveedor de servicios recopile informacin identificable personalmente, para que puedas tomar una decisin informada respecto de compartir o no tu informacin con ese tercero.<br>Nios menores de 12 aos de edad:<br>El compromiso de www.madebyblume.com es proteger la privacidad de los nios. www.madebyblume.com no recopila, a sabiendas o en forma intencional, informacin personal en lnea de nios menores de 12 aos de edad.<br><strong>4. 2. Intercambio y divulgacin de informacin</strong><br>Blume Software no alquila, transa ni comparte informacin personal con terceros, salvo para proporcionar productos o servicios que has solicitado, si tenemos tu permiso o bajo las siguientes circunstancias:<br>Utilizamos los servicios de terceros, como empresas de transporte, para enviar pedidos, empresas de procesamiento de tarjetas de crdito para facturar los productos que se venden en nuestro sitio web y proveedores de servicio de correo electrnico para enviar correos en nuestra representacin. Cuando haces una compra en nuestro sitio web o te inscribes para nuestra lista de correos electrnicos, compartiremos la menor cantidad necesaria de informacin identificable personalmente conforme sea necesario para que el tercero preste dicho servicio, incluido tu nombre, direccin, informacin de tarjeta de crdito y direccin de correo electrnico. Se prohbe a estos terceros usar tu informacin identificable personalmente para fines de promocin u otros que no sean expresamente autorizados.<br>Suministramos Informacin no personal a terceros interesados para comprender los patrones de uso de cierto contenido, servicios, anuncios, promociones y/o funcionalidad en el Sitio web.<br>Utilizamos Informacin personal y cierta Informacin no personal para mejorar la calidad y el diseo del Sitio web y para crear funciones, promociones, funcionalidad y servicios al almacenar, hacer un seguimiento y analizar las preferencias y tendencias de los Usuarios.<br>Nos reservamos el derecho de divulgar tu informacin identificable personalmente segn lo exigido por la ley y si creemos que dicha divulgacin es necesaria para proteger nuestros derechos y/o cumplir con un procedimiento judicial o proceso legal notificado en nuestro Sitio web. Podemos compartir informacin personal si creemos que es necesario para investigar, evitar o tomar medidas respecto de actividades ilegales, presunto fraude, situaciones que implican posibles amenazas para la seguridad fsica de cualquier persona, infracciones a los Trminos de www.madebyblume.com o de cualquier otro modo exigido por la ley. En caso de que Blume Software experimente una transaccin comercial, como una fusin, adquisicin por parte de otra empresa o la venta de la totalidad o una parte de sus activos, es probable que tu informacin identificable personalmente se encuentre dentro de los activos transferidos. Se procurar notificar por correo electrnico si se produce un cambio en la propiedad o el control de tu informacin personal.<br>Recuerda que cualquier informacin personal, o comentarios que divulgues voluntariamente en el Sitio web, por ejemplo, en las pginas de comentarios o en los foros del blog, pasa a ser de conocimiento pblico. Tu nombre de cuenta se muestra a otros Usuarios cuando envas y/o publicas mensajes a travs de nuestro Sitio web. Cabe sealar que cualquier comentario o contenido que publiques o enves al Sitio web pasa a ser contenido publicado y no se considera informacin identificable personalmente sujeta a esta Poltica de privacidad. Otras personas y organizaciones no relacionadas con www.madebyblume.com, ni controladas por sta, vern tus mensajes y otra informacin que pongas a disposicin en reas pblicas del sitio web www.madebyblume.com, y pueden ser utilizados por otros para ponerse en contacto contigo.<br>Publicamos noticias y/o eventos de los clientes en nuestro sitio web que pueden contener informacin identificable personalmente. Obtenemos el consentimiento del cliente por correo electrnico antes de publicar noticias y/o eventos para publicar su nombre junto con las noticias y/o eventos. <strong>4. 3. Cookies y GIF transparentes</strong><br>Una cookie es un pequeo archivo de texto que se almacena en la computadora de un usuario para fines de mantenimiento de registros. En este sitio utilizamos cookies y vinculamos la informacin que almacenamos en las cookies con cualquier informacin identificable personalmente.<br>Utilizamos cookies de ID de sesin y cookies persistentes. Utilizamos cookies de sesin para facilitarte la navegacin en nuestro sitio. Una cookie de ID de sesin vence cuando cierras tu explorador. Una cookie persistente contina en tu disco duro por un perodo prolongado. Puedes eliminar las cookies persistentes de acuerdo con las instrucciones del archivo de ayuda del explorador de Internet.<br>Establecemos una cookie persistente para almacenar tus contraseas, de modo que no tienes que ingresarla ms de una vez. Las cookies persistentes tambin nos permiten hacer un seguimiento y centrarnos en los intereses de nuestros usuarios para mejorar la experiencia en nuestro sitio.<br>Si rechazas las cookies, igualmente podrs usar nuestro sitio, pero tu capacidad para usar algunas reas, como el carrito de compras y las pginas de calificacin de diseos, ser limitada.<br>www.madebyblume.com utiliza tecnologa de seguimiento para entender mejor los patrones de trfico y el uso del sitio. No obstante, ninguna informacin recopilada mediante la tecnologa de seguimiento es informacin identificable personalmente.<br>El uso de cookies por parte de nuestros socios, filiales o empresa de servicio de seguimiento no se cubre en nuestra declaracin de privacidad. No tenemos acceso ni control sobre estas cookies. Nuestros socios, filiales, empresa de servicio de seguimiento y proveedores de servicio utilizan cookies de ID de sesin para facilitar tu navegacin en nuestro sitio, para que utilices el carrito, etc.<br>Si haces clic en un vnculo al sitio de un tercero, incluido un anuncio, abandonars www.madebyblume.com y te dirigirs al sitio que has seleccionado. Dado que no podemos controlar las actividades de terceros, no podemos aceptar la responsabilidad que dichos terceros hagan de tu informacin identificable personalmente, y no podemos garantizar que cumplan con las mismas prcticas de privacidad que www.madebyblume.com. Te incentivamos a revisar las declaraciones de privacidad de cualquier otro proveedor de servicios al que solicites servicios.<br>Nuestro socio de publicidad externo utiliza una tecnologa de software llamada GIF transparentes (tambin conocidos como pxel nico/Web Bugs), que nos permiten administrar mejor el contenido de nuestro sitio al informarnos qu contenido es efectivo. Los GIF transparentes son grficos diminutos con un identificador nico, con una funcin similar a las cookies, y se utilizan para hacer un seguimiento de los movimientos en lnea de los usuarios de la Web. A diferencia de las cookies, que se almacenan en la unidad de disco duro de la computadora de un usuario, los GIF transparentes se incorporan en forma invisible en las pginas web y su tamao es aproximadamente igual al punto al final de esta oracin. No vinculamos la informacin recopilada por los GIF transparentes con la informacin identificable personalmente de nuestros clientes.<br>www.madebyblume.com puede utilizar GIF transparentes en relacin con los correos electrnicos que se envan a usuarios de www.madebyblume.com, para saber si y cundo se abri el correo electrnico. No se transmite informacin personal a travs de los GIF transparentes.<br><strong>4. 4. Confidencialidad y seguridad</strong><br>Seguimos las normas industriales generalmente aceptadas para proteger la informacin identificable personalmente que nos envan, tanto durante la transmisin como una vez que la recibimos. Sin embargo, ningn mtodo de transmisin por Internet, o mtodo de almacenamiento electrnico, es 100% seguro. En consecuencia, si bien nos esforzamos por utilizar medios comercialmente aceptables para proteger tu informacin personal, no podemos garantizar su seguridad absoluta. Si tienes alguna pregunta acerca de la seguridad en nuestro Sitio web, puedes enviarnos un correo electrnico a info@madebyblume.com. Limitamos el acceso a Informacin personal acerca de ti a los empleados que creemos tienen una necesidad razonable de conocerla para proporcionarte productos o servicios o para hacer sus trabajos.<br>La seguridad de tu informacin personal es importante para nosotros. Cuando ingresas informacin delicada (como un nmero de tarjeta de crdito) en nuestros formularios de registro o pedido, ciframos esa informacin por medio de la tecnologa de protocolo de seguridad (SSL). <strong>4. 5. Tu capacidad para editar y eliminar informacin de tu cuenta</strong><br>Si tu informacin identificable personalmente cambia, o si ya no deseas mantener una cuenta en madebyblume.com, puedes corregirla, actualizarla, enmendarla, eliminarla o desactivarla efectuando los cambios deseados en la pgina de perfil de la cuenta o enviando un correo electrnico a nuestra asistencia al cliente, info@madebyblume.com<br><strong>4. 6. Usuarios internacionales</strong> Si eres un Usuario que accede a nuestro Sitio web desde Centroamrica, Estados Unidos de Norte Amrica, Unin Europea, Asia o cualquier otra regin con leyes o reglamentaciones que rigen la recopilacin, el uso y la divulgacin de informacin personal, que sean diferentes a las leyes de Costa Rica, te informamos que a travs de tu uso del Sitio web, se rige por les leyes costarricenses y esta Poltica de privacidad conforme se establece en nuestros Trminos de uso. Queremos informarte que transferirs tu Informacin personal a Costa Rica y con la lectura de estos trminos entendemos que aceptas dicha transferencia.<br><strong>4. 7. Cambios y actualizaciones a esta Poltica de privacidad</strong><br>www.madebyblume.com puede actualizar esta poltica en cualquier momento a su exclusivo criterio y sin previo aviso. Haremos lo posible por notificarte cualquier cambio importante en la forma en que tratamos la Informacin personal mediante el envo de un aviso a la direccin de correo electrnico principal especificada en tu cuenta www.madebyblume.com y/o la publicacin de un aviso en el Sitio web. Si decidimos cambiar nuestra poltica de privacidad, publicaremos los cambios en esta declaracin de privacidad, la pgina de inicio y otros lugares que consideremos apropiados para que sepas qu informacin recopilamos, cmo la usamos y en qu circunstancias, si ocurrieran, la divulgamos.<br>Nos reservamos el derecho de modificar esta declaracin de privacidad en cualquier momento, as que revsala en forma peridica. Si efectuamos cambios en esta poltica, te notificaremos aqu, por correo electrnico o mediante un aviso en nuestra pgina de inicio.<br><strong>5. Derechos de propiedad intelectual</strong><br>El contenido del Sitio web, salvo todos los envos de usuarios (segn se define ms adelante), incluso, pero sin limitarse a ello, el texto, los grficos y las fotografas creadas por y para Blume Software con ocasin, por o para el Sitio web , funciones interactivas (\\\"Contenido\\\") y signos distintivos, dentro de estos pero no limitados a las marcas comerciales, marcas de servicio, logotipos, isotipos, seales de propaganda que aqu se incluyen (\\\"Marcas\\\"), son de propiedad o se han otorgado bajo licencia a Blume Software, sujeto a derechos de propiedad industrial e intelectual en virtud de las leyes de Costa Rica y a legislacin extranjera aplicable y a diferentes tratados y convenciones internacionales. El contenido del Sitio web se proporciona solamente para su informacin y uso personal, y no se puede utilizar, copiar, distribuir, transmitir, mostrar, vender, otorgar bajo licencia, almacenar o explotar para cualquier fin sin el consentimiento previo por escrito de Blume Software o conforme se estipule expresamente en estos Trminosen cualquier medio actualmente conocido o que se desarrolle en el futuro. Blume Software se reserva todos los derechos no concedidos expresamente en y al Sitio web y el Contenido que contiene.<br>Aceptas no participar en el uso, copia, transmisin, distribucin, o almacenamiento, de cualquier Contenido que no sea el que se permite expresamente aqu, incluido cualquier uso, copia, transmisin y distribucin de envos de usuarios (segn se define ms adelante) de terceros obtenidas a travs del Sitio web para fines comerciales. Si descargas o imprimes una copia del Contenido para uso personal, debes guardar todos los avisos de derechos de autor y de propiedad de ste aceptando y asumiendo cualquier responsabilidad derivada de manera directa o indirecta, culpable o no de cualquier uso indebido. Aceptas no ajustar, deshabilitar o interferir de modo alguno con las funciones relacionadas con la seguridad del Sitio web o las funciones que impiden o restringen el uso o copia de cualquier Contenido o imponer limitaciones al uso del Sitio web o su Contenido. Blume Software respeta la propiedad intelectual de los dems, y pedimos a nuestros usuarios que hagan lo mismo. Si se cree que su trabajo ha sido copiado o publicado en el Sitio web de una forma que constituye una violacin a los derechos de propiedad intelectual y/o industrial, tendr que enviar una comunicacin escrita que incluya bsicamente lo siguiente: Una firma fsica o electrnica de una persona para actuar en representacin del propietario de un derecho exclusivo que supuestamente se ha infringido. Identificacin del trabajo protegido que se argumenta que ha sido violado, o, si varios trabajos protegidos por derechos de autor en un solo sitio web lnea estn cubiertos por una sola notificacin, una lista representativa de dichos trabajos en ese sitio.<br>Identificacin del material que supuestamente est en violacin o que es sujeto de una actividad de incumplimiento y que se eliminar o cuyo acceso se deshabilitar, e informacin razonablemente suficiente para permitir que el proveedor de servicio ubique el material. Proporcionar URL en el cuerpo de un correo electrnico es la mejor manera de ayudarnos a ubicar contenido rpidamente.<br>Informacin razonablemente suficiente para permitir que el proveedor de servicios se comunique con la parte demandante, como direccin, nmero de telfono y si la hay, direccin de correo electrnico en la que se pueda contactar a la parte demandante.<br>Una declaracin de que la parte demandante cree de buena fe que el uso del material de la manera argumentada no est autorizada por el propietario del derecho intelectual, su agente o la ley.<br>Una declaracin que estipule que la informacin en la notificacin es exacta y so pena de condena por falso testimonio, que la parte demandante est autorizada para actuar en representacin del propietario de un derecho exclusivo que supuestamente se ha infringido.<br>Dicha notificacin por escrito se debe enviar a nuestro agente designado a la siguiente direccin: Correo electrnico: info@madebyblume.com Cabe sealar tambin que en virtud de cualquier persona que exprese falsamente en forma intencional que el material o la actividad estn en violacin estar sujeta a responsabilidad civil.<br><strong>6. Concursos de diseo de usuarios</strong> La naturaleza interactiva de las publicaciones en www.madebyblume.com hace imposible que se asuma la responsabilidad de los materiales publicados por los usuarios. Las ideas, sugerencias, opiniones, comentarios y observaciones efectuadas por los usuarios de www.mabebyblume.com, y cualquier texto, dato, fotografa, video, msica, sonido, conversacin, mensaje, archivo u otro material que los usuarios nos proporcionen (denominado en el presente acuerdo \\\"Diseo en competencia\\\") no son avalados por Blume Software, y no garantizamos la confiabilidad, exactitud o calidad de los diseos en competencia publicados en el Sitio web. Aceptas y aseguras que evaluars y asumirs los riesgos relacionados con el uso de cualquier diseo en competencia, incluida la dependencia respecto a la originalidad, exactitud, integridad o utilidad de dicho diseo en competencia. Todos los diseos en competencia publicados en el Sitio web son de exclusiva responsabilidad de la persona que originalmente la ha publicado. Los daos que pudieran surgir como consecuencia de los diseos en competencia sern exclusiva responsabilidad del individuo que lo public.<br><strong>7. Normas de conducta</strong> Las siguientes normas de conducta se aplican al uso del Sitio web y a todos los materiales que se publiquen en www.madebyblume.com, incluidos pero no limitados a texto, grficos, contenido de audio o video, msica, sonido, conversacin, mensajes, archivos u otro material (conocidos en conjunto como Diseos en competencia), ya sea que el diseo en competencia se incluya en blogs, grupos de debate, correos electrnicos, perfiles, comentarios o cualquier otra parte o funcin de www.madebyblume.com. En relacin con el Sitio web, no es permitido violentar la legislacin de tu pas, ni la de la Repblica de Costa Rica, los buenos usos, ni las costumbres comnmente aceptadas. En especfico se prohbe expresamente cargar, publicar, enviar por correo electrnico o transmitir un diseo en competencia que sea calumnioso, ofensivo para un grupo o una persona en particular, difamatorio, pornogrfico, sexualmente explcito, ilegal o plagiado.<br>Infrinja o viole cualquier patente, derecho de autor, signo distintivo, diseo industrial, secreto comercial o cualquier derecho de propiedad industrial o intelectual<br>Violente una obligacin de confidencialidad por la que est obligado debido a una relacin contractual o fiduciaria (como informacin interna confidencial o informacin patentada y confidencial adquirida o divulgada como parte de relaciones laborales o en virtud de acuerdos de confidencialidad)<br>Razonablemente pudiera considerar de naturaleza acosadora, abusiva, amenazante, daina, vulgar, profana, obscena, excesivamente violenta, o bien, objetable en trminos raciales, tnicos o de otro tipo u ofensiva<br>Constituyan actos de acoso, buliying o matonismo en contra de grupos o individuos<br>Violenten derechos de imagen, de privacidad o de publicidad de una persona, una declaracin falsa de hechos o expresiones de odio<br>Infrinjan o insten a otros a infringir leyes, estatutos, ordenanzas o reglamentaciones vigentes<br>Contenga virus, caballos de Troya, gusanos, bombas de tiempo, canceladores de correo (cancelboots) u otras rutinas de programacin perjudiciales similares.<br>No es permitido, salvo previa autorizacin expresa de Blume Software o en un rea especialmente designada, usar el Sitio web para:<br>Cargar, publicar, enviar por correo electrnico o transmitir un diseo en competencia de usuario que proporcione nmeros de telfono, direcciones, apellidos, URL o direcciones de correo electrnico<br>Participar en actividades comerciales en www.madebyblume.com<br>Daar a menores de forma alguna;<br>Solicitar informacin personal a personas menores de 18 aos de edad;<br>Proporcionar informacin falsa o engaosa;<br>Usar contenido de www.madebyblume.com para participar en actividades comerciales;<br>Eliminar, agregar o cambiar las entradas de otras personas u otro contenido si no se han otorgado privilegios para hacerlo<br>Permitir el uso por parte de otros de una forma que infrinja los Trminosde www.madebyblume.com<br><strong>8. Modificaciones al Sitio web</strong><br>Blume Software se reserva el derecho, en cualquier momento y cada cierto tiempo, de modificar o interrumpir, en forma temporal o permanente, el Sitio web (o una parte del mismo) con o sin previo aviso. Blume Software no se hace responsable ante el usuario o cualquier tercero por la modificacin, suspensin o interrupcin del Sitio web.<br><strong>9. Trmino</strong><br>Blume Software puede, en ciertos casos y sin previo aviso, terminar inmediatamente tu cuenta en www.madebyblume.com y acceso al Sitio web y cualquier otro servicio de Blume Software. Las causas para dicho trmino incluyen, entre otras: (a) infracciones o violaciones de los Trminos de uso, otros acuerdos incorporados o pautas; (b) solicitudes de autoridades legales u otros organismo gubernamentales; (c) una solicitud tuya (eliminaciones de cuenta auto-inducidas); (d) interrupcin o modificacin sustancial al Sitio web (o una parte del mismo; (e) problemas tcnicos o de seguridad inesperados; (f) perodos de inactividad prolongados; (g) tu participacin en actividades fraudulentas o ilegales y/o (h) no pago de honorarios que adeudes en relacin con el Sitio web u otro producto de Blume Software. El trmino de cuenta Blume Software incluye: (a) eliminacin del acceso a todas las pginas del Sitio web; (b) eliminacin de contrasea y toda la informacin, los archivos y los materiales relacionados, incluso diseos en competencia de usuarios asociados con o dentro de tu cuenta (o una parte de ella y (c) prohibicin de uso futuro del Sitio web. Asimismo, acepta que todos los trminos justificados se realizarn a exclusivo criterio de Blume Software y que Blume Software no ser responsable ante su persona o terceros por el trmino de su cuenta, cualquier direccin de correo electrnico asociada o acceso al Sitio web.<br><strong>10. Exclusin de garantas</strong><br>Blume Software no hace declaraciones ni garantas de ningn tipo respecto de la exactitud o integridad del contenido del sitio web o el contenido de los sitios vinculados a este sitio y no asume responsabilidad alguna por (i) errores o inexactitudes de contenido, (ii) lesiones personales o daos a la propiedad, de cualquier naturaleza que estas fueren, derivadas de tu acceso al sitio web y su uso, (iii) cualquier acceso no autorizado o uso de nuestro servidores seguros y/o cualquier informacin personal almacenada en l, (iv) cualquier interrupcin o cese de transmisin hacia y desde el sitio web, (iv) cualquier bug, virus, caballo de Troya o similares que un tercero pueda transmitir hacia o a travs del sitio web y/o (v) cualquier error u omisin en el contenido o por cualquier prdida o dao incurrido como consecuencia del uso de contenido publicado, enviado por correo electrnico, transmitido o disponible a travs del sitio web. Blume Software no garantiza, avala ni asume responsabilidad alguna por sitios web hipervinculados u otra promocin, y Blume Software no ser parte ni responsable de manera alguna por la supervisin de cualquier transaccin entre t y proveedores externos de productos o servicios. Ningn consejo o informacin, oral o escrito, que obtengas en Blume Software o a travs o desde el servicio, crear una garanta que no est expresamente estipulada en los Trminos al igual que con la compra de un producto o servicio a travs de cualquier medio o en cualquier entorno, debe usar su mejor juicio y tener precaucin cuando sea pertinente.<br><strong>11. Limitacin de responsabilidad</strong><br>En ningn caso, Blume Software, o cualquier casa matriz, subsidiaria, filial, director, funcionario, empleado, licenciador, distribuidor, proveedor, agente, revendedor, propietario u operador de Blume Software ser responsable ante el usuario por daos directos, indirectos, incidentales, especiales, punitivos o emergentes de cualquier manera que sean consecuencia de (i) errores o inexactitudes de contenido, (ii) lesiones personales o daos a la propiedad, de cualquier naturaleza que estas fueren, derivadas de tu acceso al sitio web y su uso, (iii) cualquier acceso no autorizado o uso de nuestro servidores seguros y/o cualquier informacin personal almacenada en l, (iv) cualquier interrupcin o cese de transmisin hacia y desde el sitio web, (iv) cualquier bug, virus, caballo de troya o similares que un tercero pueda transmitir hacia o a travs del sitio web y/o (v) cualquier error u omisin en el contenido o por cualquier prdida o dao incurrido como consecuencia del uso de contenido publicado, enviado por correo electrnico, transmitido o disponible a travs del sitio web. La limitacin de responsabilidad anterior se aplicar en la mxima medida permitida por al ley en la jurisdiccin pertinente. Manifiestas especficamente que entiendes que Blume Software no ser responsable por diseos en competencia o cualquier conducta difamatoria, ofensiva o ilegal de terceros y que el riesgo de lesin o dao de lo anterior es de exclusiva responsabilidad del usuario. Blume Software controla y ofrece el Sitio web desde sus instalaciones en San Jos, Costa Rica. Blume Software no garantiza que el Sitio web sea adecuado o est disponible para uso en otros lugares. Las personas que accedan al Sitio web o lo utilicen desde otras jurisdicciones, lo hacen por voluntad propia y son responsables del cumplimiento con la ley local.<br><strong>12. Indemnizacin</strong><br>Aceptas defender, indemnizar y eximir de toda responsabilidad a Blume Software, y cualquier casa matriz, subsidiaria, filial, director, funcionario, empleado, licenciador, distribuidor, proveedor, agente, revendedor, propietario u operador de Blume Software, contra cualquier demanda, dao, obligacin, prdida, responsabilidad, costo o deuda y gasto (incluso, entre otros, honorarios de abogados) derivados de: (i) su uso y acceso al Sitio web; (ii) su violacin de cualquiera de estos Trminos; (iii) su violacin de cualquier derecho de terceros, incluso, pero sin limitarse a ello, derechos de autor, de propiedad o privacidad o (iv) cualquier reclamacin que argumente que tus diseos en competencia han causado dao a un tercero. Esta obligacin de defensa e indemnizacin continuar vigente luego de los Trminos del Sitio web.<br><strong>13. Capacidad para aceptar los Trminos</strong><br>Afirmas que eres mayor de 18 aos, y que posees consentimiento legal de sus padres o tutores, y eres completamente capaz y competente para aceptar los trminos, condiciones, obligaciones, afirmaciones, declaraciones y garantas estipuladas en estos Trminosy de cumplir con estos Trminos de uso. www.madebyblume.com no est diseado para nios menores de 12 aos. Si es menor de 12 aos, no utilices el Sitio web www.madebyblume.com.<br><strong>14. Cesin</strong><br>No es permitido ceder, transferir, delegar estos Trminos, o cualquier derecho y licencia otorgados en virtud del presente, pero Blume Software puede cederlos, transferirlos, delegarlos o sublicenciarlos sin restriccin. 15. Aviso de Derechos de Propiedad Intelectual<br>Todas las derechos de propiedad intelectual, dentro de estos pero no limitados a diseos industriales, patentes, derechos de autor y derechos conexos, signos distintivos como marcas, seales de propaganda, Isotipos, logotipos y otros, de www.madebyblume.com son de propiedad de Blume Software y no se pueden utilizar para ningn fin sin el permiso previo por escrito de Blume Software.<br><strong>16. General</strong><br>Si un tribunal de jurisdiccin competente considera alguna disposicin de estos Trminos invlida, la invalidez de dicha disposicin no afectar la validez de las otras disposiciones de estos Trminos, que continuarn en plena vigencia y vigor. Ninguna renuncia a un trmino de estos Trminos se considerar como una renuncia futura o continua a dicho trmino o cualquier otro trmino y si Blume Software no afirma ningn derecho o disposicin a tenor de estos Trminos, no constituir una renuncia a dicho derecho o disposicin. Blume Software se reserva el derecho de enmendar estos Trminos en cualquier momento a su exclusivo criterio y sin previo aviso, lo cual entrar en vigencia en forma posterior a su publicacin en el Sitio web. Es tu responsabilidad revisar estos Trminos para verificar si se han efectuado cambios. Tu uso del Sitio web despus de la enmienda de estos Trminos significar que aceptas sus trminos revisados.<br><strong>17. Violaciones a estos Trminos</strong><br>Al denunciar cualquier violacin a los Trminos, incluso diseos en competencia de usuarios o conductas objetables, a info@madebyblume.com. Indicando las razones de su inquietud y proporcionando el vnculo al o del usuario o, si corresponde, la conducta en cuestin. Una vez recibida una denuncia de una posible violacin, Blume Software, a su exclusivo criterio, puede investigar el asunto y tomar las medidas que estime pertinentes.<br>18. Actualizaciones de los Trminos<br>Trminos actualizados 24 de Febrero del 2015.<br></div><div flex=\\\"\\\"></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<div class=\\\"logo-bg-color\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><img ui-sref=\\\"home\\\" style=\\\"cursor: pointer\\\" class=\\\"principal-img\\\" ng-src=\\\"https://cms.blumewebsites.com/{{vm.navbar.logoUrl}}\\\"></div><div ng-cloak=\\\"\\\"><md-content><md-toolbar layout=\\\"row\\\" layout-align=\\\"center center\\\" class=\\\"\\\"><div class=\\\"navbar-color md-toolbar-tools shadow\\\"><md-button class=\\\"md-icon-button launch\\\" ng-click=\\\"toggleLeft()\\\" hide-gt-md=\\\"\\\"><i class=\\\"material-icons\\\">menu</i></md-button><span flex=\\\"\\\"></span><div hide-xs=\\\"\\\" ng-repeat=\\\"tab in vm.navbar.tabs\\\"><md-button ng-class=\\\"tab.name==\\'discounts\\' ? \\'discount-button\\' : \\'\\'\\\" ng-if=\\\"tab.name != \\'collections\\'\\\" ui-sref=\\\"{{tab.name}}\\\">{{tab.title}}</md-button><md-menu ng-if=\\\"tab.name == \\'collections\\'\\\" class=\\\"menu-bar\\\"><md-button ng-click=\\\"openMenu($mdOpenMenu, $event)\\\">{{tab.title}}<md-icon style=\\\"color:black\\\" class=\\\"material-icons principal-color md-48\\\">arrow_drop_down</md-icon></md-button><md-menu-content width=\\\"4\\\"><md-menu-item ng-if=\\\"collection.title != \\'\\'\\\" ng-repeat=\\\"collection in vm.collections\\\"><md-button ui-sref=\\\"collection({name: collection.title })\\\">{{collection.title}}</md-button></md-menu-item></md-menu-content></md-menu></div><md-button hide-xs=\\\"\\\" ng-if=\\\"vm.companyId==94\\\" ui-sref=\\\"cremacion\\\">Cremacin de Mascotas</md-button><md-button hide-xs=\\\"\\\" ng-if=\\\"vm.companyId==94\\\" ui-sref=\\\"preguntas\\\">Preguntas Frecuentes</md-button><md-button hide-xs=\\\"\\\" ng-if=\\\"vm.companyId==94\\\" ui-sref=\\\"proveedor\\\">Quers ser proveedor?</md-button><md-button ui-sref=\\\"checkout.summary\\\" class=\\\"md-icon-button\\\" aria-label=\\\"More\\\"><md-icon><i class=\\\"material-icons icon-color\\\">shopping_cart</i></md-icon></md-button><span class=\\\"badge black\\\">{{ vm.items }}</span> <span flex=\\\"\\\"></span></div></md-toolbar></md-content><section layout=\\\"row\\\" flex=\\\"\\\" ng-cloak=\\\"\\\"><md-sidenav class=\\\"md-sidenav-left md-whiteframe-z2\\\" md-component-id=\\\"left\\\"><md-toolbar class=\\\"center-block text-center\\\" ng-controller=\\\"LeftCtrl\\\"><span><img cla=\\\"\\\" style=\\\"max-width:50px;margin-top:0.5px;\\\" ss=\\\"img-responsive img-brand md-toolbar-tools principal\\\" ng-src=\\\"https://cms.blumewebsites.com/{{vm.navbar.logoUrl}}\\\"></span></md-toolbar><md-content><md-list ng-controller=\\\"LeftCtrl as vm\\\"><div ng-repeat=\\\"tab in vm.navbar.tabs\\\"><md-list-item ng-if=\\\"tab.name != \\'collections\\'\\\" ng-click=\\\"vm.goTo(tab.name)\\\"><p class=\\\"upper-text\\\">{{tab.title}}</p></md-list-item><md-list-item ng-if=\\\"tab.name == \\'collections\\'\\\"><p class=\\\"upper-text\\\">{{tab.title}}</p><md-menu class=\\\"md-secondary\\\"><md-button class=\\\"md-icon-button\\\"><md-icon><i class=\\\"material-icons icon-color\\\">keyboard_arrow_down</i></md-icon></md-button><md-menu-content width=\\\"4\\\"><md-menu-item ng-if=\\\"collection.title != \\'\\'\\\" ng-repeat=\\\"collection in vm.collections\\\"><md-button ng-click=\\\"vm.collection(collection.title)\\\">{{ collection.title }}</md-button></md-menu-item></md-menu-content></md-menu></md-list-item></div><md-list-item ng-if=\\\"vm.companyId==94\\\" ng-click=\\\"vm.cremacion()\\\" style=\\\"background-color:#e11000;color:white;\\\"><p class=\\\"upper-text\\\">Cremacin de Mascotas</p></md-list-item><md-list-item ng-if=\\\"vm.companyId==94\\\" ng-click=\\\"vm.preguntas()\\\" style=\\\"background-color:#e11000;color:white;\\\"><p class=\\\"upper-text\\\">Preguntas Frecuentes</p></md-list-item><md-list-item ng-if=\\\"vm.companyId==94\\\" ng-click=\\\"vm.proveedor()\\\" style=\\\"background-color:#e11000;color:white;\\\"><p class=\\\"upper-text\\\">Quers ser Proveedor?</p></md-list-item></md-list></md-content></md-sidenav></section></div>\");}]);"],"sourceRoot":"/source/"}